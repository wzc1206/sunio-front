(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[38],{1028:function(e,t,a){e.exports={"page-head":"style_page-head__1vdv7",link:"style_link__1gfSr","gradient-title":"style_gradient-title__UDoMs",animateTitle:"style_animateTitle__2zU_Z","dim-content":"style_dim-content__1LeiT",uppercase:"style_uppercase__Jhzo4","window-for-tabs-pane":"style_window-for-tabs-pane__3E-mr","dark-btn":"style_dark-btn__2vZ_n","purple-btn":"style_purple-btn__3V5jL","cur-input":"style_cur-input__2s9we","max-btn":"style_max-btn__32jEQ",setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_item:"style_setting_item__1VwnL",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw",flex_right:"style_flex_right__3aanL"}},1040:function(e,t,a){"use strict";var s=a(2),n=a(18),o=a(0),c=a(38),i=a(283),l=a(11),r=a.n(l),d=a(1055),p=a.n(d),b=a(137),u=a(81),m=a(7),j=a.n(m),g=a(4);const h=["showMax","onMaxClick","className","themes"],O=e=>{const{showMax:t,onMaxClick:a,className:o,themes:l}=e,d=Object(n.a)(e,h),m=Object(b.useCurrentThemeConfig)();return Object(g.jsx)(c.a,{theme:{token:Object(s.a)({colorBgContainer:m["color-input-bg"],colorBorder:"transparent",colorPrimaryHover:m["color-a"],colorText:m["color-text-default"],controlOutline:"none",colorIcon:m["color-text-default"],colorFillAlter:m["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:m["color-text-default"],colorBgContainerDisabled:Object(u.a)(m["color-input-bg"],.5),colorTextDisabled:Object(u.a)(m["color-text-default"],.5),colorTextPlaceholder:m["color-text-default-3"]},l)},children:Object(g.jsx)(i.a,Object(s.a)({className:r()("pure-comp",o),size:"large",suffix:t?Object(g.jsx)("span",{className:p.a.max_btn,onClick:()=>a&&a(),children:j.a.get("swap.input_from_max")}):null},d))})};t.a=Object(o.memo)(O)},1055:function(e,t,a){e.exports={"page-head":"style_page-head__3Df8R",link:"style_link__13CUf","gradient-title":"style_gradient-title__2a8zy",animateTitle:"style_animateTitle__3AmLh","dim-content":"style_dim-content__33wh4",uppercase:"style_uppercase__3nmXo","window-for-tabs-pane":"style_window-for-tabs-pane__19SGv","dark-btn":"style_dark-btn__3l8ji","purple-btn":"style_purple-btn__37XNP","cur-input":"style_cur-input__3Kzlm","max-btn":"style_max-btn__WydB3",max_btn:"style_max_btn__29JsD"}},1074:function(e,t,a){"use strict";var s=a(0),n=a(7),o=a.n(n),c=a(283),i=a(11),l=a.n(i),r=a(286),d=a(1),p=a(1028),b=(a(1040),a(4));t.a=e=>{const{showType:t="",slippage:a,deadline:n}=e,[i,u]=Object(s.useState)("0.5"),[m,j]=Object(s.useState)("1"),[g,h]=Object(s.useState)("0.5"),[O,v]=Object(s.useState)("1"),[w,_]=Object(s.useState)("");Object(s.useEffect)((()=>{x(a,n)}),[]),Object(s.useEffect)((()=>{(g||O)&&f()}),[g,O]);const x=(e,t)=>{u(e),j(t),h(e),v(t),y()},f=()=>{u(i),j(m),y(),e.onChange&&e.onChange(g,O)},k=e=>{const t=e.target.value,{valid:a,str:s}=Object(d.ab)(t,2);a&&h(s)},y=()=>{g&&(Number(g)<.5?_(o.a.get("settings.slippage_info_1")):Number(g)>5&&Number(g)<50?_(o.a.get("settings.slippage_info_2")):Number(g)>=50?_(o.a.get("settings.slippage_info_3")):_(""))};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:l()({"flex start wrap":""===t}),children:[Object(b.jsx)(r.a,{toolClass:p.setting_wrap,tip:e.slippate_tip||o.a.get("settings.slippage_tip"),children:Object(b.jsx)("span",{className:p.setting_label,children:o.a.get("settings.slippage")})}),Object(b.jsxs)("div",{className:l()(p.setting_btns),children:[Object(b.jsxs)("div",{className:p.setting_btn_wrap,children:[Object(b.jsx)("span",{className:l()(p.setting_item,"0.1"===g?p.active:""),onClick:()=>k({target:{value:"0.1"}}),children:"0.1%"}),Object(b.jsx)("span",{className:l()(p.setting_item,"0.5"===g?p.active:""),onClick:()=>k({target:{value:"0.5"}}),children:"0.5%"}),Object(b.jsx)("span",{className:l()(p.setting_item,"1"===g?p.active:""),onClick:()=>k({target:{value:"1"}}),children:"1%"})]}),Object(b.jsx)("div",{className:p.setting_btn_wrap,children:Object(b.jsx)(c.a,{className:l()(p.setting_input,p.module_important,["ml-20"]),suffix:"%",value:g,onChange:k,onBlur:()=>{Number(g)>=50?h(g.slice(0,1)):0!==Number(g)||h("0.01")}})})]})]}),w?Object(b.jsx)("div",{className:p.info_text,children:w}):null,Object(b.jsxs)("div",{className:l()({"flex start wrap":""===t}),children:[Object(b.jsx)("div",{style:{marginBottom:"popover"===t?"12px":0},children:Object(b.jsx)(r.a,{toolClass:p.setting_wrap,tip:o.a.get("settings.deadline_tip"),children:Object(b.jsx)("span",{className:p.setting_label,children:o.a.get("settings.deadline")})})}),Object(b.jsx)("div",{className:l()(p.flex_right),children:Object(b.jsx)(c.a,{className:l()(p.setting_input,p.module_important),value:O,onChange:e=>{const t=e.target.value,{valid:a,str:s}=Object(d.ab)(t,0);if(t){if(a){let e=s;Number(s)>1e4&&(e=1e4),v(e)}}else v(t)},onBlur:()=>{let e=Number(O);0===+O&&(e=1),v(e)},suffix:o.a.get("settings.deadline_minutes")})})]})]})}},1089:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(7),c=a.n(o),i=a(512),l=a(178),r=(a(1),a(6)),d=a(1122),p=a.n(d),b=a(4);class u extends n.a.Component{constructor(e){super(e),this.changeCheckStatus=e=>{this.setState({checkStatus:e})},this.comfirmContinue=()=>{const{checkStatus:e}=this.state;e&&this.props.cb&&this.props.cb()},this.componentDidMount=()=>{},this.state={checkStatus:!1}}render(){const{visible:e,dealWarningSymbol:t}=this.props,{checkStatus:a}=this.state;console.log("dealWarningSymbol",t);let{symbol:s,slippage:n}=t?r.default.deflationToken[t]:{symbol:"",slippage:""};return Object(b.jsxs)(l.a,{title:c.a.getHTML("list.deal_warning_title",{value:s}),closable:!1,open:e,width:400,centered:!0,onOk:this.comfirmContinue,okText:c.a.get("list.continue"),okButtonProps:{disabled:!a},showCancel:!1,children:[Object(b.jsx)("div",{className:p.a.tip_head,children:c.a.getHTML("list.deal_warning_content_1",{value:s})}),Object(b.jsx)("div",{className:p.a.tip_warning,children:c.a.getHTML("list.deal_warning_content_2",{value:n})}),Object(b.jsx)("div",{className:p.a.tip_footer,children:c.a.getHTML("list.deal_warning_content_3",{value:s})}),Object(b.jsx)("div",{className:"check-box"+(a?" checked":""),children:Object(b.jsx)(i.a,{onChange:e=>this.changeCheckStatus(e.target.checked),children:c.a.get("list.i_understand")})})]})}}t.a=u},1091:function(e,t,a){"use strict";var s=a(401),n=a(1074),o=(a(1120),a.p+"static/media/ico_settingoutlined.ee6a5166.svg"),c=a(4);const i={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=e=>{const{onChange:t,network:a={},version:l="v1",placement:r="bottomRight"}=e,d=a["settingSlippage".concat(i[l])],p=a["settingDeadline".concat(i[l])];return Object(c.jsx)(s.a,{trigger:"click",overlayClassName:"setting_popover",placement:r,content:Object(c.jsx)(n.a,{showType:"popover",slippage:d,deadline:p,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(c.jsx)("div",{className:"new_setting_icon",children:Object(c.jsx)("img",{className:"new_setting_icon_dark",src:o,alt:""})})})}},1113:function(e,t,a){},1120:function(e,t,a){},1121:function(e,t,a){},1122:function(e,t,a){e.exports={tip_head:"warning_tip_head__2GHlV",tip_warning:"warning_tip_warning__2qLxu",tip_footer:"warning_tip_footer__7xi3G"}},1123:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return b}));var s=a(137),n=a(119),o=a(0),c=a(1);const i=(e,t,a)=>"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),l=(e,t,a,s)=>s&&"en"!==s?"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a,"_").concat(s):"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),r=e=>{const{imgMaps:t,currentTheme:a,isMobile:s,imgSuffix:n,rules:c,useWebp:l}=e;return Object(o.useMemo)((()=>{if(!l&&"webp"===n)return"";const e=i(s?"m":"pc",a,n);if(t[e])return e;if(c&&c[e])return c[e]||"";const o=[i("m","light",n),i("m","dark",n),i("pc","light",n),i("pc","dark",n)];let r=[];r=s?"dark"===a?[1,3]:[0,1,2,3]:"dark"===a?[3]:[2,3];let d=r.find((e=>!!t[o[e]]));return void 0===d?"":o[d]}),[s,a,t,n,l,c])},d=e=>{const{imgMaps:t,useWebp:a}=e,o=Object(s.useCurrentTheme)(),c=Object(n.default)(n.isMobileOnlyMedia),i=r({imgMaps:t,currentTheme:o,isMobile:c,imgSuffix:"webp",useWebp:a}),l=r({imgMaps:t,currentTheme:o,isMobile:c,imgSuffix:"png"});return{webp:i&&t[i]?t[i]:"",png:l&&t[l]?t[l]:""}},p=e=>{var t;const{imgMaps:a}=e,o=Object(s.useCurrentTheme)(),i=window.localStorage.getItem("lang"),r=(null===(t=c.W[i||"en-US"])||void 0===t?void 0:t.k)||"en",d=Object(n.default)(n.isMobileOnlyMedia),p=l(d?"m":"pc",o,"webp",r),b=l(d?"m":"pc",o,"png",r);return{webp:p&&a[p]?a[p]:"",png:b&&a[b]?a[b]:""}},b=e=>{var t;const a=window.localStorage.getItem("lang"),i=(null===(t=c.W[a||"en-US"])||void 0===t?void 0:t.k)||"en",l=Object(n.default)(n.isMobileOnlyMedia)?"m":"pc",r=Object(s.useCurrentTheme)();return Object(o.useMemo)((()=>{let t="",a="";return e.forEach((e=>{let[s,n,o,c,d]=e;n.split("|").includes(l)&&o.split("|").includes(r)&&c.split("|").includes(i)&&("webp"===d&&(t=s),"png"===d&&(a=s))})),{png:a,webp:t}}),[e,l,r,i])}},1144:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var s=a(2),n=a(18),o=a(0),c=a(137),i=a(119),l=a(1123),r=a(4);const d=["src","pictureStyle","className","useWebp","imgContext","imgName","rules"],p=["className","webpSrc","src","renderChildren"],b=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"webp";try{var o;return e?null===(o=e("./".concat(t).concat(a?"_m":"").concat(s?"":"_light",".").concat(n)))||void 0===o?void 0:o.default:""}catch(c){return""}},u=["pc","m"],m=["dark","light"],j=["webp","png"],g=(e,t,a)=>"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),h=e=>{const{src:t,pictureStyle:a,className:p,useWebp:h=!1,imgContext:O,imgName:v,rules:w}=e,_=Object(n.a)(e,d),x=Object(c.useCurrentTheme)(),f=Object(i.default)(i.isMobileOnlyMedia),[k,y]=(null===v||void 0===v?void 0:v.split("."))||[],T=Object(o.useMemo)((()=>{const e={m_light_png:"",m_light_webp:"",m_png:"",m_webp:"",pc_light_png:"",pc_light_webp:"",pc_png:"",pc_webp:""};for(const t of u)for(const a of m)for(const s of j)e[g(t,a,s)]=b(O,k,"m"===t,"dark"===a,"webp"===s?"webp":y);return e}),[k,O,y]),N=Object(l.d)({imgMaps:T,currentTheme:x,isMobile:f,imgSuffix:"webp",useWebp:h,rules:w}),S=Object(l.d)({imgMaps:T,currentTheme:x,isMobile:f,imgSuffix:"png",rules:w});return Object(r.jsxs)("picture",{"data-img-id":"sun-img",className:p,style:a,children:[Object(r.jsx)("source",{"data-render-key":N,type:"image/webp",srcSet:N?T[N]:""}),Object(r.jsx)("img",Object(s.a)({"data-render-key":S,src:S?T[S]:t,alt:""},_))]})},O=Object(o.memo)((e=>{const{className:t,webpSrc:a,src:o,renderChildren:c}=e,i=Object(n.a)(e,p);return Object(r.jsxs)("picture",{"data-img-id":"sun-img-webp",className:t,children:[Object(r.jsx)("source",{type:"image/webp",srcSet:a}),Object(r.jsx)("img",Object(s.a)({src:o,alt:""},i)),c]})}));t.b=Object(o.memo)(h)},1193:function(e,t,a){},1239:function(e,t,a){"use strict";var s=a(0),n=a(7),o=a.n(n),c=a(138),i=a(88),l=a(104),r=a(178),d=a(11),p=a.n(d),b=(a(97),a(119)),u=a(179),m=(a(1240),a(405)),j=a(4);const g=[o.a.get("trade.price_1"),o.a.get("trade.price_2"),o.a.get("trade.price_3")],h=Object(c.a)(window.navigator).any;t.a=e=>{const{transRoutePath:t,activePathIndex:a,showVersion:n=!0}=e,[c,d]=Object(s.useState)(!1),O=Object(b.default)("(max-width: 1080px)"),v=()=>{d(!0)},w=()=>{d(!1)},_=(e,t)=>{var a,s;let n="-0.04%",o=e.version[t];switch(o){case"v1":n="-0.3%";break;case"v2":let o=e.path[t+1].tokenSymbol,c=e.path[t].tokenSymbol;n="-0.3%",("TRX"===c&&"WTRX"===o||"WTRX"===c&&"TRX"===o)&&(n="");break;case"v3":n=(null===(a=e.poolFees)||void 0===a?void 0:a[t])>0?"-".concat((null===(s=e.poolFees)||void 0===s?void 0:s[t])/1e4,"%"):"";break;default:n="-0.04%"}return o.includes("psm")&&(n="0%"),n},x=(e,t)=>{let a=!1;if("v2"===e.version[t]){let s=e.path[t+1].tokenSymbol,n=e.path[t].tokenSymbol;("TRX"===n&&"WTRX"===s||"WTRX"===n&&"TRX"===s)&&(a=!0)}return a},f=e=>Object(j.jsxs)("div",{className:"renderRoutrOuter",children:[!h&&Object(j.jsx)("span",{className:"trade-router-txt",children:o.a.get("swap.trans_route")}),Object(j.jsx)("div",{className:"renderRoutrOuter-r",children:e.map(((t,a)=>Object(j.jsxs)("span",{children:[Object(j.jsx)("img",{src:t.tokenLogoUrl||u.a,onError:e=>{e.target.onerror=null,e.target.src=u.a},alt:""}),Object(j.jsx)("span",{children:Object(j.jsx)("span",{className:"token",children:null===t||void 0===t?void 0:t.tokenSymbol})}),a!==e.length-1&&Object(j.jsx)("span",{className:"tr-arrow"})]},a)))})]}),k=()=>Object(j.jsx)("div",{className:"tr-content",children:Object(j.jsx)("ul",{children:e.tradeRouterPathArr.map(((t,a)=>Object(j.jsxs)("li",{className:p()({"tr-content-li":!0,active:e.activePathIndex===a}),onClick:()=>(t=>{const a=e.tradeRouterDataArr[t]||{};e.onChangeRouteIndex&&e.onChangeRouteIndex(t),e.onChangeRoutePath&&e.onChangeRoutePath(a)})(a),children:[Object(j.jsxs)("div",{className:"tr-content-li-top",children:[Object(j.jsx)("span",{className:"tr-content-li-title",children:g[a]}),Object(j.jsxs)("div",{className:"tr-content-li-top-r",children:[Object(j.jsx)("span",{className:"tr-content-li-top-r-swap",children:o.a.get("trade.swap")}),Object(j.jsx)("span",{className:"tr-content-li-top-r-num",children:t.amount}),Object(j.jsx)("span",{children:t.symbol})]})]}),Object(j.jsx)("div",{className:"tr-content-li-down",children:t.path.map(((e,a)=>Object(j.jsxs)("div",{className:"tr-content-li-pair",children:[Object(j.jsxs)("div",{className:"tr-content-li-pair-op",children:[Object(j.jsx)("img",{src:e.tokenLogoUrl||u.a,onError:e=>{e.target.onerror=null,e.target.src=u.a},alt:""}),Object(j.jsx)("span",{className:"token",children:null===e||void 0===e?void 0:e.tokenSymbol}),a!==t.path.length-1&&Object(j.jsx)("span",{children:_(t,a)})]}),a<t.version.length&&Object(j.jsxs)("div",{className:"flex path-pool",children:[n?!x(t,a)&&Object(j.jsx)("span",{className:"tr-pool",children:t.version[a]}):null,Object(j.jsx)(m.b,{type:"1",color:"rgba(255, 255, 255, 0.5)"})]})]},e.tokenAddress)))})]},a)))})}),y=t=>Object(j.jsx)(j.Fragment,{children:t.length?Object(j.jsx)(l.a,{align:{offset:h?[0,0]:e.offset||[60,-10]},getPopupContainer:e=>e.parentElement||document.body,title:k(),overlayClassName:"tr-tooltip",placement:h?"bottomRight":"rightTop",color:"#403858",arrow:!1,overlayInnerStyle:{padding:0},children:f(t)}):Object(j.jsx)("span",{})}),T=e=>Object(j.jsx)(j.Fragment,{children:e.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{onClick:v,children:f(e)}),Object(j.jsx)(r.a,{closeIcon:Object(j.jsx)(j.Fragment,{}),title:"",closable:!0,open:c,onCancel:w,footer:null,className:"trade-router-modal",width:630,centered:!0,mask:!0,children:k()})]}):Object(j.jsx)("span",{})});return Object(j.jsx)(i.a,{children:()=>Object(j.jsx)("div",{className:"trade-router",children:O?T(t):y(t)})})}},1240:function(e,t,a){},1312:function(e,t,a){e.exports={"page-head":"style_page-head__1FqOU",link:"style_link__3htUZ","gradient-title":"style_gradient-title__eq5m5",animateTitle:"style_animateTitle__3plyX","dim-content":"style_dim-content__2W6jx",uppercase:"style_uppercase__18bZV","window-for-tabs-pane":"style_window-for-tabs-pane__1PAuT","dark-btn":"style_dark-btn__SSq1x","purple-btn":"style_purple-btn__3cVso","cur-input":"style_cur-input__3p3yg","max-btn":"style_max-btn__osyNa",dropdown_wrapper:"style_dropdown_wrapper__3RTr0",dropdown_choose:"style_dropdown_choose__3wmWz",dropdown:"style_dropdown__2LXG9",dropdown_disabled:"style_dropdown_disabled__22sYB",dropdown_symbol:"style_dropdown_symbol__2SGjE"}},1313:function(e,t,a){},1349:function(e,t,a){"use strict";var s=a(2),n=a(104),o=a(14),c=a(42),i=a.n(c),l=a(88),r=a(0),d=a.n(r),p=a(60),b=a.n(p),u=a(7),m=a.n(u),j=a(138),g=a(1239),h=a(97),O=a(1),v=a(4);var w=e=>{const t=Object(l.d)((()=>h.default.network)),a=Object(l.d)((()=>h.default.homeTokens)),s=Object(l.d)((()=>h.default.pool)),{swapToken:n}=s,{toToken:o}=n,c=Object(O.jb)(a.inUsd),i=Object(O.jb)(e.fromValue),r=Object(O.jb)(t.liquidityProviderFee),d=c.dividedBy(i),p=Object(O.w)(d.multipliedBy(r),{dp:2});return Object(v.jsx)(l.a,{children:()=>Object(v.jsx)("div",{className:"description-card",children:Object(v.jsxs)("ul",{className:"description-list",children:[Object(v.jsxs)("li",{className:"description-list-item",children:[Object(v.jsxs)("span",{className:"label",children:[m.a.get("swap.detail_min_received"),"\uff1a"]}),Object(v.jsx)("span",{className:"text",children:Object(O.w)(t.dependentValue,{dp:o.tokenDecimal})+" "+o.tokenSymbol})]}),Object(v.jsxs)("li",{className:"description-list-item",children:[Object(v.jsxs)("span",{className:"label",children:[m.a.get("swap.detail_price_impact"),"\uff1a"]}),Object(v.jsx)("span",{className:"text",children:String(t.priceImpact).indexOf("NaN")>-1?"--":(0===+t.priceImpact?t.priceImpact:"-"+Math.abs(t.priceImpact))+"%"})]}),Object(v.jsxs)("li",{className:"description-list-item",children:[Object(v.jsxs)("span",{className:"label",children:[m.a.get("swap.detail_liquidity_fee"),"\uff1a"]}),Object(v.jsxs)("span",{className:"text",children:[(t.liquidityProviderFee||0)+" "+s.swapToken.fromToken.tokenSymbol," / ".concat("--"!==p?p:0," ").concat(m.a.get("swap.usd"))]})]})]})})})},_=a(285),x=a(1091),f=a(1056),k=a(6),y=a(1130),T=a(180),N=a(119),S=a(1066),A=a.n(S);var D=e=>{const{swapData:t}=e,a=Object(l.d)((()=>h.default.network)),s=Object(l.d)((()=>h.default.pool)),n=Object(l.d)((()=>h.default.homeTokens)),{swapToken:o}=s,{dependentValue:c}=a,{fromToken:i,toToken:r}=o,{fromValue:d,toValue:p,priceStr:b,priceInverseStr:u,priceImpactColor:j}=t,g=()=>{e.hideSwapModal&&e.hideSwapModal()},w=()=>{e.onRetryAction&&e.onRetryAction()},_=()=>{e.beforeSwapToken&&e.beforeSwapToken()},x=()=>{e.beforeHideSwapModal&&e.beforeHideSwapModal()},f=(n.actionState,n.actionState,{start:"process",default:"wait",pending:"process",success:"finish",failed:"error",error:"error"}),S=Object(N.default)(N.isMobileOnlyMedia);return Object(v.jsx)(l.a,{children:()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(y.a,{title:"success"===n.actionState?m.a.get("action.swapSuccessTitle"):n.swapPopTitle,closable:"success"!==n.actionState,open:e.visible,onCancel:x,centered:!0,fromToken:{logo:s.swapToken.fromToken.tokenLogoUrl,symbol:s.swapToken.fromToken.tokenSymbol,amount:d,price:"1 ".concat(s.swapToken.fromToken.tokenSymbol," =\n              ").concat(Object(O.w)(u,{dp:s.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:k.default.minPrice}),"\n              ").concat(s.swapToken.toToken.tokenSymbol," ")},toToken:{logo:s.swapToken.toToken.tokenLogoUrl,symbol:s.swapToken.toToken.tokenSymbol,amount:p,price:"1 ".concat(s.swapToken.toToken.tokenSymbol," =\n              ").concat(Object(O.w)(b,{dp:s.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:k.default.minPrice}),"\n              ").concat(s.swapToken.fromToken.tokenSymbol," ")},infoList:[{label:m.a.get("swap.detail_slippage"),value:(Object(O.a)(a.settingSlippage).lt(.01)?"<0.01":a.settingSlippage)+"%",hide:"0.5"===a.settingSlippage},{label:m.a.get("swap.detail_min_received"),value:Object(O.w)(c,{dp:r.tokenDecimal})+" "+s.swapToken.toToken.tokenSymbol,hide:!!n.swapTRXState||!n.receivedFlag,tip:m.a.get("swap.detail_min_received_tip")},{label:m.a.get("swap.detail_max_sold"),value:Object(O.w)(c,{dp:i.tokenDecimal})+" "+s.swapToken.fromToken.tokenSymbol,hide:!!n.swapTRXState||n.receivedFlag,tip:m.a.get("swap.detail_max_sold_tip")},{label:m.a.get("swap.detail_price_impact"),value:String(a.priceImpact).indexOf("NaN")>-1?"--":(0===+a.priceImpact?"":"-")+Math.abs(a.priceImpact)+"%",hide:!!n.swapTRXState,tip:m.a.get("swap.detail_price_impact_tip"),valueType:"orange"===j?"warning":"red"===j?"error":"default"},{label:m.a.get("swap.detail_liquidity_fee"),value:a.liquidityProviderFee+" "+s.swapToken.fromToken.tokenSymbol,hide:!!n.swapTRXState,tip:m.a.getHTML("swap.detail_liquidity_fee_tip_v2")}],tip:n.receivedFlag?m.a.get("swap.confirm_warning_output",{amount:Object(O.w)(c,{dp:r.tokenDecimal}),token:s.swapToken.toToken.tokenSymbol}):m.a.get("swap.confirm_warning_input",{amount:Object(O.w)(c,{dp:i.tokenDecimal}),token:s.swapToken.fromToken.tokenSymbol}),actionStatus:n.actionState,approveItems:[{status:f[n.approveActionState||"default"],title:["error","failed"].includes(n.approveActionState)?n.approveActionError:"pending"===n.approveActionState?m.a.get("sunSwap.action.doingAct"):n.approveActionTitle},{status:f[n.swapActionState||"default"],title:["error","failed"].includes(n.swapActionState)?n.swapActionError:"pending"===n.swapActionState?m.a.get("sunSwap.action.doingAct"):n.swapActionTitle}],successFromValue:n.successFromValue,successToValue:n.successToValue,footer:null,children:Object(v.jsxs)("div",{style:{marginTop:30},children:[n.swapErrorInfo&&Object(v.jsxs)("div",{className:"home-swap-error-text",children:[Object(v.jsx)("span",{className:A.a.error_icon,children:"!"}),n.swapErrorInfo]}),"line"===n.actionState&&Object(v.jsx)(T.a,{block:!0,onClick:w,size:S?"middle":"large",disabled:n.actionDisabled,children:n.actionInfo}),"info"===n.actionState&&Object(v.jsx)(T.a,{onClick:_,size:S?"middle":"large",disabled:n.swapPopBtnDisabled,type:"orange"===j?"warning":"red"===j?"error":void 0,block:!0,children:n.swapPopBtn}),"success"===n.actionState&&Object(v.jsx)(T.a,{onClick:g,size:S?"middle":"large",block:!0,type:"orange"===j?"warning":"red"===j?"error":void 0,children:m.a.get("action.closeBtn")})]})})})})},C=a.p+"static/media/ico_switch2.bc4319f5.svg";var P=e=>{const[t,a]=Object(r.useState)(!1),s=Object(l.d)((()=>h.default.pool)),{swapToken:n}=s,{fromToken:o,toToken:c}=n,{priceInverseStr:i,priceStr:d}=e,p=async()=>{a(!t)};return Object(v.jsx)(l.a,{children:()=>Object(v.jsxs)("div",{className:"swap-rate",children:[Object(v.jsx)("span",{children:t?Object(O.w)(i,{miniText:k.default.minPrice,miniTextNoZero:!0,separator:!1,dp:c.tokenDecimal,cutZero:!0}):Object(O.w)(d,{miniText:k.default.minPrice,miniTextNoZero:!0,separator:!1,dp:o.tokenDecimal,cutZero:!0})}),Object(v.jsx)("span",{children:t?o.tokenSymbol:c.tokenSymbol}),Object(v.jsx)("div",{className:"purple-switch",children:Object(v.jsx)("img",{src:C,onClick:p,alt:""})}),t&&c.tokenSymbol||!t&&o.tokenSymbol?Object(v.jsx)("span",{children:"1"}):"",Object(v.jsx)("span",{children:t?c.tokenSymbol:o.tokenSymbol})]})})};const R=e=>{const t=Object(l.d)((()=>h.default.network)),a=Object(l.d)((()=>h.default.homeTokens)),{errorTip:s,priceImpactColor:n,showSwapModal:o}=e,c=Object(r.useCallback)((()=>{const e=window.localStorage.getItem("lang");window.open("".concat(k.default.sunSwapV2,"?lang=").concat(e),"_blank")}),[]),i=Object(r.useCallback)((()=>{o&&o()}),[o]),p=Object(r.useCallback)((()=>{t.setData({loginModalVisible:!0,loginModalStep:1})}),[t]),b=d.a.memo((()=>s===m.a.get("trade.tip_1")?Object(v.jsx)("div",{className:"submit-btn",onClick:c,children:s}):Object(v.jsx)("div",{className:"submit-btn disabled",children:s||m.a.get("buysell.swap")}))),u=d.a.memo((()=>{const e="red"===n?m.a.get("swap.action_high"):m.a.get("buysell.swap"),t="submit-btn ".concat(n," ").concat(a.isRequesting?"disabled":"");return Object(v.jsx)("div",{className:t,onClick:i,children:e})})),j=d.a.memo((()=>Object(v.jsx)("div",{className:"submit-btn",onClick:p,children:m.a.get("header.connect_wallet")})));return Object(v.jsx)(l.a,{children:()=>Object(v.jsx)(v.Fragment,{children:t.isConnected?s?Object(v.jsx)(b,{}):Object(v.jsx)(u,{}):Object(v.jsx)(j,{})})})};var M=d.a.memo(R);var F=e=>{const t=Object(l.d)((()=>h.default.pool)),a=Object(l.d)((()=>h.default.homeTokens)),{swapToken:s}=t,{fromToken:n}=s,o=a.swapPool||[],c=e.fromValue;let i=0;o.includes("v1")&&(i+=k.default.swapFeeAmount),o.includes("v2")&&(i+=k.default.swapFeeAmountV2);return Object(v.jsx)(l.a,{children:()=>Object(v.jsx)("div",{children:"TRX"===n.tokenSymbol&&c?Object(O.jb)(n.balance).lt(i)?Object(v.jsx)("div",{className:"safe-amount-tip safe-amount",children:m.a.getHTML("list.trx_tip_3",{value:i})}):Object(O.jb)(n.balance).minus(i).lt(Object(O.jb)(c))?Object(v.jsxs)("div",{className:"safe-amount-tip safe-amount",children:[Object(v.jsxs)("span",{className:"safe-word",children:[m.a.getHTML("list.trx_tip_1",{value:i})," "]}),Object(v.jsx)("span",{className:"safe-btn",onClick:()=>((t,a)=>{e.onSafeMax&&e.onSafeMax(t,a)})("from",i),children:m.a.get("list.trx_tip_2")})]}):null:null})})},I=a(11),V=a.n(I),U=a(1312),E=a.n(U),L=a(179);class B extends d.a.Component{constructor(e){super(e)}render(){const{token:e={}}=this.props;return Object(v.jsx)("div",{className:V()({[E.a.dropdown_wrapper]:!0,[E.a.dropdown_choose]:!(null!==e&&void 0!==e&&e.tokenAddress)}),children:Object(v.jsx)("p",{className:V()({[E.a.dropdown]:!0,[E.a.dropdown_disabled]:this.props.disabled}),onClick:()=>{this.props.showModal()},children:e.tokenAddress?Object(v.jsxs)("div",{className:"selector",children:[Object(v.jsx)("img",{src:e.tokenLogoUrl||L.a,alt:"",onError:e=>{e.target.onerror=null,e.target.src=L.a}}),Object(v.jsx)("span",{className:E.a.dropdown_symbol,children:e.tokenSymbol})]}):Object(v.jsxs)("div",{className:"selector",children:[m.a.get("swap.add_choose_select")," "]})})})}}var X=B,H=a(1063);a.p,a.p;var q=e=>{const t=Object(l.d)((()=>h.default.pool)),{swapToken:a}=(Object(l.d)((()=>h.default.network)),t),{fromToken:s,toToken:n}=a,{isFrom:o,errorTip:c}=e;return Object(v.jsx)(l.a,{children:()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"info-row",children:Object(v.jsx)("div",{className:"flex",children:Object(v.jsx)("div",{className:"from-text",children:Object(v.jsx)(X,{showModal:e.showModal,token:e.token})})})})})})};var W=e=>{const t=Object(l.d)((()=>h.default.homeTokens)),{isFrom:a}=e,s=()=>{let e=Object(O.jb)(t.inUsd);const a=Object(O.jb)(t.outUsd).minus(e).div(e).times(100),s=Object(O.w)(a);return Object(v.jsxs)("span",{children:["\uff08","Infinity"===s?"--":s,"%\uff09"]})};return Object(v.jsx)(l.a,{children:()=>Object(v.jsx)("div",{className:"input-usd",children:a?Object(v.jsxs)("div",{children:["$",Object(O.w)(t.inUsd)]}):Object(v.jsxs)("div",{children:["$",Object(O.w)(t.outUsd),s()]})})})},z=(a(1121),a(8)),K=a(31);a(72);const Z=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tokenAddress,a=e.tokenAddress,{trxFakeAddress:s,wtrxAddress:n}=k.default;return t===s&&a===n||t===n&&a===s};var G=a(1173);const{usdcPools:J,usddPools:$,twoKeyPools:Q,twoKeyPoolContracts:Y,twoKeyNewPoolContracts:ee}=k.default;var te=()=>{const e=Object(l.d)((()=>h.default.homeTokens)),[t,a]=Object(r.useState)(!1),[s,n]=Object(r.useState)({}),[o,c]=Object(r.useState)(""),[d,p]=Object(r.useState)(""),u=async(t,s,o,l)=>{try{const r=i()(10).pow(t.tokenDecimal),d=i()(10).pow(s.tokenDecimal),p=Object(O.jb)(o).gt(0)?Object(O.jb)(o).times(r).div(d)._toFixed(Number(s.tokenDecimal),1):"";n({timestamp:l,amountOut:Object(O.c)(p),fee:"",impact:"",pool:["v2"],tokens:[t.tokenAddress,s.tokenAddress],roadForName:[t.tokenSymbol.toUpperCase(),s.tokenSymbol.toUpperCase()],inUsd:i()(e.trxPrice).times(i()(p)),outUsd:i()(e.trxPrice).times(i()(p))}),a(!1),c("success")}catch(r){console.log("get token price error: ",r)}},m=async(t,a,s)=>{if(!s)return{};const n=i()(10).pow(t.tokenDecimal);try{let o="";e.fromTokenPrice||(o=await Object(G.a)(t),e.setData({fromTokenPrice:o}));const i=g(s);let l=await Object(K.o)({fromToken:"TRX"===t.tokenSymbol?k.default.trxFakeAddress:t.tokenAddress,toToken:"TRX"===a.tokenSymbol?k.default.trxFakeAddress:a.tokenAddress,amountIn:Object(O.w)(Object(O.jb)(s).times(n),{separator:!1,cutZero:!0}),typeList:i});if(0===l.code){const e=b.a.cloneDeep(null===l||void 0===l?void 0:l.data),t=(null===l||void 0===l?void 0:l.data[0])||{};return t.roadPathArr=e||[],t||{}}c("failed")}catch(o){console.log("get routing error: ",o)}},j=async(e,t,a,s,n)=>{var o,c;if(!s)return{};let i=e.tokenSymbol.toLowerCase(),l=t.tokenSymbol.toLowerCase(),r=a;if(r=Object(O.jb)(r),!r.gt(0))return;let d=y(i,l)?Q:f(i,l)?$:J;const p=null===(o=d[i])||void 0===o?void 0:o.index,b=null===(c=d[l])||void 0===c?void 0:c.index;try{var u;const{result:s,dx_precision:o,dy_precision:c,pools:d,type:m}=await v(i,l,r)||{};if(null===s||void 0===s||!s.success)return;const j=a,g=Object(O.c)(null===s||void 0===s?void 0:s.value.div(c)._toFixed(null===(u=d[l])||void 0===u?void 0:u.decimal,1)),h=await x(m,j,g,p,b,o,c);return{amountOut:g,fee:n?Object(O.jb)(a).times(4).div(1e4)._toFixed(Number(e.tokenDecimal),1):0,impact:h,pool:m,roadForAddr:[p,b],roadForName:[e.tokenSymbol,t.tokenSymbol]}}catch(m){console.log("get dy error: ",m)}},g=t=>Object(O.jb)(e.fromTokenPrice).times(Object(O.jb)(t)).gt(0)?"":"PSM,CURVE,CURVE_COMBINATION,WTRX,SUNSWAP_V1,SUNSWAP_V2",v=async(e,t,a)=>{if([e,t].includes("usdd")){if([e,t].includes("usdc"));else if([e,t].includes("usdt")){return await w("2pool",e,t,a)}}else if([e,t].includes("usdt")){if([e,t].includes("tusd")){let s=await w("old3pool",e,t,a),n=await w("oldusdcpool",e,t,a);return _([s,n])}if([e,t].includes("usdj"))return await w("old3pool",e,t,a);if([e,t].includes("usdc")){return await w("oldusdcpool",e,t,a)}}else if([e,t].includes("tusd")){if([e,t].includes("usdj"))return await w("old3pool",e,t,a);if([e,t].includes("usdc"))return await w("oldusdcpool",e,t,a)}else if([e,t].includes("usdc")&&[e,t].includes("usdj"))return await w("oldusdcpool",e,t,a)},w=async function(){var e,t,a,s,n,o,c,i,l,r,d,p,b,u,m,j,g,h,v,w,_,x,f,k,y,T,N,S,A;let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"old3pool",C=arguments.length>1?arguments[1]:void 0,P=arguments.length>2?arguments[2]:void 0,R=arguments.length>3?arguments[3]:void 0;try{if(Object(O.jb)(R).isNaN())return;let M=null,F=null,I=null,V=null,U=null,E=null;switch(D){case"old3pool":D="old3pool",U=J,I=null===(e=U[C])||void 0===e?void 0:e.precision,F=null===(t=U[P])||void 0===t?void 0:t.precision,V=null===(a=Object(O.jb)(R))||void 0===a||null===(s=a.times(I))||void 0===s||null===(n=s._toIntegerDown())||void 0===n?void 0:n._toHex(),M=await Object(z.rb)(null===(o=U[C])||void 0===o?void 0:o.index,null===(c=U[P])||void 0===c?void 0:c.index,V);break;case"3pool":D="3pool",U=$,I=null===(i=U[C])||void 0===i?void 0:i.precision,F=null===(l=U[P])||void 0===l?void 0:l.precision,V=null===(r=Object(O.jb)(R))||void 0===r||null===(d=r.times(I))||void 0===d||null===(p=d._toIntegerDown())||void 0===p?void 0:p._toHex(),M=await Object(z.V)(null===(b=U[C])||void 0===b?void 0:b.index,null===(u=U[P])||void 0===u?void 0:u.index,V);break;case"old2pool":D="old2pool",U=Q,I=null===(m=U[C])||void 0===m?void 0:m.precision,F=null===(j=U[P])||void 0===j?void 0:j.precision,V=null===(g=Object(O.jb)(R))||void 0===g||null===(h=g.times(I))||void 0===h||null===(v=h._toIntegerDown())||void 0===v?void 0:v._toHex(),M=await Object(z.U)(U[C].index,U[P].index,V,Y.stablePool);break;case"2pool":D="2pool",U=Q,I=null===(w=U[C])||void 0===w?void 0:w.precision,F=null===(_=U[P])||void 0===_?void 0:_.precision,V=null===(x=Object(O.jb)(R))||void 0===x||null===(f=x.times(I))||void 0===f||null===(k=f._toIntegerDown())||void 0===k?void 0:k._toHex(),M=await Object(z.U)(U[C].index,U[P].index,V,ee.stablePool);break;case"oldusdcpool":D="oldusdcpool",U=J,I=null===(y=U[C])||void 0===y?void 0:y.precision,F=null===(T=U[P])||void 0===T?void 0:T.precision,V=null===(N=Object(O.jb)(R))||void 0===N||null===(S=N.times(I))||void 0===S||null===(A=S._toIntegerDown())||void 0===A?void 0:A._toHex(),M=await Object(z.rb)(U[C].index,U[P].index,V)}return{result:M,dx_precision:I,dy_precision:F,pools:U,type:D,poolData:E}}catch(M){console.log("getAllDy error: "+M)}},_=e=>e.reduce((function(e,t){return i()(e.result.value).div(e.dy_precision).gte(i()(t.result.value).div(t.dy_precision))?e:t})),x=async(e,t,a,s,n,o,c)=>{var l,r,d,p,b,u,m,j,g,h,v,w,_,x,f;let k=i()(1),y=null,T=null;switch(e){case"old3pool":for(3!==n&&0!==n||(k=3===s&&0===n||0===s&&3===n?i()("1"):i()("1000000000000")),y=null===(l=Object(O.jb)(1))||void 0===l||null===(r=l.times(k))||void 0===r||null===(d=r._toIntegerDown())||void 0===d?void 0:d._toHex(),T=await Object(z.rb)(s,n,y);i()(0).eq(T.value);){var N,S,A;k=k.times(i()(10)),y=null===(N=Object(O.jb)(1))||void 0===N||null===(S=N.times(k))||void 0===S||null===(A=S._toIntegerDown())||void 0===A?void 0:A._toHex(),T=await Object(z.rb)(s,n,y)}break;case"3pool":for(2===n&&(k=i()("1000000000000")),y=null===(p=Object(O.jb)(1))||void 0===p||null===(b=p.times(k))||void 0===b||null===(u=b._toIntegerDown())||void 0===u?void 0:u._toHex(),T=await Object(z.V)(s,n,y);i()(0).eq(T.value);){var D,C,P;k=k.times(i()(10)),y=null===(D=Object(O.jb)(1))||void 0===D||null===(C=D.times(k))||void 0===C||null===(P=C._toIntegerDown())||void 0===P?void 0:P._toHex(),T=await Object(z.V)(s,n,y)}break;case"old2pool":for(1===n&&(k=i()("1000000000000")),y=null===(m=Object(O.jb)(1))||void 0===m||null===(j=m.times(k))||void 0===j||null===(g=j._toIntegerDown())||void 0===g?void 0:g._toHex(),T=await Object(z.U)(s,n,y,Y.stablePool);i()(0).eq(T.value);){var R,M,F;k=k.times(i()(10)),y=null===(R=Object(O.jb)(1))||void 0===R||null===(M=R.times(k))||void 0===M||null===(F=M._toIntegerDown())||void 0===F?void 0:F._toHex(),T=await Object(z.U)(s,n,y,Y.stablePool)}break;case"2pool":for(1===n&&(k=i()("1000000000000")),y=null===(h=Object(O.jb)(1))||void 0===h||null===(v=h.times(k))||void 0===v||null===(w=v._toIntegerDown())||void 0===w?void 0:w._toHex(),T=await Object(z.U)(s,n,y,ee.stablePool);i()(0).eq(T.value);){var I,V,U;k=k.times(i()(10)),y=null===(I=Object(O.jb)(1))||void 0===I||null===(V=I.times(k))||void 0===V||null===(U=V._toIntegerDown())||void 0===U?void 0:U._toHex(),T=await Object(z.U)(s,n,y,ee.stablePool)}break;case"oldusdcpool":for(3!==n&&0!==n||(k=3===s&&0===n||0===s&&3===n?i()("1"):i()("1000000000000")),y=null===(_=Object(O.jb)(1))||void 0===_||null===(x=_.times(k))||void 0===x||null===(f=x._toIntegerDown())||void 0===f?void 0:f._toHex(),T=await Object(z.rb)(s,n,y);i()(0).eq(T.value);){var E,L,B;k=k.times(i()(10)),y=null===(E=Object(O.jb)(1))||void 0===E||null===(L=E.times(k))||void 0===L||null===(B=L._toIntegerDown())||void 0===B?void 0:B._toHex(),T=await Object(z.rb)(s,n,y)}}const X=Object(O.jb)(t),H=Object(O.jb)(a),q=Object(O.jb)("9996"),W=Object(O.jb)("10000"),K=Object(O.jb)("1000000000000000000"),Z=Object(O.jb)("100000"),G=X.times(q).times(Z).times(K).times(o).div(H).div(c),J=k.times(W).times(Z).times(K).div(T.value),$=X.times(W).times(K).times(o).div(H).div(c),Q=G.minus(J).div($);return Object(O.w)(Q.div(i()(10)).div(i()(100)))},f=(e,t)=>[e,t].includes("usdd")&&![e,t].includes("usdc"),y=(e,t)=>k.default.twoKeyPoolKeys.includes(e)&&k.default.twoKeyPoolKeys.includes(t);return{sendRequest:t=>{const{fromToken:s,toToken:o,fromValue:i,receivedFlag:l,timestamp:r}=t;a(!0);const d=Z(s,o);if(e.setData({swapTRXState:d}),d)return u(s,o,i,r);Promise.allSettled([m(s,o,i),j(s,o,i,!1,l)]).then((e=>{var t;let s=(null===(t=(e.filter((e=>"fulfilled"===e.status&&Object.keys(e.value||{}).length))||[]).sort(((e,t)=>{var a,s;return Object(O.jb)(null===t||void 0===t||null===(a=t.value)||void 0===a?void 0:a.amount)-Object(O.jb)(null===e||void 0===e||null===(s=e.value)||void 0===s?void 0:s.amount)}))[0])||void 0===t?void 0:t.value)||"";s&&(s.timestamp=r,c("success")),n(s||{}),a(!1)}))},loading:t,result:s,requestStatus:o,debugStr:d}},ae=(a(1113),a(1193),a.p+"static/media/icon_swap2.5cc20259.svg"),se=a.p+"static/media/icon_swap_active2.61c4d5d3.svg";a(1787),a(1313),a(2813),a(169);var ne=a(40),oe=a(86),ce=a(1089),ie=a.p+"static/media/ico_view_token2.40cec736.svg",le=a(283);var re=e=>{const[t,a]=Object(r.useState)(""),[n,o]=Object(r.useState)(!1),c=Object(r.useRef)(null),i=Object(r.useRef)(null);Object(r.useEffect)((()=>(i.current||(i.current=document.createElement("span"),i.current.style.visibility="hidden",i.current.style.position="absolute",i.current.style.whiteSpace="nowrap",document.body.appendChild(i.current)),()=>{i.current&&document.body.removeChild(i.current)})),[]);return Object(v.jsx)(le.a,Object(s.a)(Object(s.a)({ref:c},e),{},{onChange:t=>{const s=t.target.value;a(s);const n=(e=>{if(!c.current||!i.current)return!1;const t=c.current.input,a=window.getComputedStyle(t);return i.current.style.font=a.font,i.current.textContent=e||" ",i.current.offsetWidth>.9*(t.clientWidth-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight))})(s);console.log("shouldAddClass====",n),o(n),null!==e&&void 0!==e&&e.onChange&&(null===e||void 0===e||e.onChange(t))},className:V()(Object(s.a)(Object(s.a)({},e.className),{},{"base-input-isOverflow":n}))}))};let de=null;t.a=()=>{const e=Object(l.d)((()=>h.default.network)),t=Object(l.d)((()=>h.default.pool)),a=Object(l.d)((()=>h.default.homeTokens)),c=Object(l.d)((()=>h.default.themeStore)),[d,p]=Object(r.useState)(m.a.get("swap.action_enter_amount")),[u,y]=Object(r.useState)(!1),T="en-US"===window.localStorage.getItem("lang"),[N,S]=Object(r.useState)(""),[A,C]=Object(r.useState)(""),[R,I]=Object(r.useState)(!0),[U,E]=Object(r.useState)("-"),[L,B]=Object(r.useState)("-"),[X,J]=Object(r.useState)(""),$=Object(r.useRef)(null),[Q,Y]=Object(r.useState)(!1),[ee,le]=Object(r.useState)(!1),[pe,be]=Object(r.useState)(!1),[ue,me]=Object(r.useState)(!1),[je,ge]=Object(r.useState)([]),[he,Oe]=Object(r.useState)(""),ve=Object(j.a)(window.navigator).any,we=Object(r.useRef)(null),{dealWarningVisible:_e,dealWarningTokens:xe}=t,{allEnableTokens:fe,byUrl:ke,enableLists:ye,yourAddTokens:Te,showModal:Ne,hideModal:Se,showModalKeys:Ae}=Object(_.q)();Object(r.useEffect)((()=>{t.setData({allEnableTokens:fe,byUrl:ke,enableLists:ye,yourAddTokens:Te}),t.setTokenList(1)}),[fe,ke,ye,t,Te]),Object(r.useEffect)((()=>(De(),()=>{de&&clearInterval(de)})),[]),Object(r.useEffect)((()=>{const e=Object(o.p)((()=>t.swapToken.fromToken.tokenAddress),((e,t,a)=>{be(!0)})),s=Object(o.p)((()=>t.swapToken.toToken.tokenAddress),((e,t,a)=>{be(!0)})),n=Object(o.p)((()=>a.swapTxid),(e=>{e&&setTimeout((()=>{const s=e.fromValue,n=e.toValue;S(""),C(""),a.setData({successFromValue:s,successToValue:n,actionRetry:"",actionState:"success",actionStarted:!1}),t.getBalanceAndApprove(),Me()}),5e3)}));return()=>{e(),s(),n()}}),[]);const De=async()=>{Object(O.db)(),e.getSettingsData(),t.setData({swapRef:$});try{Ce(),t.getBalanceAndApprove(),de=setInterval((()=>{t.getBalanceAndApprove(),Ce()}),6e3),Re()}catch(a){}},Ce=async()=>{try{var e,t,s;const{data:n}=await Object(K.G)(["TRX"]),o=(null===(e=n.TRX)||void 0===e||null===(t=e.quote)||void 0===t||null===(s=t.USD)||void 0===s?void 0:s.price)||"";a.setData({trxPrice:o})}catch(n){console.log("get trx price error",n)}},Pe=async e=>{a.setData({fromTokenPrice:""});const t=await Object(G.a)(e);a.setData({fromTokenPrice:t})},Re=function(){if(a.isRequesting)return!1;let s="";const n=t.swapToken.fromToken,o=t.swapToken.toToken,c=n.tokenAddress,l=o.tokenAddress,r=i()(n.balance),d=e.dependentValue;if(!c&&!Object(O.L)("t0")||!l&&!Object(O.L)("t1"))return s=m.a.get("swap.action_select_token"),p(s);if(!N)return!a.receivedFlag&&A?i()(A).lte(0)?(s=m.a.get("swap.action_enter_amount"),p(s)):(s=m.a.get("swap.action_insufficient_liquidity"),p(s)):(s=m.a.get("swap.action_enter_amount"),p(s));if(Object(O.jb)(N).lte(0))return s=m.a.get("swap.action_enter_amount"),p(s);if(a.swapTRXState&&r&&r.lt(Object(O.jb)(N)))return s=m.a.get("swap.action_insufficient",{token:n.tokenSymbol}),p(s);if(a.receivedFlag){if(!A)return s=m.a.get("swap.action_insufficient_liquidity"),p(s);if(r&&r.lt(Object(O.jb)(N)))return s=m.a.get("swap.action_insufficient",{token:n.tokenSymbol}),p(s);if(Object(O.jb)(N).gt(n.approvedAmount))return s="",I(!0),p(s)}else{if(!a.swapTRXState&&r.lt(Object(O.jb)(d)))return s=m.a.get("swap.action_insufficient",{token:n.tokenSymbol}),p(s);if(!a.swapTRXState&&i()(d).gt(n.approvedAmount))return s="",I(!0),p(s)}p(s),I(!1)},Me=async()=>{try{const{fromToken:e,toToken:s}=t.swapToken,n=Z(e,s);if(n)return a.setData({swapTRXState:n}),E(1),B(1),!1;a.setData({swapTRXState:!1}),He(),qe(),We(),Re()}catch(e){console.error(e)}};Object(r.useEffect)((()=>{setTimeout((()=>{Me()}),0),Re(),!N&&A&&C(""),A||(a.setTransRoutePath([]),e.setData({priceImpact:""}),e.setData({liquidityProviderFee:""}),a.setData({swapPool:[]}),a.setData({roadForAddr:[]}),a.setData({inUsd:""}),a.setData({outUsd:""}),a.setData({poolFees:[]}),E(""),B(""))}),[A]);const{loading:Fe,result:Ie,requestStatus:Ve,sendRequest:Ue,debugStr:Ee}=te();Object(r.useEffect)((()=>{if(!Fe){if(ge(Ee),Object.keys(Ie).length&&"success"===Ve&&he===Ie.timestamp){if(a.setData({isRequesting:!1}),!a.swapTRXState)return a.setData({activePathIndex:0}),a.setTransRoutePathArr(Ie.roadPathArr),Le(Ie.roadPathArr[0]||[]),!1;Le(Ie)}"failed"===Ve&&(S(""),C(""))}}),[Fe,Ie,Ve,he]);const Le=t=>{a.setTransRoutePath(t.tokens||[]),e.setData({priceImpact:t.impact}),e.setData({liquidityProviderFee:t.fee+""}),a.setData({swapPool:t.poolVersions||[]}),a.setData({roadForAddr:t.tokens||[]}),a.setData({inUsd:t.inUsd}),a.setData({outUsd:t.outUsd}),a.setData({poolFees:t.poolFees}),C(t.amountOut||""),He(),qe(),We(),Re(!0)},Be=e=>{a.setData({activePathIndex:e})},Xe=async e=>{const{fromToken:s,toToken:n}=t.swapToken;if(!s.tokenAddress||!n.tokenAddress||!e||0===+e)return C(""),void Re();const o=(new Date).getTime();Oe(o),C(""),Ue({fromToken:s,toToken:n,fromValue:e,receivedFlag:a.receivedFlag,timestamp:o})},He=()=>{if(!N||!A)return!1;const{fromToken:e,toToken:a}=t.swapToken;let s="-",n="-",o=Object(O.jb)(N),c=Object(O.jb)(A);const i=o.div(c),l=c.div(o);s=i._toFixed(Number(e.tokenDecimal),1),n=l._toFixed(Number(a.tokenDecimal),1),E(s),B(n)},qe=()=>{const{fromToken:s,toToken:n}=t.swapToken,o=Z(s,n),c=new i.a(e.settingSlippage).div(100);let l=new i.a(0),r=k.default.trxDecimal;l=o?Object(O.jb)(A):Object(O.jb)(A).times(i()(1).minus(c)),r=t.swapToken.toToken.tokenDecimal,l=l._toFixed(Number(r),1),e.setData({dependentValue:l}),a.setData({dependentValueSunBig:new i.a(l).times(new i.a(10).pow(r))})},We=()=>{const t=e.priceImpact,a=i()(t).abs().times(-1);let s="--",n="";s=i()(t).lte(0)&&i()(t).gt(-.01)?"0.00":"".concat(i()(t)._toFixed(2)),e.setData({priceImpact:s}),n=i()(a).lte(-15)?"red":i()(a).gt(-15)&&i()(a).lte(-5)?"orange":"",J(n)},ze=Object(r.useCallback)(b.a.debounce((e=>{(async e=>{e&&a.setData({isRequesting:!0}),await t.getBalanceAndApprove(),await Xe(e)})(e)}),200,{leading:!1,trailing:!0}),[]);Object(r.useEffect)((()=>{ze(N)}),[N]);const Ke=()=>{const{swapToken:e}=t,{fromToken:s}=e,n=i()(s.balance);if(!i()(n).gte(0))return;let o=n;const c=o.gt(0)?o._toFixed(Number(6),1):"0";S(Object(O.c)(c)),0===+c&&C(""),a.setData({receivedFlag:!0})},Ze=(e,s)=>{const{swapToken:n}=t,{fromToken:o}=n;if("from"===e){const e=Object(O.c)(Object(O.jb)(o.balance).minus(s));S(e),a.setData({receivedFlag:!0}),Me()}},Ge=async()=>{const e=Object(s.a)({},t.swapToken.fromToken),a=Object(s.a)({},t.swapToken.toToken);t.swapToken.fromToken=a,t.swapToken.toToken=e,Pe(a),S(A),C(""),I(!1)},Je=Object(r.useCallback)((e=>({tokenSymbol:e.symbol,tokenAddress:e.address,tokenDecimal:e.decimals,balance:"--",tokenLogoUrl:e.logoURI,address:null,addressV1:null,addressV2:null,tokenName:e.name||""})),[]),$e=Object(r.useCallback)((async e=>{try{const{swapToken:n}=t;if(e.tokenDecimal=Number(e.tokenDecimal),e.tokenAddress===n.fromToken.tokenAddress)return;if(t.showModal(1,!1),e.tokenAddress===n.toToken.tokenAddress)return Ge();let o=N;o&&e.tokenDecimal!=n.fromToken.tokenDecimal&&(o=Object(O.jb)(o)._toFixed(Number(e.tokenDecimal),1)),n.fromToken=Object(s.a)({},e),t.setData({swapToken:n}),t.getBalanceAndApprove(),Pe(n.fromToken),S(Object(O.c)(o)),I(!1);const c=Z(n.fromToken,n.toToken);a.setData({swapTRXState:c})}catch(n){t.showModal(1,!1),console.log(n)}}),[N,Pe,a,t,Ge]);Object(r.useEffect)((()=>{!async function(){pe&&N&&(a.setData({isRequesting:!0}),await t.getBalanceAndApprove(),await Xe(N),be(!1))}()}),[N,R,pe]);const Qe=Object(r.useCallback)((async e=>{const{swapToken:n}=t;if((null===e||void 0===e?void 0:e.tokenAddress)!==n.toToken.tokenAddress){t.showModal(2,!1);try{if(e.tokenAddress===n.fromToken.tokenAddress)return Ge();e.tokenDecimal=Number(e.tokenDecimal);let o=A;o&&e.tokenDecimal!=n.toToken.tokenDecimal&&(o=new i.a(o)._toFixed(Number(e.tokenDecimal),1)),n.toToken=Object(s.a)({},e),t.setData({swapToken:n}),t.getBalanceAndApprove();const c=Z(n.fromToken,n.toToken);a.setData({swapTRXState:c})}catch(o){t.showModal(2,!1),console.error(o)}}}),[a,t,Ge,A]),Ye=Object(r.useCallback)((e=>{const a=Je(e);"from"===t.currentSelect?$e(a):"to"===t.currentSelect&&Qe(a),t.showDealWarningModal(e.address)}),[$e,Qe,t,Je]),et=e=>{let s=e.target.value,n=A;if(s){const{valid:e,str:a}=Object(O.ab)(s.replace(/,/g,""),t.swapToken.fromToken.tokenDecimal);if(!e)return;s=a,t.swapToken.fromToken.tokenAddress&&t.swapToken.toToken.tokenAddress||(n="")}else n="";S(Object(O.c)(s)),a.setData({receivedFlag:!0})},tt=()=>{const e=t.swapToken.fromToken,s=t.swapToken.toToken;a.swapTRXState&&I(!1);const n=m.a.get("swap.action_swap"),o=["orange","red"].includes(X)?m.a.get("swap.action_swapStill"):m.a.get("swap.confirm_swap"),c=m.a.get("action.swapAct",{from:e.tokenSymbol,to:s.tokenSymbol}),i=m.a.get("action.swapActErr"),l=!a.swapTRXState&&R;a.setData({swapPopTitle:n,swapPopBtn:o,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:m.a.get("action.approveAct",{token:e.tokenSymbol}),approveActionError:m.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:c,swapActionError:i,swapActionState:"",actionInfo:m.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:l?"line":"info",actionStarted:!1,successFromValue:"",successToValue:""}),Y(!1)},at=Object(r.useCallback)((()=>{a.isRequesting||(tt(),me(!0),le(!1))}),[a.isRequesting]);Object(r.useEffect)((()=>{ue&&ct()}),[ue]);const st=()=>{a.actionStarted?Y(!0):nt()},nt=()=>{me(!1),setTimeout((()=>{tt()}),1e3)},ot=()=>{a.setData({actionStarted:!0,swapPopBtn:m.a.get("action.startBtn"),swapPopBtnDisabled:!0}),a.swapToken(N,A)},ct=()=>{let e=R,s=a.actionRetry;switch(a.swapTRXState&&(e=!1),!s&&e&&(s="approveToken"),s){case"approveToken":a.setData({approveActionState:"start",actionInfo:m.a.get("action.startBtn"),actionDisabled:!0}),(async()=>{const{fromToken:e,toToken:s}=t.swapToken;if(e&&s&&(e.tokenAddress===k.default.trxFakeAddress&&s.tokenAddress===k.default.wtrxAddress||s.tokenAddress===k.default.trxFakeAddress&&e.tokenAddress===k.default.wtrxAddress))return;const n=t.swapToken.fromToken.tokenAddress,o=await Object(oe.h)(e.tokenAddress,s.tokenAddress)?k.default.v3Contract.homePumpRouter:k.default.v3Contract.router;await Object(z.c)(n,o,{title:"swap.pop_title_approve",obj:{token:t.swapToken.fromToken.tokenSymbol}})?(I(!1),a.setData({approveActionState:"pending",actionInfo:m.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0}),setTimeout((()=>{a.setData({approveActionState:"success",actionState:"info"})}),5e3)):a.setData({approveActionState:"error",actionRetry:"approveToken",actionInfo:m.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0})})();break;case"swapToken":a.setData({swapActionState:"start",actionInfo:m.a.get("action.startBtn"),actionDisabled:!0}),a.swapToken(N,A)}},it=()=>{Y(!1),le(!0)},lt=()=>{Y(!1)};Object(r.useEffect)((()=>{if(!Q&&ee){async function e(){R&&await t.getBalanceAndApprove()}nt(),e()}return()=>{}}),[Q,ee]);const rt=Object(v.jsx)(l.a,{children:()=>Object(v.jsx)("div",{className:"box-tools",children:Object(v.jsx)("p",{className:"box-tool-item",children:Object(v.jsx)(x.a,{network:e,version:"home",onChange:(t,a)=>{e.saveSettings(t,a),Me()}})})})}),dt=()=>Fe?Object(v.jsxs)("div",{className:"trade-router-loading",children:[m.a.get("swap.loading_router"),Object(v.jsx)("span",{className:"price-loading-img"})]}):Object(v.jsx)(v.Fragment,{children:a.swapTRXState?"":Object(v.jsx)(g.a,{swapPool:a.swapPool,swapTRXState:a.swapTRXState,onChangeRoutePath:Le,onChangeRouteIndex:Be,activePathIndex:a.activePathIndex,transRoutePath:a.transRoutePath,tradeRouterPathArr:a.tradeRouterPathArr,tradeRouterDataArr:a.tradeRouterDataArr},a.activePathIndex)}),pt=e=>{Object(ne.a)({action:e,event_category:ne.j.home})};Object(r.useEffect)((()=>{const e=Object(O.L)("t0"),t=Object(O.L)("t1"),a=e||k.default.trxFakeAddress;we.current.importTokens([a,t])}),[]);const bt=Object(r.useCallback)((e=>{const[a,s]=e;a&&a.address&&($e(Je(a)),t.showDealWarningModal(a.address)),s&&s.address&&(Qe(Je(s)),t.showDealWarningModal(s.address))}),[$e,Je]),ut=e=>{window.open("".concat(k.default.tronscanUrl,"/address/").concat(e),"_blank")};return Object(v.jsx)(l.a,{children:()=>Object(v.jsxs)("div",{className:"home-swap-box",id:"swap-box",ref:$,children:[Object(v.jsxs)("div",{className:"hero-swap-box-card",children:[Object(v.jsxs)("div",{className:"header-box",children:[Object(v.jsx)("div",{className:"box-header",children:m.a.get("header.swap")}),Object(v.jsx)("div",{className:"header-advanced",children:rt})]}),Object(v.jsx)("div",{className:"box-body",children:Object(v.jsxs)("div",{className:"swap-body",children:[Object(v.jsxs)("div",{className:"home-swap-row",children:[Object(v.jsxs)("div",{className:"home-swap-row-header",children:[Object(v.jsx)("div",{className:"home-swap-row-header-name",children:"From"}),Object(v.jsxs)("div",{className:"home-swap-row-header-r",children:[Object(v.jsx)(H.a,{tokenAddress:t.swapToken.fromToken.tokenAddress}),t.swapToken.fromToken.tokenAddress!==k.default.trxFakeAddress?Object(v.jsx)("div",{className:"view-token",children:Object(v.jsx)("img",{onClick:()=>ut(t.swapToken.fromToken.tokenAddress),src:ie,alt:"viewToken"})}):"",e.isConnected?Object(v.jsx)("span",{className:"max-btn ".concat(d?" disabled ":""),onClick:Ke,children:m.a.get("buysell.max")}):null]})]}),Object(v.jsxs)("div",{className:"input-part from-input",children:[Object(v.jsxs)("div",{className:"home-touch-row",children:[Object(v.jsx)(q,{showModal:()=>{t.handleCurrentSelect("from"),Ne(_.c.TokenSelectModalKey),pt(ne.h.from_token)},isFrom:!0,errorTip:d,setMaxFrom:Ke,token:t.swapToken.fromToken}),Object(v.jsx)("div",{className:V()("swap-input-wrap"),children:Object(v.jsx)(re,{placeholder:u?"":m.a.get("buysell.enter_amount"),className:"from-input ".concat(T?"en":""),onFocus:()=>{y(!0)},onBlur:()=>!N&&!(null!==N&&void 0!==N&&N.length)&&y(!1),value:N,onChange:et})})]}),Object(v.jsxs)("div",{className:"home-swap-price-row",children:[Object(v.jsxs)("div",{className:"home-swap-price-row-blance",children:[Object(v.jsx)("span",{children:m.a.get("buysell.balance")}),Object(v.jsx)("span",{children:Object(O.w)(t.swapToken.fromToken.balance,{dp:6,cutZero:!0})})]}),Object(v.jsx)("div",{className:"home-swap-price-row-usd",children:Fe?Object(v.jsxs)("div",{className:"bottom-price-loading",children:[m.a.get("swap.calc_usd_loading"),Object(v.jsx)("span",{className:"price-loading-img"})]}):""!==a.inUsd&&Object(v.jsx)(W,{isFrom:!0})})]})]})]}),Object(v.jsxs)("div",{className:"box-control",children:[Object(v.jsxs)("div",{className:"swap-ico-wrap",children:[Object(v.jsx)("img",{src:ae,className:"swap-ico swap-ico-default",onClick:()=>Ge(),alt:"switch"}),Object(v.jsx)("img",{src:se,className:"swap-ico swap-ico-active",onClick:()=>Ge(),alt:"switch"})]}),dt()]}),Object(v.jsxs)("div",{className:"home-swap-row",children:[Object(v.jsxs)("div",{className:"home-swap-row-header",children:[Object(v.jsx)("div",{className:"home-swap-row-header-name",children:"To"}),Object(v.jsxs)("div",{className:"home-swap-row-header-r",children:[Object(v.jsx)(H.a,{tokenAddress:t.swapToken.toToken.tokenAddress}),t.swapToken.toToken.tokenAddress!==k.default.trxFakeAddress?Object(v.jsx)("div",{className:"view-token",children:Object(v.jsx)("img",{onClick:()=>ut(t.swapToken.toToken.tokenAddress),src:ie,alt:"viewToken"})}):""]})]}),Object(v.jsxs)("div",{className:"input-part",children:[Object(v.jsxs)("div",{className:"home-touch-row",children:[Object(v.jsx)(q,{showModal:()=>{t.handleCurrentSelect("to"),Ne(_.c.TokenSelectModalKey),pt(ne.h.to_token)},token:t.swapToken.toToken,isFrom:!1,errorTip:d}),Object(v.jsx)("div",{className:"swap-input-wrap",children:Object(v.jsx)(n.a,{arrow:!1,title:A,placement:"bottomLeft",align:{offset:ve?[10,-5]:[16,-10]},getPopupContainer:e=>e.parentElement||document.body,overlayClassName:"swap-input-wrap-tooltip",children:Object(v.jsx)(re,{placeholder:"0",style:{caretColor:"transparent"},className:"wallet to-input ".concat(T?"en":""),value:A})})})]}),Object(v.jsxs)("div",{className:"home-swap-price-row",children:[Object(v.jsxs)("div",{className:"home-swap-price-row-blance",children:[Object(v.jsx)("span",{children:m.a.get("buysell.balance")}),Object(v.jsx)("span",{children:Object(O.w)(t.swapToken.toToken.balance,{dp:6,cutZero:!0})})]}),Object(v.jsx)("div",{className:"home-swap-price-row-usd",children:Fe?Object(v.jsxs)("div",{className:"bottom-price-loading",children:[m.a.get("swap.calc_usd_loading"),Object(v.jsx)("span",{className:"price-loading-img"})]}):""!==a.outUsd&&Object(v.jsx)(W,{isFrom:!1})})]})]})]})]})}),Object(v.jsxs)("div",{className:"box-footer",children:[Object(v.jsx)("div",{className:"footer-max-tip-row",children:a.swapPool&&a.swapPool.some((e=>k.default.safePoolConfig.includes(e)))?Object(v.jsx)(F,{fromValue:N,onSafeMax:Ze}):""}),Object(v.jsx)("div",{className:"footer-info-row",children:Object(v.jsx)(P,{priceInverseStr:L,priceStr:U})}),dt(),"0.5"===e.settingSlippage||a.swapTRXState?null:Object(v.jsx)("div",{className:"description-list",children:Object(v.jsxs)("div",{className:"description-list-item first",children:[Object(v.jsxs)("span",{className:"label",children:[m.a.get("swap.detail_slippage"),"\uff1a"]}),Object(v.jsx)("span",{className:"text",children:(i()(e.settingSlippage).lt(.01)?"<0.01":e.settingSlippage)+"%"})]})}),N&&A&&t.swapToken.fromToken.tokenAddress&&t.swapToken.toToken.tokenAddress&&!a.swapTRXState?Object(v.jsx)("div",{className:"box-description",children:Object(v.jsx)(w,{fromValue:N})}):null,Object(v.jsx)(M,{errorTip:d,priceImpactColor:X,showSwapModal:at}),d===m.a.get("trade.tip_1")?Object(v.jsx)("div",{className:"error-text",children:m.a.get("trade.tip_2")}):""]})]}),Object(v.jsx)(D,{visible:ue,swapData:{fromValue:N,toValue:A,priceStr:U,priceInverseStr:L,priceImpactColor:X,miniPopVisible:!1},hideSwapModal:nt,onRetryAction:ct,beforeSwapToken:ot,beforeHideSwapModal:st}),Object(v.jsx)(f.a,{visible:Q,confirm:it,cancel:lt}),Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(_.j,{onSelect:Ye,ref:we,onCustomImported:bt,modalKey:_.c.TokenSelectModalKey,theme:c.theme}),Object(v.jsx)(ce.a,{visible:_e,cb:t.handleDealWarningContinue,dealWarningSymbol:xe[0]})]})})}},2281:function(e,t,a){},2282:function(e,t,a){"use strict";var s=a(0),n=a(1431),o=a(287),c=function(e,t){return s.createElement(o.a,Object.assign({},e,{ref:t,icon:n.a}))};c.displayName="LeftOutlined",t.a=s.forwardRef(c)},2283:function(e,t,a){"use strict";var s=a(0),n=a(1429),o=a(287),c=function(e,t){return s.createElement(o.a,Object.assign({},e,{ref:t,icon:n.a}))};c.displayName="RightOutlined",t.a=s.forwardRef(c)},2284:function(e,t,a){var s={"./3pool.svg":578,"./btc.svg":579,"./btt.svg":580,"./eth.svg":581,"./jst.svg":582,"./nft.svg":583,"./s3p.svg":584,"./sun.svg":585,"./sun3.svg":586,"./trx.svg":587,"./tusd.svg":588,"./usdc.svg":589,"./usdd.svg":590,"./usddv2.svg":591,"./usdj.svg":592,"./usdt.svg":593,"./usdtv2.svg":594,"./wbtt.svg":595,"./win.svg":596};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id=2284},2285:function(e,t,a){},2843:function(e,t,a){"use strict";a.r(t);var s=a(88),n=a(0),o=a.n(n),c=a(6),i=a(97),l=a(1013),r=a(7),d=a.n(r),p=(a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a(1791),a(25)),b=(a(1085),a(4));var u=a(38),m=a(2861),j=a(11),g=a.n(j),h=(a(2281),a(2282)),O=a(2283),v=a(1144),w=a(1123);var _=a.p+"static/media/m_refer_png.46e32bf0.png",x=a.p+"static/media/m_refer_png_tc.9db32c01.png",f=a.p+"static/media/m_refer_png_zh.0b961880.png",k=a.p+"static/media/pc_refer_png.5a4f7759.png",y=a.p+"static/media/pc_refer_png_tc.a7104515.png",T=a.p+"static/media/pc_refer_png_zh.7dbc4bcd.png",N=a.p+"static/media/pc.bfc15ba7.png",S=a.p+"static/media/pc_tc.5a922c11.png",A=a.p+"static/media/pc_zh.46a4a252.png",D=a.p+"static/media/m.d7a64968.png",C=a.p+"static/media/m_tc.e50ca011.png",P=a.p+"static/media/m_zh.3a333938.png",R=a.p+"static/media/pc.bfc15ba7.webp",M=a.p+"static/media/pc_tc.5a922c11.webp",F=a.p+"static/media/pc_zh.46a4a252.webp",I=a.p+"static/media/m.d7a64968.webp",V=a.p+"static/media/m_tc.e50ca011.webp",U=a.p+"static/media/m_zh.3a333938.webp";var E=()=>{const e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=Object(n.useRef)(null),{png:a}=Object(w.b)({imgMaps:{m_light_png:_,m_light_png_tc:x,m_light_png_zh:f,m_png:_,m_png_tc:x,m_png_zh:f,pc_light_png:k,pc_light_png_tc:y,pc_light_png_zh:T,pc_png:k,pc_png_tc:y,pc_png_zh:T}}),{webp:s,png:o}=Object(w.c)(Object(n.useMemo)((()=>[[N,"pc","dark|light","en","png"],[S,"pc","dark|light","tc","png"],[A,"pc","dark|light","zh","png"],[D,"m","dark|light","en","png"],[C,"m","dark|light","tc","png"],[P,"m","dark|light","zh","png"],[R,"pc","dark|light","en","webp"],[M,"pc","dark|light","tc","webp"],[F,"pc","dark|light","zh","webp"],[I,"m","dark|light","en","webp"],[V,"m","dark|light","tc","webp"],[U,"m","dark|light","zh","webp"]]),[])),c=[{id:"pump",png:a,jumpUrl:"https://sunpump.meme/referral"}];return Object(b.jsxs)("div",{className:"home-base-banner",children:[c.length>1&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:g()("home-base-banner-switch-btn","home-base-banner-prev"),onClick:()=>{t.current.prev()},children:Object(b.jsx)(h.a,{})}),Object(b.jsx)("div",{className:g()("home-base-banner-switch-btn","home-base-banner-next"),onClick:()=>{t.current.next()},children:Object(b.jsx)(O.a,{})})]}),Object(b.jsx)(u.a,{theme:{components:{Carousel:{autoplaySpeed:5e3,dotActiveWidth:50,dotHeight:12,dotGap:10,dotOffset:20,dotWidth:20}}},children:Object(b.jsx)(m.a,{autoplaySpeed:5e3,ref:t,dots:c.length>1,autoplay:!0,infinite:!0,adaptiveHeight:!0,style:{cursor:"pointer",position:"relative"},children:c.map((t=>Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(v.a,{webpSrc:t.webpSrc,src:t.png,onClick:()=>(t=>{let a="";if(a="zh-CN"===e?t.jumpUrlCn:"zh-TC"===e?t.jumpUrlTc:t.jumpUrl,a=a||t.jumpUrl,a)return window.open(a,t.target||"_blank")})(t),renderChildren:t.render,className:"home-banner-img"})})))})})]})},L=a(18),B=a(2),X=(a(1193),a(1)),H=a.p+"static/media/ico_hot.3df94fdf.svg",q=a.p+"static/media/ico_new_pool.1ce2849e.svg",W=(a(408),a(119));const z=["id","symbol","version","token","lpStaker","fromSunPump"],K=["id","symbol","version","token","lpStaker","fromSunPump"],Z=["pusstrx","vikitatrx","psyoptrx","rocktrx","suncattrx","sundogtrx"],G=["pusstrx","vikitatrx","psyoptrx","rocktrx","suncattrx","sundogtrx"],J=()=>{const e=Object(W.useMobileOnly)();return Object(b.jsxs)("div",{className:"slogan",children:[Object(b.jsx)("div",{className:"title",children:e?d.a.getHTML("home.section.liquidity_farm"):d.a.get("home.section.liquidity_farm").replace("<br/>","")}),Object(b.jsx)("div",{className:"content ".concat("en-US"===window.localStorage.getItem("lang")?" en ":""),children:d.a.get("home.section.featured_pools")})]})},$=()=>Object(b.jsxs)("div",{className:"token-icons",children:[Object(b.jsx)("img",{style:{marginRight:"-8px"},src:Object(p.g)("default"),alt:"default icon"}),Object(b.jsx)("img",{src:Object(p.g)("default"),alt:"default icon"})]}),Q=e=>{let{id:t,version:a}=e;const s=p.f[t];return Object(b.jsx)("div",{className:"token-icons",children:Object(b.jsx)("img",{src:s,alt:"".concat(t," icon")})})},Y=(e,t)=>G.includes(e);var ee=()=>{const e=Object(s.d)((()=>i.default.pool)),t=Object(s.d)((()=>i.default.farmStore)),a=Object(s.d)((()=>i.default.pumpFarmStore)),n=Object(s.d)((()=>i.default.network)),[c,l]=o.a.useState({}),[r,p]=o.a.useState({}),[u,m]=o.a.useState(!0);o.a.useEffect((()=>{!async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.stakeVersion;try{await e.getStakeApyDataNew(),l(Object(B.a)({},e["stakeData"+s])),await t.getFarmStakeApyData();const n=t.farmData;await a.getFarmStakeApyData();const o=a.farmData;p(Object(B.a)(Object(B.a)({},n),o))}finally{m(!1)}}()}),[]);const j=()=>{const e=e=>{let{flexApy:t,fixApy:a,govApy:s}=e;return{minApy:t,maxApy:Object(X.a)(a).plus(s)}};let t=Object.values(c).map((t=>{let{id:a,symbol:s,version:n,token:o,lpStaker:c,fromSunPump:i}=t,l=Object(L.a)(t,z);const r=e(l).maxApy;return"twopoollpNew"===a||"usddusdt"===a?"":{id:a,symbol:s,version:n,maxApy:r,apyText:Object(X.u)(r)+"%",token:o,lpStaker:c,fromSunPump:i}})).filter((e=>{let{maxApy:t,id:a}=e;return!!t&&"twopoollpNew"!==a})).sort(((e,t)=>t.maxApy.minus(e.maxApy)));t=[...Object.values(r).map((t=>{let{id:a,symbol:s,version:n,token:o,lpStaker:c,fromSunPump:i}=t,l=Object(L.a)(t,K);const r=e(l).maxApy||Object(X.a)(0);return{id:a,symbol:s,version:n,maxApy:r,apyText:Object(X.u)(r)+"%",token:o,lpStaker:c,fromSunPump:i}})).filter((e=>{let{id:t}=e;return Z.includes(t)})).sort(((e,t)=>t.maxApy.minus(e.maxApy))),...t],t=t.slice(0,5);return Object(b.jsx)("div",{className:"farm-apy-wrapper",children:t&&5===t.length&&t.map((e=>{let{apyText:t,symbol:a,id:s,version:n,token:o,lpStaker:c,fromSunPump:i}=e;return Object(b.jsxs)("div",{className:g()("farm-apy-item",{"farm-apy-hot":Y(s)}),children:[Object(b.jsxs)("div",{className:"pc-wrap",children:[Object(b.jsx)("img",{className:"hot-img",src:q,alt:"newPool"}),Object(b.jsx)("div",{className:"farm-apy-name",children:"SunBoost"}),Object(b.jsxs)("div",{className:"apy-upper-part",children:[u?Object(b.jsx)($,{}):Object(b.jsx)(Q,{id:s,version:n}),Object(b.jsxs)("div",{className:"symbol-text",children:["twopoollpNew"===s||"usddusdt"===s?Object(b.jsx)("img",{className:"apy-hot-icon",src:H,alt:"hot"}):"",u?null:a]})]}),Object(b.jsxs)("div",{className:"apy-lower-part",children:[Object(b.jsxs)("div",{className:"apy-up-to-text",children:[Object(b.jsx)("div",{className:"apy-up-to",children:d.a.get("home.section.apy_up_to")}),Object(b.jsx)("div",{className:"apy-text",children:u?null:t})]}),Object(b.jsx)("a",{className:"apy-btn",href:i?"/#/pump_stake?search=".concat(c):"/#/stake/two?search=".concat(c),children:d.a.get("home.section.stake_to_earn")})]})]}),Object(b.jsxs)("div",{className:"mobile-wrap",children:[Object(b.jsx)("img",{className:"hot-img",src:q,alt:"newPool"}),Object(b.jsxs)("div",{className:"farm-apy-header",children:[u?Object(b.jsx)($,{}):Object(b.jsx)(Q,{id:s,version:n}),Object(b.jsxs)("div",{className:"symbol-text",children:[u?null:a,"twopoollpNew"===s||"usddusdt"===s?Object(b.jsx)("img",{className:"apy-hot-icon",src:H,alt:"hot"}):""]}),Object(b.jsx)("div",{className:"farm-pool-version",children:"SunBoost"})]}),Object(b.jsxs)("div",{className:"farm-apy-btm",children:[Object(b.jsxs)("div",{className:"farm-apy-btm-l",children:[Object(b.jsx)("div",{className:"apy-up-to",children:d.a.get("home.section.apy_up_to")}),Object(b.jsx)("div",{className:"apy-text",children:u?null:t})]}),Object(b.jsx)("div",{className:"farm-apy-btm-r",children:Object(b.jsx)("a",{className:"apy-btn",href:i?"/#/pump_stake?search=".concat(c):"/#/stake/two?search=".concat(c),children:d.a.get("home.section.stake_to_earn")})})]})]})]},s)}))})};return Object(b.jsx)(s.a,{children:()=>Object(b.jsxs)("div",{className:"apy-section",children:[Object(b.jsx)(J,{}),Object(b.jsx)(j,{})]})})},te=a.p+"static/media/bg_gov.72291deb.png",ae=a.p+"static/media/bg_gov_light.bb13873a.png";var se=()=>{const e=Object(s.d)((()=>i.default.themeStore)),t=window.localStorage.getItem("lang")||d.a.options.currentLocale;return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"gov",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"box-l",children:Object(b.jsx)("img",{src:"dark"===e.theme?te:ae,alt:"earch"})}),Object(b.jsxs)("div",{className:"box-r",children:[Object(b.jsx)("div",{className:"title",children:d.a.get("home.section.participate_in_governance")}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"content-row",children:d.a.get("home.section.mining_speed")}),Object(b.jsx)("div",{className:"content-row",dangerouslySetInnerHTML:{__html:d.a.get("home.section.by_locking_sun")}})]}),Object(b.jsx)("a",{className:"gov-btn",href:"/?lang=".concat(t,"#/governance"),children:d.a.get("toast.warning_tip_more")})]})]})})})})},ne=a(1069),oe=a.n(ne),ce=a(1349),ie=a.p+"static/media/bg_tvl1.1e2187ca.svg",le=a.p+"static/media/bg_tvl2.9cd58cac.svg",re=a.p+"static/media/bg_tvl3.685136ad.svg",de=a.p+"static/media/bg_tvl4.77e0e7cd.svg",pe=a.p+"static/media/banner_sun.2003f75b.png",be=a.p+"static/media/banner_sun_light.5e2d031d.png",ue=a.p+"static/media/ico_sun.588d297f.gif",me=a.p+"static/media/ico_sun_light.9494beb1.gif",je=a.p+"static/media/banner_pump_sun.4bf1de63.png",ge=a.p+"static/media/banner_pump_sun_light.0480a66b.png",he=a.p+"static/media/bg_pump_sun.ba84ee1d.png",Oe=a.p+"static/media/bg_pump_sun_light.33a8ddae.png";a(2285);var ve=e=>{const t=Object(s.d)((()=>i.default.themeStore)),a=()=>{window.open(c.default.pump.homeLink,"_blank")};return Object(b.jsx)(s.a,{children:()=>Object(b.jsxs)("div",{className:"hero-intro-pump-card",children:[Object(b.jsx)("div",{className:"hero-intro-pump-card-banner",onClick:a,children:Object(b.jsx)("img",{src:"dark"===t.theme?je:ge,alt:"pump"})}),Object(b.jsxs)("div",{className:"hero-intro-pump-card-sun-intro-card",children:[Object(b.jsx)("div",{className:"hero-intro-pump-card-title",children:d.a.get("home.section.sun_ecosystem")}),Object(b.jsxs)("div",{className:"hero-intro-pump-card-main",children:[Object(b.jsxs)("div",{className:"hero-intro-pump-card-main-l",children:[Object(b.jsx)("div",{className:"hero-intro-pump-card-content",children:d.a.get("banner.desc_home")}),Object(b.jsx)("div",{className:"hero-intro-pump-card-content",children:d.a.get("homeLegal.title")})]}),Object(b.jsx)("div",{className:"hero-intro-pump-card-main-r",children:Object(b.jsx)("img",{src:"dark"===t.theme?he:Oe,alt:"banner"})})]})]})]})})};const we=e=>e&&Object(b.jsx)(oe.a,{className:"tvl-count-up",end:Number(Object(X.kb)(e,0)),duration:1,prefix:"$",separator:","}),_e=e=>{const t=Object(s.d)((()=>i.default.themeStore));return Object(b.jsx)(s.a,{children:()=>Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"hero-intro-card",children:[Object(b.jsx)("div",{className:"title",children:d.a.get("home.section.sun_ecosystem")}),Object(b.jsx)("div",{className:"content",children:d.a.get("banner.desc_home")}),Object(b.jsx)("div",{className:"content",children:d.a.get("homeLegal.title")}),Object(b.jsxs)("div",{className:"banner-wrap",children:[Object(b.jsx)("img",{className:"banner-wrap-icon",src:"dark"===t.theme?ue:me,alt:"sun"}),Object(b.jsx)("img",{className:"banner-wrap-bg",src:"dark"===t.theme?pe:be,alt:"banner"})]})]}),Object(b.jsx)(ve,{})]})})},xe=()=>{const e=Object(s.d)((()=>i.default.pool)),t=Object(s.d)((()=>i.default.home)),[a,n]=o.a.useState({});return o.a.useEffect((()=>{(async()=>{await e.getHomePageBottomApy(),await e.getVolumeData();const{allSwaps:a,miningPools:s,stableCoins:n,totalTvl:o}=await t.getAllTvlData();return{allSwaps:a,miningPools:s,stableCoins:n,totalTvl:o}})().then(n)}),[]),o.a.useEffect((()=>{const e=["totalTvl","stableCoins","allSwaps","miningPools"],t=setInterval((()=>{var s;const n=document.querySelectorAll(".tvl-count-up");(null===(s=n[0])||void 0===s?void 0:s.innerHTML)==="$"+Object(X.c)(Object(X.kb)(a[e[0]],0))&&clearInterval(t),n.forEach(((t,s)=>{t.innerHTML="$"+Object(X.c)(Object(X.kb)(a[e[s]],0))}))}),1e3);return()=>{clearInterval(t)}}),[a]),Object(b.jsx)(s.a,{children:()=>Object(b.jsx)("div",{className:"tvl-card-wrap",children:[{title:d.a.get("banner.total_value"),content:we(a.totalTvl),icon:ie},{title:d.a.get("banner.total_value_stable"),content:we(a.stableCoins),icon:le},{title:d.a.get("banner.total_value_sunswap"),content:we(a.allSwaps),icon:re},{title:d.a.get("banner.total_value_mining"),content:we(a.miningPools),icon:de}].map((e=>{let{title:t,content:a,icon:s}=e;return Object(b.jsxs)("div",{className:"tvl-card-item",children:[Object(b.jsx)("div",{className:"tvl-card-title",children:t}),Object(b.jsx)("div",{className:"tvl-card-text",children:a}),Object(b.jsx)("img",{className:"tvl-card-img",src:s,alt:"icon"})]})}))})})};var fe=e=>Object(b.jsx)(s.a,{children:()=>Object(b.jsxs)("div",{className:"hero-bg",children:[Object(b.jsxs)("div",{className:"hero",children:[Object(b.jsx)(ce.a,{}),Object(b.jsx)(_e,{})]}),Object(b.jsx)(xe,{})]})});t.default=()=>{let e=null;const t=Object(s.d)((()=>i.default.pool)),a=(Object(s.d)((()=>i.default.usdcPool)),Object(s.d)((()=>i.default.usdc2Pool)),Object(s.d)((()=>i.default.tusdPool)),Object(s.d)((()=>i.default.usddPool)),Object(s.d)((()=>i.default.twoKeyPool)),Object(s.d)((()=>i.default.twoKeyNewPool)),Object(s.d)((()=>i.default.network))),n=async()=>{await Promise.all([t.getHomePageBottomApy(),t.getVolumeData()])};return o.a.useEffect((()=>(window.scrollTo(0,0),e||(e=setInterval((async()=>{await n()}),a.defaultIntervalSec)),()=>{clearInterval(e)})),[]),Object(b.jsxs)("div",{className:"home-page",children:[Object(b.jsx)(l.a,{routeName:"home",instantActions:n,mountedActions:async()=>{}}),Object(b.jsxs)("div",{className:"home-page-content",children:[Object(b.jsx)(fe,{}),Object(b.jsx)(E,{}),Object(b.jsx)(ee,{}),Object(b.jsx)(se,{})]})]})}}}]);