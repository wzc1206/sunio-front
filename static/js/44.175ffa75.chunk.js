(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[44],{1006:function(e,t,a){"use strict";var s=a(0),c=a(10),n=a.n(c),i=a(1009),l=a(3);const o=e=>{const{title:t,subTitle:a,isRevert:s}=e,c="string"===typeof t;return Object(l.jsxs)("div",{className:i.page_title_wrap,children:[s&&a&&Object(l.jsx)("div",{className:i.page_title_sub,children:a}),t&&Object(l.jsx)("div",{className:n()({[i.page_title]:!0,[i.page_title_revert]:s,[i.page_title_ele]:!c}),children:c?t.split("").map(((e,t)=>Object(l.jsx)("span",{className:i.page_title_ele,children:e},t))):t}),a&&!s&&Object(l.jsx)("div",{className:i.page_title_sub,children:a})]})};t.a=Object(s.memo)(o)},1009:function(e,t,a){e.exports={"page-head":"style_page-head__1_76J",link:"style_link__JVBBX","gradient-title":"style_gradient-title__14115",animateTitle:"style_animateTitle__1W1A5","dim-content":"style_dim-content__1MZ32",uppercase:"style_uppercase__2R_0z","window-for-tabs-pane":"style_window-for-tabs-pane__3S1zF","dark-btn":"style_dark-btn__VnSQD","purple-btn":"style_purple-btn__3Ez4v","cur-input":"style_cur-input__1VPh5","max-btn":"style_max-btn__2ujF3",page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1409:function(e,t,a){"use strict";t.a=a.p+"static/media/htx_vote_mpdal_icon.d26b2d7e.png"},1410:function(e,t,a){"use strict";t.a=a.p+"static/media/warn_tips_yellow.6ccab5dd.svg"},1564:function(e,t,a){e.exports={"page-head":"style_page-head__1DykA",link:"style_link__iiVSU","gradient-title":"style_gradient-title__1WHOe",animateTitle:"style_animateTitle__3HVFH","dim-content":"style_dim-content__1J9HK",uppercase:"style_uppercase__1AEXt","window-for-tabs-pane":"style_window-for-tabs-pane__3Xzmu","dark-btn":"style_dark-btn__17QFo","purple-btn":"style_purple-btn__279T6","cur-input":"style_cur-input__1dajj","max-btn":"style_max-btn__77dvP",swap_balance:"style_swap_balance__1Fuca",swap_arrow:"style_swap_arrow__3XCK-",swap_detail_label:"style_swap_detail_label__2rzzf",swap_detail_value:"style_swap_detail_value__33-na",usd_price_text:"style_usd_price_text__3lP04"}},2082:function(e,t,a){e.exports={token_address:"style_token_address__14EYP",token_view_icon:"style_token_view_icon__1aokJ"}},2083:function(e,t,a){e.exports={"page-head":"style_page-head__3jAMF",link:"style_link__116XL","gradient-title":"style_gradient-title__15fH1",animateTitle:"style_animateTitle__3hSvJ","dim-content":"style_dim-content__1H2ka",uppercase:"style_uppercase__2ma3G","window-for-tabs-pane":"style_window-for-tabs-pane__zf0co","dark-btn":"style_dark-btn__t3BzF","purple-btn":"style_purple-btn__1TC-p","cur-input":"style_cur-input__1nKBi","max-btn":"style_max-btn__2iq9q",input_wrap:"style_input_wrap__1y1x1",input_wrap_active:"style_input_wrap_active__1-XkW",input_wrap_disabled:"style_input_wrap_disabled__3G2Re",with_max_input:"style_with_max_input__19Lk3",max_btn:"style_max_btn__IF0pQ"}},2084:function(e,t,a){e.exports={"page-head":"style_page-head__2Wl-k",link:"style_link__2QI1F","gradient-title":"style_gradient-title__20iGP",animateTitle:"style_animateTitle__1H7fk","dim-content":"style_dim-content__3XcL3",uppercase:"style_uppercase__3uhP5","window-for-tabs-pane":"style_window-for-tabs-pane__2KJmm","dark-btn":"style_dark-btn__2bDhT","purple-btn":"style_purple-btn__3Q26x","cur-input":"style_cur-input__1NsG7","max-btn":"style_max-btn__YUFS3",swap_detail_rate:"style_swap_detail_rate__1TgDb",swap_detail_per:"style_swap_detail_per__1uGNh"}},2085:function(e,t,a){},2086:function(e,t,a){},2264:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(12),i=a.n(n),l=a(998),o=a(1006),r=a.p+"static/media/page_htx_proposal_icon.e7612860.png",d=a(24),p=a(3);var j=e=>{const t=[{name:i.a.get("htx.page.vote.proposalActive"),key:d.b.unStart,classnames:"page-htx-proposal-status page-htx-proposal-status-unStart"},{name:i.a.get("htx.page.vote.proposalActive"),key:d.b.active,classnames:"page-htx-proposal-status page-htx-proposal-status-active"},{name:i.a.get("htx.page.vote.proposalPassed"),key:d.b.passed,classnames:"page-htx-proposal-status page-htx-proposal-status-passed"},{name:i.a.get("htx.page.vote.proposalExcused"),key:d.b.excused,classnames:"page-htx-proposal-status page-htx-proposal-status-excused"}];return Object(p.jsx)(p.Fragment,{children:(()=>{const a=t.findIndex((t=>t.key===e.status))>=0?t.findIndex((t=>t.key===e.status)):1,s=t[a];return e.status&&e.status!==d.b.unStart&&Object(p.jsx)("div",{className:s.classnames,children:s.name})})()})},b=a(132),u=a(1),m=a(241),x=a(118),v=a(86),h=a(96);var g=e=>{const t=e.status===d.b.unStart||e.status===d.b.active,a=Object(x.default)(x.isMobileOnlyMedia),s=Object(v.d)((()=>h.default.network)),c=!s.isConnected&&(e.status===d.b.unStart||e.status===d.b.active);return console.log("ssss",!s.isConnected,e.status),Object(p.jsx)(v.a,{children:()=>{var n;return Object(p.jsxs)("div",{className:"page-htx-proposal",children:[Object(p.jsxs)("div",{className:"page-htx-proposal-l",children:[Object(p.jsx)("div",{className:"page-htx-proposal-icon",children:Object(p.jsx)("img",{src:r,alt:"proposal_icon"})}),Object(p.jsxs)("div",{className:"page-htx-proposal-title",children:[Object(p.jsxs)("div",{className:"page-htx-proposal-title1",children:[i.a.get("htx.page.vote.proposalTitle1"),!a&&Object(p.jsx)(j,{status:e.status})]}),a&&Object(p.jsx)(j,{status:e.status})]})]}),c&&Object(p.jsx)("div",{className:"page-htx-proposal-r-wallet",children:Object(p.jsx)("div",{onClick:()=>s.setData({loginModalVisible:!0,loginModalStep:1}),children:Object(p.jsx)("div",{className:"vote-title-wallet",children:i.a.get("header.connect_wallet")})})}),e.isConnected&&t&&Object(p.jsxs)("div",{className:"page-htx-proposal-r",children:[Object(p.jsxs)("div",{className:"htx-proposal-item",children:[Object(p.jsx)("div",{className:"htx-proposal-label",children:i.a.get("htx.page.vote.balance")}),Object(p.jsx)("div",{className:"htx-proposal-value",children:Object(u.v)(e.balance,{dp:2})})]}),Object(p.jsxs)("div",{className:"htx-proposal-item",children:[Object(p.jsxs)("div",{className:"htx-proposal-label-wrap",children:[Object(p.jsx)("div",{className:"htx-proposal-label mr5",children:i.a.get("htx.page.vote.power")}),Object(p.jsx)(b.a,{className:"htx-proposal-label-question",overlayClassName:"htx-proposal-tooltip-card",title:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"htx-proposal-tooltip",children:i.a.getHTML("htx.page.vote.ownLabelTips1")}),Object(p.jsx)("div",{className:"htx-proposal-tooltip",children:i.a.getHTML("htx.page.vote.ownLabelTips2")}),Object(p.jsx)("div",{className:"htx-proposal-tooltip",children:i.a.getHTML("htx.page.vote.ownLabelTips3")})]}),children:Object(p.jsx)(m.a,{fullFilled:!0})})]}),Object(p.jsx)("div",{className:"htx-proposal-value",children:Object(u.v)(null===(n=e.power)||void 0===n?void 0:n.integerValue(u.a.ROUND_DOWN),{dp:0})})]})]})]})}})};var A=e=>Object(p.jsxs)("div",{className:"count-down-item",children:[Object(p.jsxs)("div",{className:"count-down-item-body",children:[Object(p.jsxs)("div",{className:"count-down-item-bg",children:[Object(p.jsx)("div",{className:"count-down-item-bg1"}),Object(p.jsx)("div",{className:"count-down-item-bg2"})]}),Object(p.jsx)("div",{className:"count-down-number",children:e.targetNumber})]}),Object(p.jsx)("div",{className:"count-down-desc",children:e.desc})]}),O=a(1250),_=a(1072),w=a(1469);const y=e=>e<10?"0"+e:e;var f=e=>{const{startTime:t,duration:a,voteStatus:c}=e,[n,l]=Object(s.useState)({}),[o,r]=Object(s.useState)(!0),[j,b]=Object(s.useState)(null),u=Object(s.useRef)(null);return Object(s.useEffect)((()=>{if(t&&a)return Object(O.a)().then((e=>{clearInterval(u.current),u.current=null,b(e);const s=Object(w.a)(e,t,t+a);if(s<0)return;let c=e;u.current=setInterval((()=>(e=>{c+=e;const s=Object(w.a)(c,t,t+a);console.log("getServiceTime interval",s),s<0&&(clearInterval(u.current),u.current=null),b(c)})(s)),s)})),()=>{clearInterval(u.current),u.current=null}}),[t,a,u]),Object(s.useEffect)((()=>{if(!j)return;if(t>=j)return void l({days:"00",hours:"00",minutes:"00"});const e=Object(_.a)(t+a).diff(Object(_.a)(j));if(e<w.b)return l({days:"00",hours:y(_.a.duration(e).hours()),minutes:y(_.a.duration(e).minutes()),seconds:y(_.a.duration(e).seconds())}),void r(!1);l({days:y(_.a.duration(e).days()),hours:y(_.a.duration(e).hours()),minutes:y(_.a.duration(e).minutes())})}),[t,a,j]),Object(p.jsxs)("div",{className:"vote-countdown",children:[c===d.b.active&&Object(p.jsx)("div",{className:"vote-countdown-title",children:i.a.get("htx.page.vote.countdownTitle")}),Object(p.jsxs)("div",{className:"vote-countdown-list",children:[o&&Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(A,{targetNumber:n.days,desc:i.a.get("htx.page.vote.days")})}),Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(A,{targetNumber:n.hours,desc:i.a.get("htx.page.vote.hours")})}),Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(A,{targetNumber:n.minutes,desc:i.a.get("htx.page.vote.minutes")})}),!o&&Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(A,{targetNumber:n.seconds,desc:i.a.get("htx.page.vote.seconds")})})]})]})},k=a.p+"static/media/page_htx_vote_percent_img_yes_en.21bd8358.png",N=a.p+"static/media/page_htx_vote_percent_img_yes_zh.aa5a0c6e.png",T=a.p+"static/media/page_htx_vote_percent_img_yes_tc.aa5a0c6e.png",S=a.p+"static/media/page_htx_vote_percent_img_no_en.e06c90ca.png",D=a.p+"static/media/page_htx_vote_percent_img_no_zh.268cfb0c.png",C=a.p+"static/media/page_htx_vote_percent_img_no_tc.f2b51268.png",F=a.p+"static/media/htx_page_vs.5ee415b6.png",B=a.p+"static/media/htx_page_vs_light.a6b773db.png",H=a(5),E=a(213);const{htxConfig:M}=H.default;var Q=e=>{var t;const a=window.localStorage.getItem("lang")||i.a.options.currentLocale,c=Object(v.d)((()=>h.default.network)),{voteInfo:n,handleVote:l,reVote:o,setReVote:r,sunBalance:j,voteStatus:g}=e,A=null===n||void 0===n||null===(t=n.votes)||void 0===t?void 0:t.gt(0),O=A&&(null===n||void 0===n?void 0:n.voteResult),_=A&&!(null!==n&&void 0!==n&&n.voteResult),w=Object(x.default)(x.isMobileOnlyMedia),y=g===d.b.unStart||g===d.b.active,Q=g===d.b.active&&A,V=g===d.b.unStart||g===d.b.active,I=Object(v.d)((()=>h.default.themeStore)),U=g===d.b.unStart||(!j||j.lte(0))&&c.isConnected||A&&c.isConnected&&!o,L=()=>{let e=k;return"zh-CN"===a?e=N:"zh-TC"===a&&(e=T),Object(p.jsx)("img",{src:e,alt:"yes"})},R=()=>{let e=S;return"zh-CN"===a?e=D:"zh-TC"===a&&(e=C),Object(p.jsx)("img",{src:e,alt:"no"})},P=Object(s.useCallback)((e=>{c.isConnected?l(e):c.setData({loginModalVisible:!0,loginModalStep:1})}),[l,c]);return Object(p.jsx)(v.a,{children:()=>{var e,t,a,s,c;return Object(p.jsxs)("div",{className:"page-htx-vote-main",children:[w&&Object(p.jsx)("div",{className:"page-htx-vote-percent-c-mobile",children:y&&Object(p.jsx)(f,{startTime:null===n||void 0===n||null===(e=n.voteStartTime)||void 0===e?void 0:e.toNumber(),duration:null===n||void 0===n||null===(t=n.voteDuration)||void 0===t?void 0:t.toNumber(),voteStatus:g})}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{className:"page-htx-vote-percent-t",children:[Object(p.jsx)("div",{className:"page-htx-vote-percent-img",children:L()}),Object(p.jsx)("div",{className:"page-htx-vote-percent-img",children:R()})]}),Object(p.jsxs)("div",{className:"page-htx-vote-percent-c",children:[Object(p.jsx)("div",{className:"page-htx-vote-percent-l",style:{width:"".concat(null!==(a=n.totalVote)&&void 0!==a&&a.gt(0)?n.yesRate:50,"%")},children:Object(p.jsxs)("span",{children:[n.yesRate,"%"]})}),Object(p.jsxs)("div",{className:"page-htx-vote-percent-r",children:[Object(p.jsxs)("span",{children:[n.noRate,"%"]}),Object(p.jsx)("div",{className:"page-htx-vote-vs",children:Object(p.jsx)("img",{src:"dark"===I.theme?F:B,alt:"vs"})})]})]}),Object(p.jsxs)("div",{className:"page-htx-vote-percent-b",children:[Object(p.jsx)("div",{className:"page-htx-vote-percent-b-item",children:Object(u.v)(null===n||void 0===n?void 0:n.voteYes,{dp:0})}),Object(p.jsx)("div",{className:"page-htx-vote-percent-b-item",children:Object(u.v)(null===n||void 0===n?void 0:n.voteNo,{dp:0})})]})]}),V&&Object(p.jsxs)("div",{className:"page-htx-vote-area",children:[Object(p.jsx)("div",{className:"page-htx-vote-area-l",children:Object(p.jsx)("button",{type:"button",disabled:U,onClick:()=>P(1),children:i.a.get(O?"htx.page.vote.btnYesText1":"htx.page.vote.btnYesText")})}),!w&&Object(p.jsx)("div",{className:"page-htx-vote-area-c",children:y&&Object(p.jsx)(f,{startTime:null===n||void 0===n||null===(s=n.voteStartTime)||void 0===s?void 0:s.toNumber(),duration:null===n||void 0===n||null===(c=n.voteDuration)||void 0===c?void 0:c.toNumber(),voteStatus:g})}),Object(p.jsx)("div",{className:"page-htx-vote-area-r",children:Object(p.jsx)("button",{type:"button",disabled:U,onClick:()=>P(2),children:i.a.get(_?"htx.page.vote.btnNoText1":"htx.page.vote.btnNoText")})})]}),Q&&Object(p.jsxs)("div",{className:"page-htx-vote-refresh",style:{textAlign:O?"":"right"},children:[Object(p.jsx)("span",{className:"page-htx-vote-refresh-title",children:i.a.get("htx.page.vote.tipsTitle1",{value:Object(u.v)(n.votes,{dp:0})})}),Object(p.jsx)("span",{className:"page-htx-vote-refresh-desc",onClick:()=>r(!0),children:i.a.get("htx.page.vote.tipsTitle2")}),Object(p.jsx)(b.a,{title:i.a.get("htx.page.vote.tipsTitle3"),children:Object(p.jsx)(m.a,{fullFilled:!0})})]}),Object(p.jsxs)("div",{className:"page-htx-vote-rules",children:[Object(p.jsxs)("div",{className:"page-htx-vote-rules-title",children:[Object(p.jsx)("div",{className:"page-htx-vote-rules-title-l",children:i.a.get("htx.page.vote.rulesTitle")}),Object(p.jsxs)("div",{className:"page-htx-vote-rules-title-r",children:[Object(p.jsx)("img",{src:"dark"===I.theme?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAMAAABNTyq8AAAAAXNSR0IArs4c6QAAALdQTFRFAAAA////v7//v5//xpz/vKH/v6b/vaH/v6T/xKL/wqH/v5//wqH/wqD/v6L/wqL/w6H/wJ//waD/wqH/wZ//wqH/wJ//waH/wZ//waD/wKH/waH/wKH/waD/wqH/wZ//wqD/wKD/wqD/waD/wqD/waH/waD/wKH/waD/waD/wKH/waD/waD/waD/wqH/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/x2lsQwAAADx0Uk5TAAEEEBITFBscHi4wNjs8P0xNTk9SVF1fYmZqh4qPkpWWn6ayv8XK0NPV2Nvd3uDm6+zt8PHz9fn7/P3+MmGezgAAAM5JREFUOMu1lMcOgkAURa8de+8du6IoVuD+/3e5MJYBdEYTz2oWJ5nXAU03+QFT1wDNogRLg04pOky5ZIIKfCU5xtKH4YiSnUUAOVuQ1ghkI0huIcgpuZ7ADzsfh5+y+4Nkdxt3WlOPNEqWtyTJ4Ut2MbFOzAOpnUxqA0hbku+cGoDMRRK4UwQwlkizKBA2PkuLOIABSbqPthy9UgVAjyRXiWd2TY9UB7okyc5LCUJnUdr3J7fHPPKUqm97d3qM7+YPU6C0nEprrnQwVE7PFaCc3Sx/sJvrAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAMAAABNTyq8AAAAAXNSR0IArs4c6QAAALdQTFRFAAAA/wD/gED/j1D/jlX/hlH/jE3/jlX/iVL/iFX/i1P/ilD/jlD/ilL/jFH/jlH/jVH/i0//jVL/i1H/jFH/jFL/jFL/jFH/jVH/jFD/jFL/jFH/jFH/jVD/jFD/jFD/i1L/jFL/jFH/jFL/jFH/jFL/jFH/jFH/jFH/jFH/jFH/jFL/jFH/jFL/jFH/jFH/jFH/jFH/jFH/jFH/jFH/jFH/jVH/jFH/jFH/jFH/jFH/jFH/jFH/VKNyDwAAADx0Uk5TAAEEEBITFBscHi4wNjs8P0xNTk9SVF1fYmZqh4qPkpWWn6ayv8XK0NPV2Nvd3uDm6+zt8PHz9fn7/P3+MmGezgAAAM5JREFUOMu1lMcOgkAURa8de+8du6IoVuD+/3e5MJYBdEYTz2oWJ5nXAU03+QFT1wDNogRLg04pOky5ZIIKfCU5xtKH4YiSnUUAOVuQ1ghkI0huIcgpuZ7ADzsfh5+y+4Nkdxt3WlOPNEqWtyTJ4Ut2MbFOzAOpnUxqA0hbku+cGoDMRRK4UwQwlkizKBA2PkuLOIABSbqPthy9UgVAjyRXiWd2TY9UB7okyc5LCUJnUdr3J7fHPPKUqm97d3qM7+YPU6C0nEprrnQwVE7PFaCc3Sx/sJvrAAAAAElFTkSuQmCC",alt:"addr"}),Object(p.jsx)(E.a,{href:"".concat(H.default.tronscanUrl,"/contract/").concat(M.htxVoteContract),target:"_blank",rel:"noopener noreferrer",children:Object(u.r)(M.htxVoteContract,6,6)})]})]}),Object(p.jsx)("div",{className:"page-htx-vote-rules-list",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc1")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc2")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc3")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc4")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc5")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc6")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc7")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc8")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc9")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc10")}),Object(p.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc11")})]})})]})]})}})},V=a.p+"static/media/htx_page_bannber_en.b20a1053.png",I=a.p+"static/media/htx_page_bannber_zh.e7e9272f.png",U=a.p+"static/media/htx_page_bannber_tc.8deda45a.png",L=a.p+"static/media/htx_page_bannber_en_light.f72fa8df.png",R=a.p+"static/media/htx_page_bannber_zh_light.40515c26.png",P=a.p+"static/media/htx_page_bannber_tc_light.1a50f71a.png";var G=e=>{const t=window.localStorage.getItem("lang")||i.a.options.currentLocale;return Object(p.jsx)("div",{className:"page-htx-banner",children:(()=>{let a="dark"===e.theme?V:L;return"zh-CN"===t?a="dark"===e.theme?I:R:"zh-TC"===t&&(a="dark"===e.theme?U:P),Object(p.jsx)("img",{src:a,alt:"htx_sun"})})()})},J=a(1474),z=a(1476);var K=e=>{const t=Object(v.d)((()=>h.default.network)),a=()=>Object(p.jsx)("div",{className:"htx-submit-btn ".concat(e.errorTip&&"htx-submit-btn-disabled"),...e,children:e.errorTip?e.errorTip:i.a.get("buysell.swap")});return Object(p.jsx)(v.a,{children:()=>Object(p.jsx)(c.a.Fragment,{children:t.isConnected?Object(p.jsx)(a,{}):Object(p.jsx)("div",{className:"htx-submit-btn",onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),children:i.a.get("header.connect_wallet")})})})},Y=a(1564),W=a.n(Y);var Z=e=>{const{tokenPrice:t,tokenValue:a}=e,s=Object(u.ib)(a).times(Object(u.ib)(t));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:Y.usd_price_text,children:Object(u.v)(s,{dp:2,needDolar:!0,cutZero:!1,miniText:.01})})})},q=a(174),X=a(2299),$=a(2082);var ee=e=>{const{tokenSymbol:t,tokenLogoUrl:a,tokenAddress:s}=e;return Object(p.jsxs)("div",{className:$.token_address,children:[Object(p.jsx)("img",{alt:"",src:a||q.a,onError:e=>{e.target.src!==q.a&&(e.target.src=q.a)}}),Object(p.jsx)("span",{children:t}),Object(p.jsx)("span",{children:Object(u.mb)(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(X.a,{className:$.token_view_icon+" ml-20"})}),s)})]})},te=a(1069),ae=a(375),se=a(10),ce=a.n(se),ne=a(2083);const ie=e=>{const{className:t,onMaxClick:a,showMax:c=!0,bottomContent:n,disabled:l,...o}=e,[r,d]=Object(s.useState)(!1),j=Object(s.useCallback)((()=>{d(!1)}),[]);return Object(p.jsxs)("div",{className:ce()(ne.input_wrap,t,{[ne.input_wrap_active]:r,[ne.input_wrap_disabled]:l}),children:[Object(p.jsxs)("div",{className:"flex",onFocus:()=>{d(!0)},onBlur:j,children:[Object(p.jsx)(ae.a,{placeholder:"0",className:ne.with_max_input,...o}),c&&Object(p.jsx)("span",{className:ne.max_btn,onClick:a,children:i.a.get("swap.input_from_max")})]}),Object(p.jsx)(p.Fragment,{children:n})]})};var le=Object(s.memo)(ie),oe=a(2084),re=a.n(oe),de=a(1470),pe=a(1471);var je=e=>{const[t,a]=Object(s.useState)(!1),{priceStr:c,priceInverseStr:n,fromToken:l,toToken:o}=e,r=async()=>{a(!t)};return Object(p.jsxs)("span",{className:re.a.swap_detail_rate,children:[t?i.a.getHTML("swap.input_from_per",{toToken:l.symbol,price:Object(u.v)(n,{miniText:H.default.minPrice,miniTextNoZero:!0,separator:!1,dp:o.decimal,cutZero:!0}),fromToken:o.symbol}):i.a.getHTML("swap.input_from_per",{toToken:o.symbol,price:Object(u.v)(c,{miniText:H.default.minPrice,miniTextNoZero:!0,separator:!1,dp:l.decimal,cutZero:!0}),fromToken:l.symbol}),Object(p.jsx)("img",{src:de.a,className:"ml-12 base-dark-show",onClick:r,alt:"",style:{width:22}}),Object(p.jsx)("img",{src:pe.a,className:"ml-12 base-light-show",onClick:r,alt:"",style:{width:22}})]})},be=a(175),ue=a(6),me=a(1286),xe=a(1324);let ve=H.default.TOKENS.htx,he=H.default.TOKENS.sun;ve.token=null,he.token=null,ve.logoUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAiJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEBAAECAQAAAQEDAQIDAQQFAgAAAgcKAgkOAgoOAwEBBBMcBQEBBRQdBRYfBRchBhgjBhsmBwEBByAtCAECCCAuCCIvCCQzCQICCgIBCzFFCzRJDDBFDgICDwICEAMCEEJfEENgEEZkEgMDEwMDE1N3FAMDFFR3FV2EFmSOFwQEF2WPGGiUGG2bGW2aGXGgGnSlGniqGnmrG3KiG3aoHAUFHgQFIIzHIQUFIgYGIpnZI5rbI5vdJJ7gJKLmJaXqJgUFJqnwJqnxJqrxJqvzJqz0J6vzJ6z0J632J674J6/4J6/5J7D6KLH7KLP+KQYGMggHMwgIOQkJPQoJQAoKQgoKRgsKTgwMVA0NaBAQaRAQdBESdBISehMTexMTfhQTghQUiBUViRUVkRcWlRcXmRcXmhgXmxcYoBkZohgZqBkaqRkasRobuhwcvh0dwRwexB0exB4eyB8fyx4fzh8g1iAh1iEh2CAh2SAh4CIj4SEj5iIj6iMk7CQk8CQl8SQk8yQl9CQl9iQm9iUl9yUm+CUl+SUm+iUm+yUm+yYn/CUm/CYn/SUm/SYn/iUn/iYn/yYn/ycop1t9rwAAACJ0Uk5TAAQFCxkaKitERUxNVldYWmqJiqe0tcPK4OLm6On4+vv9/kh69IkAAAIsSURBVDjLjZVldxNQDIazdb7O2q2TTgMUGO7u7m6DAQPSFra2+LAx3N1dh6WlSG//Hx8GnOSuPaf5luQ5V3KT9wIoyy2o8HgbG72eioJcSGuOYncN/rcad7EjJZZdVo2WVZdlD+TyKzGFVebbXEkdprS6Es2VN2AaayhXXLPMzVRksyCder2L3XpN5z8ur17vdu/ZPOXX5/VzWVWaa32UPKsjVVkAAFBqHX/ba/NUHxNLAQAcdp1Pf49/Om5V3gEARS0WeMdwskeHWooAwG1x3X0xNpetoBsgp1aH5j9OMJurFlibA4U6MvqaYebkOfuBCsGlS3MpEWWOfziKQzToAo/yL/yMMbO54cPZywbJhAe80j3zLc7M5mUb4vpDi2TGC03CW/0qwczxvlOI0/Z07Z4gUk0K7DXMHE30Ig7dGqLISgWKrac+NMxs7o5FXNjpp67to+TW4jJtb+PMP97sQBy/cz9RYO8keRlRniNfosyJ84i4KkJE1DlDlkcUfN/HGMfetyNO7AgSEQWmyIKLJ1z+/DcnnsxCXBwiIgruGiOfUDSF77Zh82Ay4roQEVF40zDZFLLNTn6N/nqxAHFzmIgCgTm6zUTj+m6a6OdjiGvCRP6DawfrxpWjsOR+0lxBnHvAH4xsHGmNghqupdf5XTsO33K4Y8WIAcOlx/XErR7EcRumpxhXWwBabVFxppMUTCspmYtU5rKXuZBmLs2Zi/3f78PV/3247O/jDzrr/LzfkyFRAAAAAElFTkSuQmCC",he.logoUrl="data:image/png;base64,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",ve.precision=Object(u.a)(10).pow(18),he.precision=Object(u.a)(10).pow(18);const ge=ve,Ae=he;function Oe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(s.useState)(null),[c,n]=Object(s.useState)(null);Object(s.useEffect)((()=>{i()}),[]);const i=async()=>{const t=await Object(me.e)(),s=await Object(me.f)();if(t.success&&s.success){const c={...ge,tokenSymbol:ge.symbol,tokenAddress:t.value,token:t.value},i={...Ae,tokenSymbol:Ae.symbol,tokenAddress:s.value,token:s.value};e&&(c.tokenPrice=await Object(xe.a)(c),i.tokenPrice=await Object(xe.a)(i)),a(c),n(i)}};return{initTokenA:t,initTokenB:c}}var _e=a(1121),we=a(1055),ye=a(1074);const{htxConfig:fe}=H.default,ke=fe.htxExchangeContract,Ne={start:"process",default:"wait",pending:"process",success:"finish",failed:"error",error:"error"};var Te=e=>{const{useeAddress:t}=e,[a,c]=Object(s.useState)(ge),[n,l]=Object(s.useState)(Ae),[o,r]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[b,m]=Object(s.useState)("-"),[g,A]=Object(s.useState)("-"),[O,_]=Object(s.useState)(0),[w,y]=Object(s.useState)(0),[f,k]=Object(s.useState)(!0),[N,T]=Object(s.useState)(""),[S,D]=Object(s.useState)(!0),[C,F]=Object(s.useState)(!1),[B,E]=Object(s.useState)(!1),[M,Q]=Object(s.useState)(!1),{initTokenA:V,initTokenB:I}=Oe(!0),U=Object(v.d)((()=>h.default.swapModalStore)),L=Object(v.d)((()=>h.default.network)),R=Object(x.default)(x.isMobileOnlyMedia);Object(s.useEffect)((()=>{q(),X()}),[]),Object(s.useEffect)((()=>{V&&I&&(c(V),l(I),Y(V),Y(I))}),[V,I,t]),Object(s.useEffect)((()=>{o||(j(""),_(0)),ce(),ne()}),[o,d,f]);const P=Object(s.useMemo)((()=>Object(u.v)(Object(u.ib)(a.tokenPrice).multipliedBy(O),{dp:2})),[O,a]),G=Object(s.useMemo)((()=>Object(u.a)(w).div(100)),[w]),Y=async e=>{if(!t||!e.token)return;let s=(await Object(ue.Wb)(t,[e.token],[ke]))[ke];var n,i;s&&(e.balance=null===(n=s.balance)||void 0===n?void 0:n.div(e.precision),e.approvedAmount=null===(i=s.allowance)||void 0===i?void 0:i.div(e.precision),a.symbol===e.symbol?c(Object.assign({},e,{balance:e.balance},{approvedAmount:e.approvedAmount})):l(Object.assign({},e,{balance:e.balance},{approvedAmount:e.approvedAmount})))},q=async()=>{const e=await Object(me.b)();if(e.success){const t=Object(u.a)(e.value).div(a.precision);m(t._toFixed(Number(a.decimal),1)),A(Object(u.a)(1).div(t)._toFixed(Number(n.decimal),1))}},X=async()=>{const e=await Object(me.d)();e.success&&y(e.value)},$=()=>{const e=Object(u.a)(a.balance);if(!Object(u.a)(e).gte(0))return;const t=e.gt(0)?e._toFixed(Number(a.decimal),1):"0";r(t)},ae=e=>{let t=e.target.value;const{valid:s,str:c}=Object(u.Z)((""+t).replace(/,/g,""),a.decimal);s&&r(Object(u.c)(c))},se=()=>{const e=n,t=b;k(!f),l(a),c(e),r(d),m(g),A(t),j("")},ce=()=>{Object(u.ib)(o).gt(a.approvedAmount)?D(!0):D(!1),Object(u.ib)(o).eq(0)||Object(u.ib)(o).isNaN()?T(i.a.get("buysell.swap")):Object(u.ib)(o).gt(a.balance)?T(i.a.get("swap.action_insufficient",{token:a.tokenSymbol})):T("")},ne=async()=>{try{if(!o)return;const e=Object(u.ib)(o).times(a.precision)._toIntegerDown()._toHex(),t=await Object(me.c)(e,f);if(t.success){let e=Object(u.a)(t.amount).div(n.precision);j(Object(u.c)(Object(u.a)(e)._toFixed(n.decimal,1))),_(Object(u.a)(t.fee).div(a.precision).toString())}}catch(e){console.error("get tovalue error:",+e)}},ie=()=>{const e=i.a.get("swap.action_swap"),t=i.a.get("swap.confirm_swap"),s=i.a.get("action.swapAct",{from:a.symbol,to:n.symbol}),c=i.a.get("action.swapActErr"),l=S;U.setData({swapPopTitle:e,swapPopBtn:t,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:i.a.get("action.approveAct",{token:a.symbol}),approveActionError:i.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:s,swapActionError:c,swapActionState:"",actionInfo:i.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:l?"line":"info",actionStarted:!1,successFromValue:o,successToValue:d}),E(!1)},oe=()=>{N||(ie(),F(!0),Q(!1))};Object(s.useEffect)((()=>{C&&ve()}),[C]);const re=()=>{U.actionStarted?E(!0):de()},de=()=>{F(!1),setTimeout((()=>{ie()}),1e3)},pe=()=>{U.setData({actionStarted:!0,swapPopBtn:i.a.get("action.startBtn"),swapPopBtnDisabled:!0}),xe()},xe=async()=>{try{const e=Object(u.ib)(o).times(a.precision)._toIntegerDown()._toHex(),t={title:"swap.pop_title_swap",obj:{from:"".concat(Object(u.v)(Object(u.ib)(o),a.decimal)," ").concat(a.symbol),to:"".concat(Object(u.v)(Object(u.ib)(d),n.decimal)," ").concat(n.symbol),addr:window.defaultAccount}},s=await Object(me.a)(ke,e,f,t);s&&(Y(a),Y(n),r(""),j("")),U.swapSuccess(s,o,d)}catch(e){console.error("on submit error: ",e)}},ve=()=>{let e=S,t=U.actionRetry;switch(!t&&e&&(t="approveToken"),t){case"approveToken":U.setData({approveActionState:"start",actionInfo:i.a.get("action.startBtn"),actionDisabled:!0}),(async()=>{try{const e={action:"approve",title:"deposit.approve_token",obj:{value:a.symbol.toUpperCase()},continuous:!0};let t=await Object(me.h)(a.token,ke,e);Y(a),Y(n),t?(D(!1),U.setData({approveActionState:"pending",actionInfo:i.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0}),setTimeout((()=>{U.setData({approveActionState:"success",actionState:"info"})}),5e3)):U.setData({approveActionState:"error",actionRetry:"approveToken",actionInfo:i.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0})}catch(e){console.log("cehck approve: ",e)}})();break;case"swapToken":U.setData({swapActionState:"start",actionInfo:i.a.get("action.startBtn"),actionDisabled:!0}),xe()}},he=()=>{E(!1),Q(!0)},fe=()=>{E(!1)};return Object(s.useEffect)((()=>(!B&&M&&de(),()=>{})),[B,M]),Object(p.jsx)(v.a,{children:()=>Object(p.jsxs)("div",{className:"htx-swap",children:[Object(p.jsxs)(J.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object(p.jsxs)(z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex mb-10",children:[Object(p.jsx)(ee,{tokenSymbol:a.symbol,tokenLogoUrl:a.logoUrl,tokenAddress:a.token}),Object(p.jsx)(te.a,{tokenAddress:a.token,style:{marginLeft:20}})]}),Object(p.jsxs)("div",{className:W.a.swap_balance,children:[Object(p.jsxs)("span",{children:[i.a.get("sunSwapV3.swap.input_from_balance"),"\xa0"]}),Object(p.jsx)("span",{children:Object(u.v)(a.balance,{dp:6,cutZero:!0})})]})]}),Object(p.jsx)("div",{className:"mt-12",children:Object(p.jsx)(le,{value:o,onChange:ae,onMaxClick:$,placeholder:i.a.get("sunSwapV3.swap.input_placeholder"),bottomContent:d&&Object(p.jsx)(Z,{tokenPrice:a.tokenPrice,tokenValue:o}),showMax:L.isConnected})})]}),Object(p.jsx)(z.a,{flex:"center",xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},children:Object(p.jsx)("div",{className:W.a.swap_arrow,children:Object(p.jsx)("span",{onClick:se})})}),Object(p.jsxs)(z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex mb-10",children:[Object(p.jsx)(ee,{tokenSymbol:n.symbol,tokenLogoUrl:n.logoUrl,tokenAddress:n.token}),Object(p.jsx)(te.a,{tokenAddress:n.token,style:{marginLeft:20}})]}),Object(p.jsxs)("div",{className:W.a.swap_balance,children:[Object(p.jsxs)("span",{children:[i.a.get("sunSwapV3.swap.input_from_balance"),"\xa0"]}),Object(p.jsx)("span",{children:Object(u.v)(n.balance,{dp:6,cutZero:!0})})]})]}),Object(p.jsx)("div",{className:"mt-12",children:Object(p.jsx)(le,{value:d,placeholder:"0",showMax:!1,bottomContent:d&&Object(p.jsx)(Z,{tokenPrice:n.tokenPrice,tokenValue:d}),disabled:!0})})]})]}),Object(p.jsxs)(J.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object(p.jsxs)(z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("span",{className:W.a.swap_detail_label,children:[i.a.get("sunSwapV3.swap.input_from_price"),": "]}),Object(p.jsx)(je,{priceStr:g,priceInverseStr:b,fromToken:a,toToken:n})]}),Object(p.jsx)(z.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},children:Object(p.jsx)("span",{})}),d&&Object(p.jsxs)(z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("span",{className:W.a.swap_detail_label,children:[i.a.get("htx.page.fee"),": "]}),Object(p.jsxs)("span",{className:W.a.swap_detail_value,children:[Object(u.v)(O,{dp:2})," ",a.symbol," "," / ".concat("--"!==P?P:0," ").concat(i.a.get("swap.usd"))]})]})]}),Object(p.jsx)(K,{errorTip:N,onClick:oe}),Object(p.jsx)(_e.a,{title:"success"===U.actionState?i.a.get("action.swapSuccessTitle"):U.swapPopTitle,closable:"success"!==U.actionState,open:C,onCancel:re,centered:!0,fromToken:{logo:a.logoUrl,symbol:a.symbol,amount:o,price:"1 ".concat(a.symbol," =\n            ").concat(Object(u.v)(b,{dp:n.decimal,cutZero:!0,miniTextNoZero:!0,miniText:H.default.minPrice}),"\n            ").concat(n.symbol," ")},toToken:{logo:n.logoUrl,symbol:n.symbol,amount:d,price:"1 ".concat(n.symbol," =\n        ").concat(Object(u.v)(g,{dp:a.decimal,cutZero:!0,miniTextNoZero:!0,miniText:H.default.minPrice}),"\n        ").concat(a.symbol," ")},infoList:[{label:i.a.get("swap.detail_liquidity_fee"),value:Object(u.v)(O,{dp:2})+" "+a.symbol,tip:i.a.getHTML("htx.page.fee_tips",{value:Object(u.v)(G,{cutZero:!0})})}],tip:i.a.get("swap.confirm_warning_output1"),actionStatus:U.actionState,approveItems:[{status:Ne[U.approveActionState||"default"],title:["error","failed"].includes(U.approveActionState)?U.approveActionError:"pending"===U.approveActionState?i.a.get("sunSwap.action.doingAct"):U.approveActionTitle},{status:Ne[U.swapActionState||"default"],title:["error","failed"].includes(U.swapActionState)?U.swapActionError:"pending"===U.swapActionState?i.a.get("sunSwap.action.doingAct"):U.swapActionTitle}],successFromValue:U.successFromValue,successToValue:U.successToValue,footer:null,children:Object(p.jsxs)("div",{style:{marginTop:30},children:[U.swapErrorInfo&&Object(p.jsxs)("div",{className:"home-swap-error-text",children:[Object(p.jsx)("span",{className:ye.error_icon,children:"!"}),U.swapErrorInfo]}),"line"===U.actionState&&Object(p.jsx)(be.a,{block:!0,onClick:ve,size:R?"middle":"large",disabled:U.actionDisabled,children:U.actionInfo}),"info"===U.actionState&&Object(p.jsx)(be.a,{onClick:pe,size:R?"middle":"large",disabled:U.swapPopBtnDisabled,type:void 0,block:!0,children:U.swapPopBtn}),"success"===U.actionState&&Object(p.jsx)(be.a,{onClick:de,size:R?"middle":"large",block:!0,type:void 0,children:i.a.get("action.closeBtn")})]})}),Object(p.jsx)(we.a,{visible:B,confirm:he,cancel:fe})]})})};var Se=e=>{const t=Object(v.d)((()=>h.default.network)),a=Object(v.d)((()=>h.default.themeStore)),{status:s}=e;return Object(p.jsx)(v.a,{children:()=>Object(p.jsx)(p.Fragment,{children:s===d.b.excused?Object(p.jsx)(Te,{useeAddress:t.defaultAccount}):Object(p.jsx)(G,{theme:a.theme})})})},De=a(165),Ce=a(390),Fe=a(173),Be=a(1409);var He=e=>Object(p.jsx)("div",{className:"vote-select-list",children:e.list.map((t=>Object(p.jsxs)("div",{className:ce()({"vote-select-item":!0,"vote-select-item-active":t.value===e.activeKey}),onClick:()=>e.selectChange(t.value),children:[t.value,"%"]},t.key)))}),Ee=a(1410);a(2085);var Me=e=>{var t,a;const[c,n]=Object(s.useState)(100);Object(s.useEffect)((()=>{e.visible&&n(100)}),[e.visible]);return Object(p.jsx)(Fe.a,{width:440,className:"htx-vote-modal dark-modal",open:e.visible,onCancel:e.onCancel,footer:null,centered:!0,children:Object(p.jsxs)("div",{className:"htx-vote-modal-body",children:[Object(p.jsx)("div",{className:"htx-vote-modal-title",children:1===e.voteType?i.a.get("htx.page.vote.voteType1"):i.a.get("htx.page.vote.voteType2")}),Object(p.jsx)("div",{className:"htx-vote-modal-icon",children:Object(p.jsx)("img",{src:Be.a,alt:"vote_icon"})}),Object(p.jsx)("div",{className:"htx-vote-own",children:Object(p.jsx)("span",{className:"htx-vote-sub-title",children:e.subTitleText?e.subTitleText:i.a.get("htx.page.vote.ownLabel")})}),e.hideDesc?Object(p.jsx)(p.Fragment,{}):Object(p.jsxs)("div",{className:"htx-vote-own-desc",children:[Object(p.jsx)("span",{className:"htx-vote-own-desc-label",children:i.a.get("htx.page.vote.ownLabel2")}),Object(p.jsx)("span",{children:Object(u.v)(null===(t=e.sunBalance)||void 0===t?void 0:t.integerValue(u.a.ROUND_DOWN),{dp:0})})]}),Object(p.jsx)(He,{list:[{key:25,value:25},{key:50,value:50},{key:75,value:75},{key:100,value:100}],activeKey:c,selectChange:e=>{n(e)}}),Object(p.jsxs)("div",{className:"htx-vote-power",children:[Object(p.jsx)("span",{className:"htx-vote-sub-title",children:i.a.get("htx.page.vote.powerTitle")}),e.voteTips&&Object(p.jsx)(Ce.a,{title:e.voteTips,children:Object(p.jsx)(m.a,{isDark:!0,style:{marginLeft:6}})})]}),Object(p.jsxs)("div",{className:"htx-vote-power-desc",children:[Object(p.jsx)("span",{children:Object(u.v)(Object(u.a)(null===(a=e.sunBalance)||void 0===a?void 0:a.integerValue(u.a.ROUND_DOWN)).times(c/100).integerValue(u.a.ROUND_DOWN),{dp:0})}),Object(p.jsx)("span",{className:"htx-vote-power-value",children:e.voteSymbol})]}),Object(p.jsx)("div",{className:"htx-vote-submit",children:Object(p.jsx)(De.a,{type:"primary",loading:e.confirmLoading,onClick:()=>{e.onVoteSubmit&&e.onVoteSubmit(c)},children:i.a.get("htx.page.vote.submit")})}),e.bottomTips&&Object(p.jsxs)("div",{className:"htx-vote-bottom-tips",children:[Object(p.jsx)("img",{src:Ee.a,alt:"",srcset:""}),Object(p.jsx)("span",{children:e.bottomTips})]})]})})},Qe=(a.p,a.p,a(2086),a(136)),Ve=a(1468);a(1016);t.default=Object(Qe.c)((()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)(1),[n,r]=Object(s.useState)(0),[d,j]=Object(s.useState)(!1),[b,m]=Object(s.useState)(!1),x=()=>{},A=()=>{},O=(window.localStorage.getItem("lang")||i.a.options.currentLocale,Object(v.d)((()=>h.default.network))),w=Object(v.d)((()=>h.default.system)),{initTokenB:y}=Oe(),f=Object(Ve.a)(O.defaultAccount,n),k=Object(Ve.c)(O.defaultAccount,y),N=Object(Ve.d)(f);console.log(f);const T=()=>{t(!1)},S=e=>{c(e),t(!0)},D=Object(s.useRef)(null),C=Object(s.useRef)(null);Object(s.useEffect)((()=>()=>{clearInterval(D.current),clearTimeout(C.current)}),[D,C]);const F=async e=>{var s;const c=null===k||void 0===k||null===(s=k.integerValue(u.a.ROUND_DOWN))||void 0===s?void 0:s.times(e/100);m(!0);try{const e={title:"actions.vote_for_gauge_weights",obj:{percent:"".concat(Object(u.u)(c.integerValue(u.a.ROUND_DOWN),{dp:0})),pool:"SUN/HTX"}},s=await Object(me.i)(w,c,1===a,e);t(!1),clearInterval(D.current),clearTimeout(C.current),s&&(D.current=setInterval((()=>{r((e=>e+1))}),3e3),C.current=setTimeout((()=>{clearInterval(D.current)}),15e3),j(!1))}catch(n){console.log("onVoteSubmit",n)}m(!1)};return Object(p.jsx)(v.a,{children:()=>Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.a,{routeName:"home",instantActions:x,mountedActions:A}),Object(p.jsxs)("div",{className:"htx-home-page",children:[Object(p.jsx)("div",{className:"page-htx-title",children:Object(p.jsx)(o.a,{title:i.a.get("htx.page.title"),subTitle:i.a.get("htx.page.title_des")})}),Object(p.jsx)(Se,{status:N}),Object(p.jsxs)("div",{className:"page-htx-vote",children:[Object(p.jsx)("div",{className:"vote-title",children:Object(p.jsx)("div",{className:"vote-title-l",children:i.a.getHTML("htx.page.vote.title")})}),Object(p.jsxs)("div",{className:"vote-title-sub",children:[Object(p.jsx)("span",{children:"UTC+8 SGT "}),f.voteStartTime?_.a.utc(+f.voteStartTime.toString()).utcOffset(480).format("YYYY/MM/DD HH:mm"):"-",Object(p.jsx)("span",{children:" - "}),f.voteEndTime?_.a.utc(+f.voteEndTime.toString()).utcOffset(480).format("YYYY/MM/DD HH:mm"):"-"]}),Object(p.jsx)(g,{isConnected:O.isConnected,balance:k,power:k,status:N}),Object(p.jsx)("div",{className:"page-htx-proposal-desc",children:i.a.get("htx.page.vote.proposalDesc")}),Object(p.jsx)(Q,{voteInfo:f,reVote:d,setReVote:j,handleVote:S,sunBalance:k,voteStatus:N})]}),Object(p.jsx)(Me,{visible:e,voteType:a,onCancel:T,onVoteSubmit:F,sunBalance:k,confirmLoading:b,voteSymbol:i.a.get("htx.page.vote.powerTitle2")})]})]})})}))}}]);