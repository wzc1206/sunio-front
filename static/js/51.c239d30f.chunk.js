(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[51],{1017:function(e,t,a){"use strict";var n=a(0),o=a(1047),_=a(7),r=a.n(_),c=a(88),l=a(97),s=a(1075),i=a(1124),d=a(4);const m=e=>{const t=Object(c.d)((()=>l.default.network));return Object(d.jsx)(o.a,{img:s.a,emptyText:e&&e.emptyText?e.emptyText:r.a.get("buysell.error_msg_3"),btnText:r.a.get("header.connect_wallet"),onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),className:i.wallet_not_connect})};t.a=Object(n.memo)(m)},1040:function(e,t,a){"use strict";var n=a(2),o=a(18),_=a(0),r=a(38),c=a(283),l=a(11),s=a.n(l),i=a(1055),d=a.n(i),m=a(137),b=a(81),p=a(7),j=a.n(p),v=a(4);const u=["showMax","onMaxClick","className","themes"],g=e=>{const{showMax:t,onMaxClick:a,className:_,themes:l}=e,i=Object(o.a)(e,u),p=Object(m.useCurrentThemeConfig)();return Object(v.jsx)(r.a,{theme:{token:Object(n.a)({colorBgContainer:p["color-input-bg"],colorBorder:"transparent",colorPrimaryHover:p["color-a"],colorText:p["color-text-default"],controlOutline:"none",colorIcon:p["color-text-default"],colorFillAlter:p["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:p["color-text-default"],colorBgContainerDisabled:Object(b.a)(p["color-input-bg"],.5),colorTextDisabled:Object(b.a)(p["color-text-default"],.5),colorTextPlaceholder:p["color-text-default-3"]},l)},children:Object(v.jsx)(c.a,Object(n.a)({className:s()("pure-comp",_),size:"large",suffix:t?Object(v.jsx)("span",{className:d.a.max_btn,onClick:()=>a&&a(),children:j.a.get("swap.input_from_max")}):null},i))})};t.a=Object(_.memo)(g)},1055:function(e,t,a){e.exports={"page-head":"style_page-head__3Df8R",link:"style_link__13CUf","gradient-title":"style_gradient-title__2a8zy",animateTitle:"style_animateTitle__3AmLh","dim-content":"style_dim-content__33wh4",uppercase:"style_uppercase__3nmXo","window-for-tabs-pane":"style_window-for-tabs-pane__19SGv","dark-btn":"style_dark-btn__3l8ji","purple-btn":"style_purple-btn__37XNP","cur-input":"style_cur-input__3Kzlm","max-btn":"style_max-btn__WydB3",max_btn:"style_max_btn__29JsD"}},1062:function(e,t,a){"use strict";var n=a(0),o=a(11),_=a.n(o),r=a(1127),c=a.n(r),l=a(4);const s=e=>{const{items:t,bordered:a=!0,modal_info_box_v3:n=!1,responsive:o,layout:s,responsiveLayout:i="v",className:d,style:m={},remove_info_box:b}=e;return Object(l.jsx)("div",{className:_()(r.info_box,{[r.info_box_no_border]:!a,[r.info_box_v3]:n,[r.remove_info_box_style]:b,[r.info_box_responsive]:o,[r.info_box_v]:"v"===s,[c.a.info_box_responsive_h]:"h"===i,[c.a.info_box_responsive_v]:"h"!==i},d),style:m,children:t.map(((e,t)=>Object(l.jsxs)("div",{className:_()(r.info_box_item,"info_box_item"),children:[Object(l.jsx)("div",{className:_()(r.info_box_label,"info_box_item_label"),children:e.label}),Object(l.jsx)("div",{className:_()(r.info_box_value,"info_box_item_value"),children:e.value})]},t)))})};t.a=Object(n.memo)(s)},1075:function(e,t,a){"use strict";t.a=a.p+"static/media/big_connect_wallet.8e467f71.svg"},1124:function(e,t,a){e.exports={wallet_not_connect:"style_wallet_not_connect__2Qekr"}},1127:function(e,t,a){e.exports={"page-head":"style_page-head__Q5_41",link:"style_link__gpGN-","gradient-title":"style_gradient-title__3TOPy",animateTitle:"style_animateTitle__JszRT","dim-content":"style_dim-content__3_Ul3",uppercase:"style_uppercase__PmEs8","window-for-tabs-pane":"style_window-for-tabs-pane__1V2Lv","dark-btn":"style_dark-btn__DQL_s","purple-btn":"style_purple-btn__2SawB","cur-input":"style_cur-input__37INw","max-btn":"style_max-btn__npQR2",info_box:"style_info_box__1963G",info_box_v:"style_info_box_v__1TfSS",info_box_no_border:"style_info_box_no_border__W8LQy",info_box_item:"style_info_box_item__3JfS2",info_box_label:"style_info_box_label__f3QFH",info_box_value:"style_info_box_value__1v2mN",info_box_v3:"style_info_box_v3__2nUpB",remove_info_box_style:"style_remove_info_box_style__y8E4j",info_box_responsive:"style_info_box_responsive__3jNYY",info_box_responsive_h:"style_info_box_responsive_h__3eg33"}},1145:function(e,t,a){"use strict";var n=a(0),o=a(11),_=a.n(o),r=a(137),c=a(4);const l=e=>{let{color:t="#fff",size:a,className:n}=e;return Object(c.jsxs)("svg",{className:n,width:a,height:a,viewBox:"0 0 50 50",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("title",{children:"jiazai 2"}),Object(c.jsx)("g",{id:"\u9875\u9762-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",opacity:"0.5",children:Object(c.jsx)("g",{id:"\u94b1\u5305-\u4e0b\u62c9\u52a0\u8f7d",transform:"translate(-163.000000, -393.000000)",fill:t,"fill-rule":"nonzero",children:Object(c.jsxs)("g",{id:"jiazai",transform:"translate(163.000000, 393.000000)",children:[Object(c.jsx)("path",{d:"M38.0196954,11.2989938 C38.0196954,12.8291057 39.2595369,14.0695065 40.7889588,14.0695065 C42.3183807,14.0695065 43.5582222,12.8291057 43.5582222,11.2989938 C43.5582222,9.76888196 42.3183807,8.52848121 40.7889588,8.52848121 C39.2595369,8.52848121 38.0196954,9.76888196 38.0196954,11.2989938 L38.0196954,11.2989938 Z",id:"\u8def\u5f84",opacity:"0.200000003"}),Object(c.jsx)("path",{d:"M43.1636612,26.2713432 C43.1635122,27.4931878 43.8149789,28.6222826 44.8726255,29.233248 C45.930272,29.8442134 47.2333893,29.8442134 48.2910358,29.233248 C49.3486823,28.6222826 50.0001491,27.4931878 50,26.2713432 C50.0001491,25.0494985 49.3486823,23.9204037 48.2910358,23.3094383 C47.2333893,22.698473 45.930272,22.698473 44.8726255,23.3094383 C43.8149789,23.9204037 43.1635122,25.0494985 43.1636612,26.2713432 Z",id:"\u8def\u5f84",opacity:"0.300000012"}),Object(c.jsx)("path",{d:"M36.8947077,41.3187255 C36.8947077,43.5420496 38.6962553,45.34441 40.918577,45.34441 C43.1408986,45.34441 44.9424463,43.5420496 44.9424463,41.3187255 C44.9424463,39.8804869 44.1755012,38.5514996 42.9305117,37.8323803 C41.6855221,37.113261 40.1516318,37.113261 38.9066423,37.8323803 C37.6616527,38.5514996 36.8947077,39.8804869 36.8947077,41.3187255 L36.8947077,41.3187255 Z",id:"\u8def\u5f84",opacity:"0.400000006"}),Object(c.jsx)("path",{d:"M21.2304758,47.3360473 C21.2303016,49.002259 22.1187142,50.5419767 23.5610163,51.3751329 C25.0033183,52.208289 26.780358,52.208289 28.22266,51.3751329 C29.6649621,50.5419767 30.5533746,49.002259 30.5532005,47.3360473 C30.5533746,45.6698355 29.6649621,44.1301178 28.22266,43.2969616 C26.780358,42.4638055 25.0033183,42.4638055 23.5610163,43.2969616 C22.1187142,44.1301178 21.2303016,45.6698355 21.2304758,47.3360473 L21.2304758,47.3360473 Z",id:"\u8def\u5f84",opacity:"0.5"}),Object(c.jsx)("path",{d:"M5.87031663,41.0822084 C5.87031663,42.9379907 6.85991824,44.6528042 8.46634818,45.5806954 C10.0727781,46.5085866 12.0519814,46.5085866 13.6584114,45.5806954 C15.2648413,44.6528042 16.2544429,42.9379907 16.2544429,41.0822084 C16.2544429,38.2134175 13.9298771,35.887803 11.0623798,35.887803 C8.19488248,35.887803 5.87031663,38.2134175 5.87031663,41.0822084 Z",id:"\u8def\u5f84",opacity:"0.600000024"}),Object(c.jsx)("path",{d:"M20.4878208,5.49779981 C20.4878208,8.53415075 22.9481597,10.9955995 25.9831415,10.9955995 C29.0181233,10.9955995 31.4784622,8.53415075 31.4784622,5.49779981 C31.4784622,3.53362513 30.43106,1.71865287 28.7308019,0.736565514 C27.0305437,-0.245521838 24.9357392,-0.245521838 23.2354811,0.736565514 C21.5352229,1.71865287 20.4878208,3.53362513 20.4878208,5.49779981 Z",id:"\u8def\u5f84"}),Object(c.jsx)("path",{d:"M5.56705906,11.4286705 C5.56705906,13.3928452 6.61446124,15.2078174 8.31471939,16.1899048 C10.0149775,17.1719921 12.109782,17.1719921 13.8100401,16.1899048 C15.5102983,15.2078174 16.5577005,13.3928452 16.5577005,11.4286705 C16.5577005,8.39231957 14.0973616,5.93087081 11.0623798,5.93087081 C8.02739795,5.93087081 5.56705906,8.39231957 5.56705906,11.4286705 L5.56705906,11.4286705 Z",id:"\u8def\u5f84",opacity:"0.800000012"}),Object(c.jsx)("path",{d:"M0,26.098441 C0,27.9699577 0.997992014,29.6993104 2.61804218,30.6350688 C4.23809234,31.5708271 6.23407646,31.5708271 7.85412662,30.6350688 C9.47417678,29.6993104 10.4721688,27.9699577 10.4721688,26.098441 C10.4721688,23.2053269 8.12789396,20.8599946 5.2360844,20.8599946 C2.34427484,20.8599946 0,23.2053269 0,26.098441 L0,26.098441 Z",id:"\u8def\u5f84",opacity:"0.699999988"})]})})})]})},s=e=>{const{className:t,style:a,size:n=20,darkColor:o="#fff",lightColor:s="#000"}=e,i=Object(r.useCurrentTheme)();return Object(c.jsx)("div",{className:_()("infinite-loading",t),style:a,children:Object(c.jsx)(l,{size:n,className:"infinite-loading-circle",color:"dark"===i?o:s})})};t.a=Object(n.memo)(s)},1146:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(2),o=a(18),_=a(0),r=a(38),c=a(2810),l=a(11),s=a.n(l),i=a(137),d=a(1147),m=a.n(d),b=a(4);const p=["children","themes"],j=e=>{const t=Object(i.useCurrentThemeConfig)(),{children:a,themes:_}=e,l=Object(o.a)(e,p);return Object(b.jsx)(r.a,{theme:{token:Object(n.a)({colorBgContainer:t["color-input-bg"],colorBorder:t["color-button-bordered"],colorPrimaryHover:t["color-button-bordered-text"],colorText:t["color-text-default"],controlOutline:"none",colorIcon:t["color-text-default"],colorFillAlter:t["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:t["color-text-default"],colorBgElevated:t["color-input-bg"],controlItemBgActive:t["color-select-active"],controlItemBgHover:t["color-text-default-06"],colorTextQuaternary:t["color-text-default"],colorBgContainerDisabled:t["color-text-default-06"],colorTextDisabled:t["color-button-bordered-text"],colorTextPlaceholder:t["color-text-default-5"]},_)},children:Object(b.jsx)(c.a,Object(n.a)(Object(n.a)({size:"large",className:s()("pure-comp",m.a.common_select),popupClassName:s()("pure-comp",m.a.common_select_pop)},l),{},{children:a}))})},v=c.a.Option;t.b=Object(_.memo)(j)},1147:function(e,t,a){e.exports={common_select_pop:"style_common_select_pop__1Gvf-",common_select:"style_common_select__16Itm"}},1202:function(e,t,a){e.exports={"page-head":"style_page-head__2vH5E",link:"style_link__20M1R","gradient-title":"style_gradient-title__-VNzq",animateTitle:"style_animateTitle__10Ffk","dim-content":"style_dim-content__1xdT1",uppercase:"style_uppercase__2Z3ic","window-for-tabs-pane":"style_window-for-tabs-pane__QORju","dark-btn":"style_dark-btn__1fHOx","purple-btn":"style_purple-btn__2zeWY","cur-input":"style_cur-input__3W7jT","max-btn":"style_max-btn__3AJ5N",tab_content_main:"style_tab_content_main__25Xux",light_with_border:"style_light_with_border__3M2ft",content_title:"style_content_title__3vl4A",content_title_left:"style_content_title_left__3bXRO",content_title_effect:"style_content_title_effect__1G5hJ",content_title_lock_link:"style_content_title_lock_link__3byX0",count_down:"style_count_down__N5XWv",count_down_label:"style_count_down_label__3TkdT",echarts_wrap:"style_echarts_wrap__2KYyH",governance_table:"style_governance_table__2PDzI",pool_logo:"style_pool_logo__3MBz8",vote_form:"style_vote_form__1dThp",vote_infoBox:"style_vote_infoBox__3Vew1",combine_icon:"style_combine_icon__MQmPw",my_vote_table:"style_my_vote_table__2sxW9",mobile_vote_info_box:"style_mobile_vote_info_box__3_OS0",echarts_legend_item:"style_echarts_legend_item__2sxJy",legend_icon:"style_legend_icon__3ufH0",legend_num:"style_legend_num__1BmWT",pool_title:"style_pool_title__2omMI",m_apy_card:"style_m_apy_card__Qg3DX",m_apy_card_time:"style_m_apy_card_time__2i5FQ",m_apy_card_title_border:"style_m_apy_card_title_border__29ZTm",m_apy_card_item:"style_m_apy_card_item__2JxIF",m_apy_card_item_my_vote:"style_m_apy_card_item_my_vote__1JHGQ",m_apy_card_label:"style_m_apy_card_label__2b0Ga",m_apy_card_value:"style_m_apy_card_value__1-Io6"}},1566:function(e,t,a){"use strict";a(0);var n=a(7),o=a.n(n),_=a(1202),r=a.n(_),c=a(4);const l=e=>e>0&&e<10?"0"+e:e;t.a=e=>{let t=e.data;if(-1===t)return Object(c.jsxs)("span",{className:r.a.count_down,children:[Object(c.jsxs)("span",{className:r.a.count_down_label,children:[o.a.get("governance.countdown"),":"]})," --".concat(o.a.get("governance.day")," --").concat(o.a.get("governance.hour")," --").concat(o.a.get("governance.minute")," --").concat(o.a.get("governance.second"))]});let a=Math.floor(t/864e5),n=t%864e5,_=Math.floor(n/36e5),s=n%36e5,i=Math.floor(s/6e4),d=s%6e4,m=Math.round(d/1e3);return Object(c.jsxs)("span",{className:r.a.count_down,children:[Object(c.jsxs)("span",{className:r.a.count_down_label,children:[o.a.get("governance.countdown"),":"]}),Object(c.jsx)("span",{children:" ".concat(a).concat(o.a.get("governance.day")," ").concat(l(_)).concat(o.a.get("governance.hour")).concat(l(i)).concat(o.a.get("governance.minute")).concat(l(m)).concat(o.a.get("governance.second"))})]})}},2756:function(e,t,a){e.exports={"page-head":"vote_page-head__2VVyn",link:"vote_link__3U0gP","gradient-title":"vote_gradient-title__1rgxy",animateTitle:"vote_animateTitle__3VM5z","dim-content":"vote_dim-content__3UVxL",uppercase:"vote_uppercase__1jvI1","window-for-tabs-pane":"vote_window-for-tabs-pane__s0oCr","dark-btn":"vote_dark-btn__2G08d","purple-btn":"vote_purple-btn__3jjQV","cur-input":"vote_cur-input__2oCj2","max-btn":"vote_max-btn__2x2tR",tab_content_main:"vote_tab_content_main__J3a2-",light_with_border:"vote_light_with_border__28_5M",content_title:"vote_content_title__XxGA0",content_title_left:"vote_content_title_left__2jt3i",content_title_left_img:"vote_content_title_left_img__1_lMV",content_title_left_text:"vote_content_title_left_text__1cW0z",content_title_right:"vote_content_title_right__QLs0s",content_title_effect:"vote_content_title_effect__2T5p7",content_title_effect2:"vote_content_title_effect2__3g66A",content_title_lock_link:"vote_content_title_lock_link__3O_zW",vote_form:"vote_vote_form__3U7Wm",vote_infoBox:"vote_vote_infoBox__j-Itn",combine_icon:"vote_combine_icon__2OF16",legend_wrap:"vote_legend_wrap__2QnK1",echarts_legend_item:"vote_echarts_legend_item__20GUK",title:"vote_title__2FGnc",title_t:"vote_title_t__3MhX1",title_b:"vote_title_b__1-B9a",banner:"vote_banner__31YNz",rank_title:"vote_rank_title__25KDH",rank_row:"vote_rank_row__1dqn2",rank_row_1:"vote_rank_row_1__Ndmz7",rank_row_2:"vote_rank_row_2__3Gx4C",rank_row_3:"vote_rank_row_3__2jqjI",rank_row_4:"vote_rank_row_4__1ub6f",rank_row_5:"vote_rank_row_5__OWLHU",rank_row_6:"vote_rank_row_6__mZtbH",rank_row_logo:"vote_rank_row_logo__3dorD",rank_flag:"vote_rank_flag__2Byhj",rank_max_row:"vote_rank_max_row__d5HCc",rank_header_row:"vote_rank_header_row__2M2PK",rank_list_main:"vote_rank_list_main__2HtZu",rank_list_main_inner:"vote_rank_list_main_inner__3WQcO",rank_main_row:"vote_rank_main_row___bfv0",rank_percent_top:"vote_rank_percent_top__8Xofj",rank_row_mobile:"vote_rank_row_mobile__2aWVT",rank_row_mobile_t:"vote_rank_row_mobile_t__3eQPg",rank_row_mobile_rank_num:"vote_rank_row_mobile_rank_num__8m6eQ",rank_row_mobile_r:"vote_rank_row_mobile_r__2mC5J",rank_row_mobile_r_tokenName:"vote_rank_row_mobile_r_tokenName__1CmB_",rank_row_mobile_r_tokenAddress:"vote_rank_row_mobile_r_tokenAddress__s2M__",rank_row_mobile_b:"vote_rank_row_mobile_b__rycsq",rank_percent:"vote_rank_percent__1XRAz",rank_percent_btm:"vote_rank_percent_btm__3uAqU",rank_percent_bar:"vote_rank_percent_bar__36m_h",rank_percent_bar_inner:"vote_rank_percent_bar_inner__205D-",rank_pagination:"vote_rank_pagination__2esuM",rank_list_empty:"vote_rank_list_empty__2B9fq",rank_list_empty_img:"vote_rank_list_empty_img__xD-IU",content_title_2:"vote_content_title_2__2J0C2",pool_title:"vote_pool_title__3smJw"}},2860:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(88),_=a(1013),r=a(7),c=a.n(r),l=a(31),s=a(0),i=a(2756),d=a.n(i),m=a(2851),b=a(104),p=a(1380),j=a(1382),v=a(38),u=a(1904),g=a(169),x=a(2813),h=a(2809),f=a(1566),O=a(97),k=a(119),y=a(1),w=a(1062),N=a(220),C=a(2283),T=a(137),S=a(1146),M=a(1040),P=a.p+"static/media/banner_vote_zh.95b68f7a.png",E=a.p+"static/media/banner_vote_zh_light.f938c6a4.png",I=a.p+"static/media/banner_vote_en.e5d7263c.png",L=a.p+"static/media/banner_vote_en_light.56fed0a6.png",A=a.p+"static/media/banner_vote_tc.b01bfe55.png",z=a.p+"static/media/banner_vote_tc_light.c9f85918.png",B=a(8),F=a(6),V=a(11),H=a.n(V),D=a.p+"static/media/ico_rank1.2ae00253.svg",Q=a.p+"static/media/ico_rank2.3ecfc0f1.svg",U=a.p+"static/media/ico_rank3.f8dc477f.svg",J=a(1116),R=a(1117),G=a(1189),W=a(1190),q=a(179),Z=a(1145),X=a.p+"static/media/ico_empty.d0852581.png",K=a.p+"static/media/ico_question.39dc58be.svg",Y=a.p+"static/media/ico_question_light.e8ab4926.svg",$=a(1047),ee=a(1017),te=a(60),ae=a.n(te),ne=a(249),oe=a(4);t.default=()=>{const e=1e3,[t,a]=Object(s.useState)(0),r=Object(o.d)((()=>O.default.network)),V=Object(k.default)(k.isMobileOnlyMedia),[te,_e]=Object(s.useState)([]),[re,ce]=Object(s.useState)(1),[le,se]=Object(s.useState)(0),[ie,de]=Object(s.useState)(0),[me,be]=Object(s.useState)(!1);let pe,[je,ve]=Object(s.useState)(-1);const ue=Object(T.useCurrentTheme)(),ge=Object(o.d)((()=>O.default.system)),xe=window.localStorage.getItem("lang"),[he,fe]=Object(s.useState)({}),Oe=Object(T.useCurrentTheme)(),[ke]=m.a.useForm();let ye="";const[we,Ne]=Object(s.useState)(!0),[Ce,Te]=Object(s.useState)([]),[Se,Me]=Object(s.useState)(""),[Pe,Ee]=Object(s.useState)(!1),Ie=window.localStorage.getItem("lang")||c.a.options.currentLocale,Le={"zh-CN":{dark:P,light:E},"zh-TC":{dark:A,light:z},"en-US":{dark:I,light:L}},Ae=()=>{};Object(s.useEffect)((()=>{let e=setInterval((()=>{He(),r.isConnected&&Ve()}),r.defaultIntervalSec);return()=>{clearInterval(e)}}),[]);const ze=async()=>{Fe(),He()},Be=async()=>{Ve()},Fe=async()=>{let e=await Object(l.B)();e.success?a(e.time):setTimeout((()=>{Fe()}),5e3)},Ve=async()=>{try{let e=De(),t=Qe();await e,await t}catch(e){console.log(e)}},He=async()=>{},De=async()=>{let e=await Object(B.eb)("0x0000000000000000000000".concat(y.mb.address.toHex(r.defaultAccount)));fe((t=>Object(n.a)(Object(n.a)({},t),{},{currentVote:e.value})))},Qe=async()=>{let e=await Object(B.db)(r.defaultAccount);fe((t=>Object(n.a)(Object(n.a)({},t),{},{userUsedPower:e.value.div(100)})))},Ue=()=>{Fe(),He(),r.isConnected&&Ve()};Object(s.useEffect)((()=>(Je(),()=>{clearInterval(pe)})),[t]);const Je=async()=>{F.default.pump.voteStartTime>t?ve(F.default.pump.voteStartTime-t):F.default.pump.voteEndTime<=t?ve(-1):F.default.pump.voteEndTime-t>=0?ve(F.default.pump.voteEndTime-t):Ue(),clearInterval(pe),pe=setInterval((()=>{ve((t=>t-e>=0?t-e:(clearInterval(pe),Ue(),0)))}),e)},Re=async e=>{let t=await Object(B.fb)(r.defaultAccount,e.poolType);console.log("pumpUserLastVote",t.value.toString());const a=t.value.eq(0)?e.votePercent:Object(y.a)(e.votePercent).plus(t.value.div(100)).toString(),n=Ce.filter((t=>t.tokenAddress===e.poolType))[0].tokenName;try{const t={title:"actions.vote_for_gauge_weights",obj:{percent:"".concat(Object(y.v)(e.votePercent),"%"),pool:n}};let o=Object(y.a)(a).times(100)._toIntegerDown()._toHex();await ge.votePumpToken(o,"0x0000000000000000000000".concat(y.mb.address.toHex(e.poolType)),t)&&setTimeout((()=>{He(),Ve(),1===re?Ye(re):$e(1),ke.resetFields()}),5e3)}catch(o){console.log(o)}},Ge=e=>{Ne(!0)},We=()=>{ke.validateFields().then((e=>{Ne(!1)})).catch((e=>{Ne(!0)}))},qe=e=>{if(e.target&&"percent"===e.target.name){if(""===e.target.value)return void ke.setFieldsValue({votePercent:""});let a=e.target.value;if(Object(y.a)(a).lte(100)){var t;let e=a.split(".");(null===(t=e[1])||void 0===t?void 0:t.length)>2&&(a="".concat(e[0]+"."+e[1].substr(0,2))),(e=>{if(e){const{valid:t,str:a}=Object(y.ab)(e,2);if(t)ye=a,ke.setFieldsValue({votePercent:a});else{let e="";ke.getFieldsValue().votePercent.length>1&&(e=ye),ke.setFieldsValue({votePercent:e})}}})(a)}else ke.setFieldsValue({votePercent:ye})}We()},Ze=[D,Q,U],Xe=e=>{const t=e+1;return t>3?Object(oe.jsx)("span",{children:t}):Object(oe.jsx)("img",{src:Ze[e],alt:"rank"})},Ke=e=>{let t="0";if(0!==ie)return t=e.votes>ie?"100%":Object(y.a)(e.votes).div(ie).times(100).isLessThan(new y.a("0.25"))?"0.25%":Object(y.a)(e.votes).div(ie).times(100).toString()+"%",Object(oe.jsxs)("div",{className:d.a.rank_percent,children:[Object(oe.jsx)("div",{className:d.a.rank_percent_top,children:Object(y.c)(e.votes)}),Object(oe.jsx)("div",{className:d.a.rank_percent_btm,children:Object(oe.jsx)("div",{className:d.a.rank_percent_bar,children:Object(oe.jsx)("div",{className:d.a.rank_percent_bar_inner,style:{width:t}})})})]})},Ye=async e=>{be(!0);const t=await Object(l.P)({voteAddress:F.default.pump.pumpVoteContract,pageNo:e,pageSize:20,hasVotes:!0});if(t&&t.data&&t.data.voteList.list.length>0){const e=t.data.voteList.list.map(((e,a)=>Object(n.a)(Object(n.a)({},e),{},{index:20*(t.data.currentPage-1)+a})));_e(e),se(t.data.total),ce(t.data.currentPage)}t&&t.data&&t.data.voteList.votesTarget&&de(t.data.voteList.votesTarget),be(!1)};Object(s.useEffect)((()=>{Ye(re)}),[re]);const $e=e=>{ce(e)},et=()=>{Se||at("")},tt=ae.a.debounce((e=>{at(e)}),500),at=async e=>{Ee(!0);const t=await Object(l.P)({voteAddress:F.default.pump.pumpVoteContract,pageNo:1,pageSize:20,keyword:e,hasVotes:!1});t&&t.data&&t.data.voteList.list.length>0?Te(t.data.voteList.list):Te([]),Ee(!1)},nt=e=>{Me(e),We()},ot=e=>{window.open("".concat(F.default.pump.homeLink,"token/").concat(e),"_blank")};return Object(oe.jsx)(o.a,{children:()=>Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(_.a,{routeName:"pumpVote",instantActions:ze,mountedActions:Be}),Object(oe.jsxs)("div",{className:"main-page-content",children:[je>0&&Object(oe.jsxs)("div",{className:d.a.title,children:[Object(oe.jsx)("div",{className:d.a.title_t,children:c.a.get("pump.vote.title")}),Object(oe.jsx)("div",{className:d.a.title_b,children:c.a.getHTML("pump.vote.sub_desc",{value:Object(y.c)(ie),announcement:"en-US"===Ie?F.default.pump.announcementLink_en:F.default.pump.announcementLink})})]}),je<=0&&Object(oe.jsx)("div",{className:d.a.banner,children:Object(oe.jsx)("img",{onClick:Ae,src:Le[Ie][Oe],alt:"sunpump"})}),je>0&&Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:i.tab_content_main,children:r.isConnected?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:d.a.content_title,style:{marginTop:0},children:[Object(oe.jsx)("span",{className:d.a.content_title_left,children:c.a.get("governance.my_vote")}),Object(oe.jsxs)("div",{className:d.a.content_title_right,children:[Object(oe.jsx)(b.a,{title:c.a.getHTML("pump.vote.stake_tips"),trigger:["hover","click"],children:Object(oe.jsx)(ne.a,{fullFilled:!0,style:{marginRight:6}})}),Object(oe.jsxs)(N.a,{href:"/?lang=".concat(xe,"#/stake?modalShow=LockModal"),className:d.a.content_title_lock_link,children:[c.a.get("governance.to_lock_sun"),Object(oe.jsx)(C.a,{style:{fontSize:10,marginLeft:5}})]})]})]}),Object(oe.jsxs)(p.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(oe.jsx)(j.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},children:Object(oe.jsx)(w.a,{className:d.a.vote_infoBox,items:[{label:c.a.get("governance.current_votes"),value:Object(y.v)(he.currentVote)},{label:c.a.get("governance.votes_used"),value:Object(y.v)(he.userUsedPower,{miniText:.01})+"%"}],responsive:!0,responsiveLayout:"h",style:{height:"132px",padding:V?"10px 10px 12px":"24px"}})}),Object(oe.jsx)(j.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},children:Object(oe.jsx)(v.a,{theme:{components:{Form:{colorError:Oe["color-warning"]},Select:{colorError:Oe["color-a"],colorErrorHover:Oe["color-a"],colorErrorBorder:Oe["color-a"]},Input:{borderRadius:"5px",colorError:Oe["color-a"],colorErrorHover:Oe["color-a"],colorErrorBorder:Oe["color-a"]}}},children:Object(oe.jsxs)(m.a,{form:ke,layout:"vertical",name:"control-hooks",onFinish:Re,onFinishFailed:Ge,requiredMark:!1,children:[Object(oe.jsxs)("div",{className:d.a.vote_form,children:[Object(oe.jsx)(m.a.Item,{name:"poolType",label:c.a.get("pump.vote.choose_token"),colon:!1,rules:[{required:!0,message:c.a.get("pump.vote.choose_token_placeholder")}],children:Object(oe.jsx)(S.b,{placeholder:c.a.get("pump.vote.choose_token_placeholder"),placement:"bottomRight",dropdownAlign:{overflow:{adjustY:0}},showSearch:!0,value:Se,defaultActiveFirstOption:!1,suffixIcon:null,filterOption:!1,onSearch:tt,onFocus:et,onChange:nt,loading:Pe,notFoundContent:Object(oe.jsx)(u.a,{description:c.a.get("governance.empty_text"),image:u.a.PRESENTED_IMAGE_SIMPLE}),children:[...Ce.length>0?Ce.map(((e,t)=>Object(oe.jsxs)(S.a,{value:e.tokenAddress,className:d.a.combine_icon,children:[Object(oe.jsx)("img",{src:e.tokenLogo,onError:e=>{e.target.onerror=null,e.target.src=q.a},alt:"logo"}),Object(oe.jsx)("span",{children:e.tokenName}),Object(oe.jsxs)("span",{children:["\uff08",Object(y.r)(e.tokenAddress,8,4),"\uff09"]})]},e.tokenAddress))):[]]})}),Object(oe.jsx)(m.a.Item,{name:"votePercent",label:c.a.get("governance.input_percent"),colon:!1,rules:[{validator:(e,t)=>(async e=>{if(ke.getFieldValue("poolType"),he.currentVote.isEqualTo(0))return Promise.reject(new Error(c.a.get("governance.my_vote_tips4")));let t=+Object(y.a)(100).minus(he.userUsedPower).toString();return e&&e>t?Promise.reject(new Error(c.a.get("governance.input_error_msg",{value:t}))):e?Promise.resolve():Promise.reject(new Error(c.a.get("governance.my_vote_tips5")))})(t)}],style:{width:V?"100%":160,flexShrink:0},children:Object(oe.jsx)(M.a,{placeholder:c.a.get("governance.input_number"),name:"percent",autoComplete:"off",suffix:"%",onChange:qe})})]}),Object(oe.jsx)(m.a.Item,{style:{marginBottom:0},children:Object(oe.jsx)(g.a,{size:"large",block:!0,className:"vote-btn",type:"primary",htmlType:"submit",disabled:we||t<F.default.pump.voteStartTime,children:t<F.default.pump.voteStartTime?c.a.get("pump.vote.unStart"):c.a.get("governance.vote")})})]})})})]})]}):Object(oe.jsx)(ee.a,{})})}),Object(oe.jsx)("div",{className:d.a.rank_title,children:c.a.get("pump.vote.rank_title")}),Object(oe.jsxs)("div",{className:H()(d.a.content_title,d.a.content_title_2),children:[Object(oe.jsxs)("span",{className:d.a.content_title_left,children:[Object(oe.jsx)("img",{className:d.a.content_title_left_img,src:"dark"===Oe?K:Y,alt:"tip"}),Object(oe.jsx)("div",{className:d.a.content_title_left_text,children:c.a.get("pump.vote.rank_tip")})]}),t?Object(oe.jsx)(oe.Fragment,{children:je>0?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{className:d.a.content_title_effect,children:t<F.default.pump.voteStartTime?c.a.get("pump.vote.start_time",{value:new Date(parseInt(F.default.pump.voteStartTime)).format("yyyy-MM-dd h:m:s")}):c.a.get("pump.vote.effect_time",{value:new Date(parseInt(F.default.pump.voteEndTime)).format("yyyy-MM-dd h:m:s")})}),Object(oe.jsx)(f.a,{style:{marginRight:0},data:je})]}):Object(oe.jsx)("span",{className:H()(d.a.content_title_effect,d.a.content_title_effect2),children:c.a.get("pump.vote.vote_end",{value:new Date(parseInt(F.default.pump.voteEndTime)).format("yyyy-MM-dd h:m:s")})})}):Object(oe.jsx)(oe.Fragment,{})]}),Object(oe.jsxs)("div",{className:d.a.rank_list_wrap,children:[Object(oe.jsxs)("div",{className:H()(d.a.rank_row,d.a.rank_header_row),children:[Object(oe.jsx)("div",{className:d.a.rank_row_1}),Object(oe.jsx)("div",{className:d.a.rank_row_2}),Object(oe.jsx)("div",{className:d.a.rank_row_3,children:Object(oe.jsx)("span",{children:c.a.get("pump.vote.list_title3")})}),Object(oe.jsx)("div",{className:d.a.rank_row_4,children:Object(oe.jsx)("span",{children:c.a.get("pump.vote.list_title4")})}),Object(oe.jsx)("div",{className:d.a.rank_row_5,children:Object(oe.jsx)("span",{children:c.a.get("pump.vote.list_title5")})}),Object(oe.jsx)("div",{className:d.a.rank_row_6})]}),Object(oe.jsx)("div",{className:d.a.rank_list_main,children:Object(oe.jsx)(x.a,{spinning:me,indicator:Object(oe.jsx)(Z.a,{size:30,className:"dark-table-loading"}),children:Object(oe.jsx)("div",{className:d.a.rank_list_main_inner,children:te.length>0?te.map(((e,t)=>Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:H()(d.a.rank_row,d.a.rank_main_row),onClick:()=>ot(e.tokenAddress),children:[Object(oe.jsx)("div",{className:d.a.rank_row_1,children:Xe(e.index)}),Object(oe.jsx)("div",{className:d.a.rank_row_2,children:Object(oe.jsx)("div",{className:d.a.rank_row_logo,children:Object(oe.jsx)("img",{src:e.tokenLogo,onError:e=>{e.target.onerror=null,e.target.src=q.a},alt:"logo"})})}),Object(oe.jsx)("div",{className:d.a.rank_row_3,children:Object(oe.jsx)("span",{children:e.tokenName})}),Object(oe.jsx)("div",{className:d.a.rank_row_4,children:Object(oe.jsx)("span",{children:Object(y.r)(e.tokenAddress,6,4)})}),Object(oe.jsx)("div",{className:d.a.rank_row_5,children:Ke(e)}),Object(oe.jsx)("div",{className:d.a.rank_row_6,children:Object(oe.jsx)(b.a,{placement:"bottom",title:c.a.get("pump.vote.falg_tip",{value:Object(y.c)(ie)}),children:Object(oe.jsx)("div",{className:H()(d.a.rank_flag,{[d.a.rank_max_row]:e.votes>=ie})})})})]},"".concat(t,"_").concat(e.tokenAddress)),Object(oe.jsxs)("div",{className:d.a.rank_row_mobile,onClick:()=>ot(e.tokenAddress),children:[Object(oe.jsxs)("div",{className:d.a.rank_row_mobile_t,children:[Object(oe.jsx)("div",{className:d.a.rank_row_mobile_rank_num,children:Xe(e.index)}),Object(oe.jsx)("div",{className:d.a.rank_row_mobile_l,children:Object(oe.jsx)("div",{className:d.a.rank_row_logo,children:Object(oe.jsx)("img",{src:e.tokenLogo,onError:e=>{e.target.onerror=null,e.target.src=q.a},alt:"logo"})})}),Object(oe.jsxs)("div",{className:d.a.rank_row_mobile_r,children:[Object(oe.jsx)("div",{className:d.a.rank_row_mobile_r_tokenName,children:e.tokenName}),Object(oe.jsx)("div",{className:d.a.rank_row_mobile_r_tokenAddress,children:Object(y.r)(e.tokenAddress,6,4)})]})]}),Object(oe.jsxs)("div",{className:d.a.rank_row_mobile_b,children:[Ke(e),Object(oe.jsx)("div",{onClick:e=>{e.stopPropagation()},children:Object(oe.jsx)(b.a,{trigger:"click",placement:"bottom",title:c.a.get("pump.vote.falg_tip",{value:Object(y.c)(ie)}),children:Object(oe.jsx)("div",{className:H()(d.a.rank_flag,{[d.a.rank_max_row]:e.votes>=ie})})})})]})]},e.tokenAddress)]}))):!me&&Object(oe.jsx)("div",{className:d.a.rank_list_empty,children:Object(oe.jsx)($.a,{img:X,emptyText:c.a.get("governance.empty_text")})})})})}),Object(oe.jsx)("div",{className:d.a.rank_pagination,children:Object(oe.jsx)(h.a,{itemRender:(e,t,a)=>"prev"===t?Object(oe.jsx)("img",{alt:"pre",src:"dark"===ue?J.a:G.a}):"next"===t?Object(oe.jsx)("img",{alt:"next",src:"dark"===ue?R.a:W.a}):a,current:re,size:"small",onChange:$e,pageSize:20,total:le})})]})]})]})})}}}]);