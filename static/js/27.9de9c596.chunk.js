(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[27],{1024:function(e,t,a){"use strict";var n=a(1),s=a.n(n),c=a(226),i=a(4);const l=e=>{let{url:t,...a}=e;return Object(i.jsx)("img",{src:t||c.a,onError:e=>{e.target.src!==c.a&&(e.target.src=c.a)},alt:"mint-icon",...a})};t.a=s.a.memo(l)},1031:function(e,t,a){"use strict";var n=a(1),s=a.n(n),c=a(11),i=a.n(c),l=a(155),o=a(4);class r extends s.a.Component{constructor(e){super(e),this.confirm=()=>{this.props.confirm&&this.props.confirm()},this.cancel=()=>{this.props.cancel&&this.props.cancel()},this.state={}}render(){return Object(o.jsx)(l.a,{title:i.a.get("action.popTitle"),closable:!0,maskClosable:!1,open:this.props.visible,onCancel:this.cancel,cancelButtonProps:{onClick:this.confirm},width:430,centered:!0,okText:i.a.get("action.popCancelBtn"),cancelText:i.a.get("action.popQuitBtn"),onOk:this.cancel,zIndex:10001,children:Object(o.jsx)("p",{style:{textAlign:"center"},children:i.a.get("action.popDesc")})})}}t.a=r},1046:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));const n=a(20).a.create({timeout:3e4});n.interceptors.response.use((e=>e.data),(e=>(console.warn("request error",e),Promise.reject(e))));const s=a(5).default,{host:c,pathList:i}=s.tronScanApi,l=async e=>(e=>{const{url:t,method:a="GET",data:s}=e;return n.request({url:t,method:a,["get"===a.toLocaleLowerCase()?"params":"data"]:s})})({url:"".concat(c).concat(i.token_trc20),data:e})},1048:function(e,t,a){e.exports={"page-head":"style_page-head__91Agl",link:"style_link__3XCm5","gradient-title":"style_gradient-title__BtjHe",animateTitle:"style_animateTitle__-WHr6","dim-content":"style_dim-content__3LQb2",uppercase:"style_uppercase__3efAA","window-for-tabs-pane":"style_window-for-tabs-pane__3oLVj","dark-btn":"style_dark-btn__76s_Q","purple-btn":"style_purple-btn__2jO7B","cur-input":"style_cur-input__2kce_","max-btn":"style_max-btn__1ybkR",info_list_item:"style_info_list_item__3yL4n",info_list_label:"style_info_list_label__3ZkyF",info_list_value:"style_info_list_value__1Ojjv",info_list_value_default:"style_info_list_value_default__3KZja",info_list_value_warning:"style_info_list_value_warning__3V-RI",info_list_value_error:"style_info_list_value_error__2CLpf",swap_tip:"style_swap_tip__32HH9",price_list:"style_price_list__1AvjV",price_list_item:"style_price_list_item__3TEzn",price_list_right:"style_price_list_right__3WYNQ",swap_value:"style_swap_value__3aB_8",swap_symbol:"style_swap_symbol__2Bggh",error_msg:"style_error_msg__J1zwu",error_icon:"style_error_icon__LefHO",success:"style_success__2a16z",recipient:"style_recipient__3xEo4",recipient_tip:"style_recipient_tip__2lQq1",token_swap_info:"style_token_swap_info__3wzpc"}},1049:function(e,t,a){"use strict";t.a=a.p+"static/media/success_icon.ece2b689.png"},1050:function(e,t,a){"use strict";var n=a(1),s=a(120),c=a(318),i=a(1046),l=a(11),o=a.n(l),r=a.p+"static/media/level_0.84ef3243.svg",p=a.p+"static/media/level_1.992f0646.svg",u=a.p+"static/media/level_2.64ee6a0e.svg",d=a.p+"static/media/level_3.11dd93d5.svg",b=a.p+"static/media/level_4.9f506295.svg",j=a.p+"static/media/level_5.eb6a2d14.svg",m=a(80),v=a(17),_=a.n(v),x=a(1093),g=a.n(x),h=a(4);const O=a(5).default,{trxFakeAddress:y,wtrxAddress:A}=O,f={level0:r,level1:p,level2:u,level3:d,level4:b,level5:j},w=Object(n.memo)((e=>{const{levelImg:t}=e;return Object(h.jsx)("img",{className:g.a.level_img,src:f[t],alt:""})})),T=e=>{const{tokenAddress:t}=e,[a,l]=Object(n.useState)(""),r=Object(s.a)(window.navigator).any,[p,u]=Object(n.useState)(!0);Object(n.useEffect)((()=>{d()}),[e.tokenAddress]);const d=async()=>{if(u(!0),(null===e||void 0===e?void 0:e.tokenAddress)===y||(null===e||void 0===e?void 0:e.tokenAddress)===A)return u(!1),l("2");if(e.tokenAddress){if(await Object(m.x)(e.tokenAddress))return u(!1),l("5");Object(i.a)({contract:e.tokenAddress,showAll:1}).then((t=>{const a=t.trc20_tokens.find((t=>t.contract_address===e.tokenAddress));l(a?a.level:"0")})).catch((e=>{l(""),console.log("e",e)})),u(!1)}},b=Object(n.useCallback)((()=>window.open(O.tronscanUrl+"/tokens/rating-rule","_blank")),[]),j=Object(n.useMemo)((()=>a?o.a.get("token_level.".concat(a)):o.a.get("token_level.0")),[a]),v=Object(n.useMemo)((()=>"level".concat(a)),[a]),x=Object(n.useMemo)((()=>"5"===a?Object(h.jsxs)("span",{className:_()(g.a.token_level,{[g.a.token_level_untip]:"5"===a}),children:[Object(h.jsx)(w,{levelImg:v}),Object(h.jsx)("span",{className:g.a["level_text_".concat(a)],children:j})]}):Object(h.jsx)(c.a,{title:o.a.getHTML("token_level.tips"),overlayClassName:g.a.level_tip,children:r?Object(h.jsxs)("span",{className:g.a.token_level,children:[Object(h.jsx)(w,{levelImg:v}),Object(h.jsx)("span",{className:g.a["level_text_".concat(a)],children:j})]}):Object(h.jsxs)("span",{className:g.a.token_level,onClick:b,children:[Object(h.jsx)(w,{levelImg:v}),Object(h.jsx)("span",{className:g.a["level_text_".concat(a)],children:j})]})})),[a]);return Object(h.jsx)(h.Fragment,{children:t&&a&&!p&&Object(h.jsx)("span",{className:"ml-10",...e,children:x})})};t.a=Object(n.memo)(T)},1055:function(e,t,a){"use strict";var n=a(65),s=a.n(n),c=a(1063),i=a.n(c),l=a(1103),o=a.n(l),r=a(1104),p=a.n(r);s.a.extend(i.a),s.a.extend(o.a),s.a.extend(p.a),t.a=s.a},1057:function(e,t,a){"use strict";var n=a(54),s=a(2245),c=a(1),i=a(1114),l=a.n(i),o=a(109),r=a(74),p=a(4);const u=e=>e["".concat(e.status,"Title")]||e.title,d=e=>{const{items:t,direction:a,current:c,withBorder:i=!0,formatTitle:d,...b}=e,j=t.map((e=>({...e,title:d?u(e):e.title}))).filter((e=>!e.hide)),m=Object(o.useCurrentThemeConfig)();return Object(p.jsx)(n.a,{theme:{token:{colorTextBase:"#fff"},components:{Steps:{colorPrimary:m["color-text-step-primary"],colorText:m["color-text-step-primary"],colorError:m["color-warning"],colorFillContent:m["color-border-primary"],controlItemBgActive:Object(r.a)(m["color-text-step-primary"],.3),colorSplit:m["color-text-default-3"],colorTextDescription:m["color-text-default-5"]}}},children:i?Object(p.jsx)("div",{className:l.a.step_wrap_border,children:Object(p.jsx)(s.a,{items:j,size:"small",direction:a,current:c,...b})}):Object(p.jsx)(s.a,{items:j,size:"small",direction:a,current:c,...b})})};d.defaultProps={direction:"vertical"},t.a=Object(c.memo)(d)},1093:function(e,t,a){e.exports={"page-head":"style_page-head__1sGNR",link:"style_link__3b-Zc","gradient-title":"style_gradient-title__1PsFP",animateTitle:"style_animateTitle__ist9O","dim-content":"style_dim-content__3q90i",uppercase:"style_uppercase__3DULL","window-for-tabs-pane":"style_window-for-tabs-pane__3m39m","dark-btn":"style_dark-btn__uDA0F","purple-btn":"style_purple-btn__3SDth","cur-input":"style_cur-input__3WIGR","max-btn":"style_max-btn__2YxKq",token_level:"style_token_level__2wrKl",token_level_untip:"style_token_level_untip__1m9lj",level_img:"style_level_img__2v3qT",level_tip:"style_level_tip__t8-nq",level_text_0:"style_level_text_0__rYr78",level_text_1:"style_level_text_1__1fxZG",level_text_2:"style_level_text_2__3gSnQ",level_text_3:"style_level_text_3__30vqr",level_text_4:"style_level_text_4__2pRUV",level_text_5:"style_level_text_5__3eMdZ"}},1113:function(e,t,a){"use strict";var n=a(1),s=a(17),c=a.n(s),i=a(155),l=a(1057),o=a(1048),r=a.n(o),p=a(1024),u=a(362),d=a(1049),b=a(11),j=a.n(b),m=a(318),v=a(224),_=a(110),x=a(109),g=a(81),h=a(87),O=a(4);const y=e=>{const{actionStatus:t,fromToken:a,toToken:n,tip:s,infoList:o,title:b,approveItems:y,children:A,swapError:f,btnProps:w,successFromValue:T,successToValue:k,showPrice:N=!0,recipientAddr:S,showEndTip:D,footer:C,...F}=e,M=Object(g.d)((()=>h.default.themeStore)),E="success"===t,B=Object(_.default)(_.isMobileOnlyMedia),I=Object(x.useCurrentTheme)(),H=Object(O.jsxs)("div",{className:r.a.error_msg,children:[Object(O.jsx)("span",{className:r.a.error_icon,children:"!"}),f]});return Object(O.jsx)(g.a,{children:()=>Object(O.jsxs)(i.a,{title:b,showOk:!0,showCancel:!1,okButtonProps:{type:"warning",...w},footerTip:Object(O.jsxs)(O.Fragment,{children:[E&&S&&D&&Object(O.jsx)("div",{className:r.a.recipient_tip,children:j.a.get("sunSwap.action.swapSendDescTitle")}),E&&!S&&D&&Object(O.jsx)("div",{className:r.a.recipient_tip,children:j.a.get("sunSwap.action.swapDescTitle")})]}),footerMsg:f&&H,footer:C,...F,width:530,maskClosable:!1,children:[!E&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:r.a.token_swap_info,children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("span",{className:r.a.swap_value,children:a.amount}),Object(O.jsx)("span",{className:r.a.swap_symbol,children:a.symbol})]}),Object(O.jsx)(u.b,{type:"2",direction:B?"bottom":"right",style:{margin:B?"10px 0":"0 10px"},color:"light"===I?"#C1C1C1":void 0,opacity:"light"===I?1:void 0}),Object(O.jsxs)("span",{children:[Object(O.jsx)("span",{className:r.a.swap_value,children:n.amount}),Object(O.jsx)("span",{className:r.a.swap_symbol,children:n.symbol})]})]}),S&&Object(O.jsx)("div",{className:r.a.recipient,children:"".concat(j.a.get("sunSwap.swap.recipient")).concat(S)})]}),"line"===t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:r.a.recipient,children:S?j.a.get("sunSwap.action.swapSendLineTitle"):j.a.get("sunSwap.action.swapLineTitle")}),Object(O.jsx)("div",{style:{marginTop:20},children:Object(O.jsx)(l.a,{items:y})})]}),"info"===t&&Object(O.jsxs)(O.Fragment,{children:[N&&Object(O.jsxs)("div",{className:r.a.price_list,children:[Object(O.jsxs)("div",{className:r.a.price_list_item,children:[Object(O.jsx)(p.a,{url:a.logo}),Object(O.jsx)("span",{children:a.symbol}),Object(O.jsx)("span",{className:r.a.price_list_right,children:a.price})]}),Object(O.jsxs)("div",{className:r.a.price_list_item,children:[Object(O.jsx)(p.a,{url:n.logo}),Object(O.jsx)("span",{children:n.symbol}),Object(O.jsx)("span",{className:r.a.price_list_right,children:n.price})]})]}),o.map((e=>e.hide?null:Object(O.jsxs)("div",{className:r.a.info_list_item,children:[Object(O.jsxs)("span",{className:r.a.info_list_label,children:[e.label,":"]}),e.tip?Object(O.jsx)(m.a,{title:Object(O.jsx)("span",{children:e.tip}),children:Object(O.jsx)(v.a,{fullFilled:!0,style:{marginRight:7}})}):null,Object(O.jsx)("span",{className:c()({[r.a.info_list_value]:!0,[r.a.info_list_value_default]:!e.valueType||"default"===e.valueType,[r.a.info_list_value_warning]:"warning"===e.valueType,[r.a.info_list_value_error]:"error"===e.valueType}),children:e.value})]}))),s&&Object(O.jsx)("div",{className:r.a.swap_tip,children:s})]}),"success"===t&&Object(O.jsxs)("div",{className:r.a.success,children:[Object(O.jsx)("img",{src:d.a,alt:""}),Object(O.jsxs)("div",{style:{textAlign:"center",marginBottom:25},children:[Object(O.jsx)("span",{className:r.a.swap_value,children:T}),Object(O.jsx)("span",{className:r.a.swap_symbol,children:a.symbol}),Object(O.jsx)(u.b,{type:"2",style:{margin:"0 10px"},color:"dark"===M.theme?"#fff":"#333"}),Object(O.jsx)("span",{className:r.a.swap_value,children:k}),Object(O.jsx)("span",{className:r.a.swap_symbol,children:n.symbol})]}),S&&Object(O.jsx)("div",{className:r.a.recipient,children:"".concat(j.a.get("sunSwap.swap.recipient")).concat(S)})]}),A]})})};y.defaultProps={},t.a=Object(n.memo)(y)},1114:function(e,t,a){e.exports={step_wrap_border:"style_step_wrap_border__zUoKV"}},1175:function(e,t,a){"use strict";var n=a(20),s=a(45);t.a=async()=>{let e=(new Date).getTime();const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t="".concat(s.default.timeService);let{data:a}=await n.a.get(t,{params:e});return 0!==Number(a.code)?{success:!1}:{success:!0,time:Number(a.data.serverTimeStamp)}}catch(t){return console.log("getServiceTime: ",t),{success:!1}}}();return t.success&&(e=t.time),e}},1188:function(e,t,a){"use strict";a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return b})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return v})),a.d(t,"d",(function(){return _})),a.d(t,"c",(function(){return x})),a.d(t,"a",(function(){return g})),a.d(t,"i",(function(){return h}));var n=a(6),s=a(0),c=a(5);const i=(e,t)=>e?{value:"function"===typeof t?t(e):e,success:!0}:{success:!1};var l=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const c=await Object(n.cc)(e,t,a,s);return c.length?c[0]:null};var o=e=>e?Object(s.a)(e.slice(0,n.a),16):e;const{htxConfig:r}=c.default,p=r.htxExchangeContract,u=r.htxVoteContract,d=async(e,t,a,s)=>{const i=await Object(n.Yb)(e,"approve(address,uint256)",[{type:"address",value:t},{type:"uint256",value:n.b}],{feeLimit:c.default.feeLimitMin},a,s);return i&&i.transaction?i.transaction.txID:""},b=async()=>{const e=await l(p,"isActive()",[]);return i(e,(e=>{var t;return null===(t=o(e))||void 0===t?void 0:t.isEqualTo(1)}))},j=async()=>{const e=await Object(n.cc)(p,"TokenA()",[]);if(e.length){const t=e[0];let a=0;return{success:!0,value:n.Ob.address.fromHex("41"+t.substr(a++*n.a,n.a).slice(24))}}return{success:!1}},m=async()=>{const e=await Object(n.cc)(p,"TokenB()",[]);if(e.length){const t=e[0];let a=0;return{success:!0,value:n.Ob.address.fromHex("41"+t.substr(a++*n.a,n.a).slice(24))}}return{success:!1}},v=async()=>{const e=await l(p,"exchangeRate()",[]);return i(e,o)},_=async()=>{const e=await l(p,"feeRate()",[]);return i(e,(e=>{var t;return null===(t=o(e))||void 0===t?void 0:t.toString()}))},x=async(e,t)=>{const a=[{type:"uint256",value:e},{type:"bool",value:t}],c=await Object(n.cc)(p,"getAmountOut(uint256,bool)",a,{},{});if(c.length){const e=c[0];let t=0;const a=Object(s.a)(e.substr(t++*n.a,n.a),16),i=Object(s.a)(e.substr(t++*n.a,n.a),16);return{success:!0,amount:a.toString(),fee:i.toString()}}return{success:!1}},g=async(e,t,a,s)=>{const c=[{type:"uint256",value:t},{type:"bool",value:a}],i=await Object(n.Yb)(e,"swap(uint256,bool)",c,{},s);return i.transaction?i.transaction.txID:""},h=async(e,t,a)=>{const n=[{type:"uint256",value:t.integerValue(s.a.ROUND_DOWN)._toHex()},{type:"bool",value:a}],c={title:"actions.vote_for_gauge_weights",obj:{percent:"".concat(Object(s.u)(t.integerValue(s.a.ROUND_DOWN),{dp:0})),pool:"SUN/HTX"}},i=await e.trigger(u,"vote(uint256,bool)",n,{},c);return i.transaction?i.transaction.txID:""}},1193:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a(241),s=a(1016);const c=async e=>{let{inputs:t,abiForInterface:a}=e;if(!t||!t.length)return;const c=new n.b(a),i=[];t.forEach((e=>{const{value:t,functionFragment:a,params:s,abi:l}=e;if(l){const c=new n.b(l);e.CallInterface=c,i.push([t,c.encodeFunctionData(a,s||[])])}else e.CallInterface=c,i.push([t,c.encodeFunctionData(a,s||[])])}));const l=await Object(s.a)({shouldSigner:!1}),o=(await l.tryAggregate(!0,i).call({_isConstant:!0}))[0];return t.map(((e,t)=>{try{return e.CallInterface.decodeFunctionResult(e.functionFragment,o[t][1])}catch(a){return console.log("e",a),null}}))};t.a=async e=>{let{inputs:t,abiForInterface:a}=e;if(!t||!t.length)return;const c=new n.b(a),i=[];t.forEach((e=>{const{value:t,functionFragment:a,params:s,abi:l}=e;if(l){const c=new n.b(l);e.CallInterface=c,i.push([t,c.encodeFunctionData(a,s||[])])}else e.CallInterface=c,i.push([t,c.encodeFunctionData(a,s||[])])}));const l=await Object(s.a)({shouldSigner:!1}),o=(await l.tryAggregate(!0,i).call({_isConstant:!0}))[0];return t.map(((e,t)=>{try{return e.CallInterface.decodeFunctionResult(e.functionFragment,o[t][1])}catch(a){return console.log("e",a),null}}))}},1246:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));const n=864e5,s=(e,t,a)=>e<t||e<a?1e3:-1},1248:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(30);const s=async e=>{try{var t,a,s;const c="btfs",i="test"===c||"qaTest"===c?e.tokenSymbol:e.tokenAddress,{data:l}=await Object(n.G)([i]);return(null===(t=l[i])||void 0===t||null===(a=t.quote)||void 0===a||null===(s=a.USD)||void 0===s?void 0:s.price)||""}catch(c){console.log("get token price error",c)}}},1308:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"c",(function(){return x})),a.d(t,"d",(function(){return h})),a.d(t,"a",(function(){return O}));var n=a(1193),s=a(1),c=a(26),i=a(0),l=a(1309),o=a(1310),r=a(6),p=a(5),u=a(981),d=a(1175),b=a(1188),j=a(1246);const{htxConfig:m}=p.default,v=(e,t,a,n)=>e.gt(n)?c.b.unStart:null!==e&&void 0!==e&&e.plus(t).gt(n)?c.b.active:null!==e&&void 0!==e&&e.plus(t).lt(n)&&!a?c.b.passed:null!==e&&void 0!==e&&e.plus(t).lt(n)&&a?c.b.excused:void 0,_=()=>{const[e,t]=Object(s.useState)({});return Object(s.useEffect)((()=>{const e=["voteStartTime","voteDuration"].map((e=>({value:Object(u.a)(m.htxVoteContract),functionFragment:e})));e.push({value:Object(u.a)(m.htxExchangeContract),functionFragment:"isActive",abi:o});const a=Object(d.a)(),s=Object(n.b)({inputs:e,abiForInterface:l});Promise.allSettled([s,a]).then((e=>{let[a,n]=e;if("fulfilled"===a.status){const[e,s,c]=a.value,l=v(Object(i.a)(e[0].toString()).times(1e3),Object(i.a)(s[0].toString()).times(1e3),c[0],n.value);t({htxVoteStatus:l,voteStartTime:1e3*e[0].toString(),voteEndTime:1e3*e[0].toString()+1e3*s[0].toString()})}})).catch((e=>{console.log("useHtxSunVoteSingleStatus error",e)}))}),[]),e},x=(e,t)=>{const[a,n]=Object(s.useState)();return Object(s.useEffect)((()=>{e&&null!==t&&void 0!==t&&t.token&&Object(r.Tb)(e,[null===t||void 0===t?void 0:t.token]).then((e=>{if("-"!==e){const a=e.div(new i.a(10).pow(null===t||void 0===t?void 0:t.decimal));n(a)}}))}),[e,t]),a},g=(e,t,a)=>{const[n,i]=Object(s.useState)(a),l=Object(s.useRef)(null);return Object(s.useEffect)((()=>(Object(d.a)().then((n=>{if(clearInterval(l.current),l.current=null,i(a),!e||a===c.b.excused||a===c.b.passed||!a)return;let s=n;const o=Object(j.a)(s,+e.toString(),+t.plus(e).toString());if(o<0)return;l.current=setInterval((()=>(a=>{s+=a;const n=v(e,t,!1,s);console.log("useVoteRealStatusBeforeExcused interval",n),n===c.b.passed&&(clearInterval(l.current),l.current=null),i(n)})(o)),o)})),()=>clearInterval(l.current))),[e,t,l,a]),n},h=e=>{const t=g(e.voteStartTime,e.voteDuration,e.voteStatus),a=(e=>{const[t,a]=Object(s.useState)(!1),n=Object(s.useRef)(null);return Object(s.useEffect)((()=>{if(e===c.b.passed){clearInterval(n.current);const e=async()=>{const{value:e}=await Object(b.g)();console.log("isActive interval",e),e&&(a(e),clearInterval(n.current))};n.current=setInterval(e,1e3),e()}return()=>clearInterval(n.current)}),[e]),t})(t);return i=a,(n=t)?n===c.b.passed&&i?c.b.excused:n:null;var n,i},O=(e,t)=>{const[a,c]=Object(s.useState)({});return Object(s.useEffect)((()=>{console.log("getHtxVoteInfo"),(async()=>{const e=["voteStartTime","voteDuration","voteYes","voteNo"].map((e=>({value:Object(u.a)(m.htxVoteContract),functionFragment:e})));e.push({value:Object(u.a)(m.htxExchangeContract),functionFragment:"isActive",abi:o});const t=Object(d.a)(),a=Object(n.b)({inputs:e,abiForInterface:l}),[s,c]=await Promise.allSettled([a,t]);if("fulfilled"===s.status){const[e,t,a,n,l]=s.value,o={voteStartTime:Object(i.a)(e[0].toString()).times(1e3),voteDuration:Object(i.a)(t[0].toString()).times(1e3),voteYes:Object(i.a)(a[0].toString()),voteNo:Object(i.a)(n[0].toString()),isActive:l[0],voteEndTime:Object(i.a)(e[0].toString()).plus(t[0].toString()).times(1e3)},r=v(o.voteStartTime,o.voteDuration,o.isActive,c.value);o.totalVote=o.voteYes.plus(o.voteNo);const p=o.totalVote.gt(0),u=p?o.voteYes.div(o.voteYes.plus(o.voteNo)).times(100).integerValue().toString():"0",d=p?(100-u).toString():"0";return{...o,yesRate:u,noRate:d,voteStatus:r}}})().then((e=>c((t=>({...t,...e}))))),(async e=>{if(!e)return{};const t=["votes","voteResult"].map((t=>({value:Object(u.a)(m.htxVoteContract),functionFragment:t,params:[Object(u.a)(e)]}))),a=await Object(n.b)({inputs:t,abiForInterface:l}),[s,c]=a;return{votes:Object(i.a)(s[0].toString()),voteResult:c[0]}})(e).then((e=>e.votes&&c((t=>({...t,...e})))))}),[t,e]),a}},1309:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_baseToken","type":"address"},{"internalType":"uint256","name":"_voteDuration","type":"uint256"},{"internalType":"uint256","name":"_voteStartTime","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"bool","name":"_voteYes","type":"bool"},{"indexed":false,"internalType":"uint256","name":"voteYes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"voteNo","type":"uint256"}],"name":"Vote","type":"event"},{"inputs":[],"name":"BaseToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"_voteResult","type":"bool"}],"name":"vote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"voteDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteNo","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voteResult","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteStartTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteYes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"votes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},1310:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_tokenA","type":"address"},{"internalType":"address","name":"_tokenB","type":"address"},{"internalType":"uint256","name":"_exchangeRate","type":"uint256"},{"internalType":"uint256","name":"_feeRate","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"forward","type":"bool"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"Exchange","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldRate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newRate","type":"uint256"}],"name":"ExchangeRateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldRate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newRate","type":"uint256"}],"name":"FeeRateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOperator","type":"address"},{"indexed":false,"internalType":"address","name":"newOperator","type":"address"}],"name":"OperatorChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"newStatus","type":"bool"}],"name":"PoolStatusChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Recovered","type":"event"},{"inputs":[],"name":"BASEAMOUNT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TokenA","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TokenB","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"exchangeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"_forward","type":"bool"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pausePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"recoverTRC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"recoverTRX","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setExchangeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setFeeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOperator","type":"address"}],"name":"setOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"_forward","type":"bool"}],"name":"swap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOperator","type":"address"}],"name":"transferOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},1315:function(e,t,a){"use strict";t.a=a.p+"static/media/ico_switch.7800d88b.svg"},1316:function(e,t,a){"use strict";t.a=a.p+"static/media/ico_switch_light.6cf08f13.svg"},1398:function(e,t,a){},1428:function(e,t,a){"use strict";var n=a(11),s=a.n(n),c=a(1),i=a(206),l=a(376),o=a(224),r=a(155),p=a.p+"static/media/htx_vote_mpdal_icon.d26b2d7e.png",u=a(17),d=a.n(u),b=a(4);var j=e=>Object(b.jsx)("div",{className:"vote-select-list",children:e.list.map((t=>Object(b.jsxs)("div",{className:d()({"vote-select-item":!0,"vote-select-item-active":t.value===e.activeKey}),onClick:()=>e.selectChange(t.value),children:[t.value,"%"]},t.key)))}),m=a(0),v=a.p+"static/media/warn_tips_yellow.6ccab5dd.svg";a(1398);t.a=e=>{var t,a;const[n,u]=Object(c.useState)(100);Object(c.useEffect)((()=>{e.visible&&u(100)}),[e.visible]);return Object(b.jsx)(r.a,{width:440,className:"htx-vote-modal dark-modal",open:e.visible,onCancel:e.onCancel,footer:null,centered:!0,children:Object(b.jsxs)("div",{className:"htx-vote-modal-body",children:[Object(b.jsx)("div",{className:"htx-vote-modal-title",children:1===e.voteType?s.a.get("htx.page.vote.voteType1"):s.a.get("htx.page.vote.voteType2")}),Object(b.jsx)("div",{className:"htx-vote-modal-icon",children:Object(b.jsx)("img",{src:p,alt:"vote_icon"})}),Object(b.jsx)("div",{className:"htx-vote-own",children:Object(b.jsx)("span",{className:"htx-vote-sub-title",children:e.subTitleText?e.subTitleText:s.a.get("htx.page.vote.ownLabel")})}),e.hideDesc?Object(b.jsx)(b.Fragment,{}):Object(b.jsxs)("div",{className:"htx-vote-own-desc",children:[Object(b.jsx)("span",{className:"htx-vote-own-desc-label",children:s.a.get("htx.page.vote.ownLabel2")}),Object(b.jsx)("span",{children:Object(m.v)(null===(t=e.sunBalance)||void 0===t?void 0:t.integerValue(m.a.ROUND_DOWN),{dp:0})})]}),Object(b.jsx)(j,{list:[{key:25,value:25},{key:50,value:50},{key:75,value:75},{key:100,value:100}],activeKey:n,selectChange:e=>{u(e)}}),Object(b.jsxs)("div",{className:"htx-vote-power",children:[Object(b.jsx)("span",{className:"htx-vote-sub-title",children:s.a.get("htx.page.vote.powerTitle")}),e.voteTips&&Object(b.jsx)(l.a,{title:e.voteTips,children:Object(b.jsx)(o.a,{isDark:!0,style:{marginLeft:6}})})]}),Object(b.jsxs)("div",{className:"htx-vote-power-desc",children:[Object(b.jsx)("span",{children:Object(m.v)(Object(m.a)(null===(a=e.sunBalance)||void 0===a?void 0:a.integerValue(m.a.ROUND_DOWN)).times(n/100).integerValue(m.a.ROUND_DOWN),{dp:0})}),Object(b.jsx)("span",{className:"htx-vote-power-value",children:e.voteSymbol})]}),Object(b.jsx)("div",{className:"htx-vote-submit",children:Object(b.jsx)(i.a,{type:"primary",loading:e.confirmLoading,onClick:()=>{e.onVoteSubmit&&e.onVoteSubmit(n)},children:s.a.get("htx.page.vote.submit")})}),e.bottomTips&&Object(b.jsxs)("div",{className:"htx-vote-bottom-tips",children:[Object(b.jsx)("img",{src:v,alt:"",srcset:""}),Object(b.jsx)("span",{children:e.bottomTips})]})]})})}},1552:function(e,t,a){e.exports={"page-head":"style_page-head__1DykA",link:"style_link__iiVSU","gradient-title":"style_gradient-title__1WHOe",animateTitle:"style_animateTitle__3HVFH","dim-content":"style_dim-content__1J9HK",uppercase:"style_uppercase__1AEXt","window-for-tabs-pane":"style_window-for-tabs-pane__3Xzmu","dark-btn":"style_dark-btn__17QFo","purple-btn":"style_purple-btn__279T6","cur-input":"style_cur-input__1dajj","max-btn":"style_max-btn__77dvP",swap_balance:"style_swap_balance__1Fuca",swap_arrow:"style_swap_arrow__3XCK-",swap_detail_label:"style_swap_detail_label__2rzzf",swap_detail_value:"style_swap_detail_value__33-na",usd_price_text:"style_usd_price_text__3lP04"}},2066:function(e,t,a){e.exports={token_address:"style_token_address__14EYP",token_view_icon:"style_token_view_icon__1aokJ"}},2067:function(e,t,a){e.exports={"page-head":"style_page-head__3jAMF",link:"style_link__116XL","gradient-title":"style_gradient-title__15fH1",animateTitle:"style_animateTitle__3hSvJ","dim-content":"style_dim-content__1H2ka",uppercase:"style_uppercase__2ma3G","window-for-tabs-pane":"style_window-for-tabs-pane__zf0co","dark-btn":"style_dark-btn__t3BzF","purple-btn":"style_purple-btn__1TC-p","cur-input":"style_cur-input__1nKBi","max-btn":"style_max-btn__2iq9q",input_wrap:"style_input_wrap__1y1x1",input_wrap_active:"style_input_wrap_active__1-XkW",input_wrap_disabled:"style_input_wrap_disabled__3G2Re",with_max_input:"style_with_max_input__19Lk3",max_btn:"style_max_btn__IF0pQ"}},2068:function(e,t,a){e.exports={"page-head":"style_page-head__2Wl-k",link:"style_link__2QI1F","gradient-title":"style_gradient-title__20iGP",animateTitle:"style_animateTitle__1H7fk","dim-content":"style_dim-content__3XcL3",uppercase:"style_uppercase__3uhP5","window-for-tabs-pane":"style_window-for-tabs-pane__2KJmm","dark-btn":"style_dark-btn__2bDhT","purple-btn":"style_purple-btn__3Q26x","cur-input":"style_cur-input__1NsG7","max-btn":"style_max-btn__YUFS3",swap_detail_rate:"style_swap_detail_rate__1TgDb",swap_detail_per:"style_swap_detail_per__1uGNh"}},2069:function(e,t,a){},2243:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(11),i=a.n(c),l=a(964),o=a(974),r=a.p+"static/media/page_htx_proposal_icon.e7612860.png",p=a(26),u=a(4);var d=e=>{const t=[{name:i.a.get("htx.page.vote.proposalActive"),key:p.b.unStart,classnames:"page-htx-proposal-status page-htx-proposal-status-unStart"},{name:i.a.get("htx.page.vote.proposalActive"),key:p.b.active,classnames:"page-htx-proposal-status page-htx-proposal-status-active"},{name:i.a.get("htx.page.vote.proposalPassed"),key:p.b.passed,classnames:"page-htx-proposal-status page-htx-proposal-status-passed"},{name:i.a.get("htx.page.vote.proposalExcused"),key:p.b.excused,classnames:"page-htx-proposal-status page-htx-proposal-status-excused"}];return Object(u.jsx)(u.Fragment,{children:(()=>{const a=t.findIndex((t=>t.key===e.status))>=0?t.findIndex((t=>t.key===e.status)):1,n=t[a];return e.status&&e.status!==p.b.unStart&&Object(u.jsx)("div",{className:n.classnames,children:n.name})})()})},b=a(318),j=a(0),m=a(224),v=a(110),_=a(81),x=a(87);var g=e=>{const t=e.status===p.b.unStart||e.status===p.b.active,a=Object(v.default)(v.isMobileOnlyMedia),n=Object(_.d)((()=>x.default.network)),s=!n.isConnected&&(e.status===p.b.unStart||e.status===p.b.active);return console.log("ssss",!n.isConnected,e.status),Object(u.jsx)(_.a,{children:()=>{var c;return Object(u.jsxs)("div",{className:"page-htx-proposal",children:[Object(u.jsxs)("div",{className:"page-htx-proposal-l",children:[Object(u.jsx)("div",{className:"page-htx-proposal-icon",children:Object(u.jsx)("img",{src:r,alt:"proposal_icon"})}),Object(u.jsxs)("div",{className:"page-htx-proposal-title",children:[Object(u.jsxs)("div",{className:"page-htx-proposal-title1",children:[i.a.get("htx.page.vote.proposalTitle1"),!a&&Object(u.jsx)(d,{status:e.status})]}),a&&Object(u.jsx)(d,{status:e.status})]})]}),s&&Object(u.jsx)("div",{className:"page-htx-proposal-r-wallet",children:Object(u.jsx)("div",{onClick:()=>n.setData({loginModalVisible:!0,loginModalStep:1}),children:Object(u.jsx)("div",{className:"vote-title-wallet",children:i.a.get("header.connect_wallet")})})}),e.isConnected&&t&&Object(u.jsxs)("div",{className:"page-htx-proposal-r",children:[Object(u.jsxs)("div",{className:"htx-proposal-item",children:[Object(u.jsx)("div",{className:"htx-proposal-label",children:i.a.get("htx.page.vote.balance")}),Object(u.jsx)("div",{className:"htx-proposal-value",children:Object(j.v)(e.balance,{dp:2})})]}),Object(u.jsxs)("div",{className:"htx-proposal-item",children:[Object(u.jsxs)("div",{className:"htx-proposal-label-wrap",children:[Object(u.jsx)("div",{className:"htx-proposal-label mr5",children:i.a.get("htx.page.vote.power")}),Object(u.jsx)(b.a,{className:"htx-proposal-label-question",overlayClassName:"htx-proposal-tooltip-card",title:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"htx-proposal-tooltip",children:i.a.getHTML("htx.page.vote.ownLabelTips1")}),Object(u.jsx)("div",{className:"htx-proposal-tooltip",children:i.a.getHTML("htx.page.vote.ownLabelTips2")}),Object(u.jsx)("div",{className:"htx-proposal-tooltip",children:i.a.getHTML("htx.page.vote.ownLabelTips3")})]}),children:Object(u.jsx)(m.a,{fullFilled:!0})})]}),Object(u.jsx)("div",{className:"htx-proposal-value",children:Object(j.v)(null===(c=e.power)||void 0===c?void 0:c.integerValue(j.a.ROUND_DOWN),{dp:0})})]})]})]})}})};var h=e=>Object(u.jsxs)("div",{className:"count-down-item",children:[Object(u.jsxs)("div",{className:"count-down-item-body",children:[Object(u.jsxs)("div",{className:"count-down-item-bg",children:[Object(u.jsx)("div",{className:"count-down-item-bg1"}),Object(u.jsx)("div",{className:"count-down-item-bg2"})]}),Object(u.jsx)("div",{className:"count-down-number",children:e.targetNumber})]}),Object(u.jsx)("div",{className:"count-down-desc",children:e.desc})]}),O=a(1175),y=a(1055),A=a(1246);const f=e=>e<10?"0"+e:e;var w=e=>{const{startTime:t,duration:a,voteStatus:s}=e,[c,l]=Object(n.useState)({}),[o,r]=Object(n.useState)(!0),[d,b]=Object(n.useState)(null),j=Object(n.useRef)(null);return Object(n.useEffect)((()=>{if(t&&a)return Object(O.a)().then((e=>{clearInterval(j.current),j.current=null,b(e);const n=Object(A.a)(e,t,t+a);if(n<0)return;let s=e;j.current=setInterval((()=>(e=>{s+=e;const n=Object(A.a)(s,t,t+a);console.log("getServiceTime interval",n),n<0&&(clearInterval(j.current),j.current=null),b(s)})(n)),n)})),()=>{clearInterval(j.current),j.current=null}}),[t,a,j]),Object(n.useEffect)((()=>{if(!d)return;if(t>=d)return void l({days:"00",hours:"00",minutes:"00"});const e=Object(y.a)(t+a).diff(Object(y.a)(d));if(e<A.b)return l({days:"00",hours:f(y.a.duration(e).hours()),minutes:f(y.a.duration(e).minutes()),seconds:f(y.a.duration(e).seconds())}),void r(!1);l({days:f(y.a.duration(e).days()),hours:f(y.a.duration(e).hours()),minutes:f(y.a.duration(e).minutes())})}),[t,a,d]),Object(u.jsxs)("div",{className:"vote-countdown",children:[s===p.b.active&&Object(u.jsx)("div",{className:"vote-countdown-title",children:i.a.get("htx.page.vote.countdownTitle")}),Object(u.jsxs)("div",{className:"vote-countdown-list",children:[o&&Object(u.jsx)("div",{className:"vote-countdown-item",children:Object(u.jsx)(h,{targetNumber:c.days,desc:i.a.get("htx.page.vote.days")})}),Object(u.jsx)("div",{className:"vote-countdown-item",children:Object(u.jsx)(h,{targetNumber:c.hours,desc:i.a.get("htx.page.vote.hours")})}),Object(u.jsx)("div",{className:"vote-countdown-item",children:Object(u.jsx)(h,{targetNumber:c.minutes,desc:i.a.get("htx.page.vote.minutes")})}),!o&&Object(u.jsx)("div",{className:"vote-countdown-item",children:Object(u.jsx)(h,{targetNumber:c.seconds,desc:i.a.get("htx.page.vote.seconds")})})]})]})},T=a.p+"static/media/page_htx_vote_percent_img_yes_en.21bd8358.png",k=a.p+"static/media/page_htx_vote_percent_img_yes_zh.aa5a0c6e.png",N=a.p+"static/media/page_htx_vote_percent_img_yes_tc.aa5a0c6e.png",S=a.p+"static/media/page_htx_vote_percent_img_no_en.e06c90ca.png",D=a.p+"static/media/page_htx_vote_percent_img_no_zh.268cfb0c.png",C=a.p+"static/media/page_htx_vote_percent_img_no_tc.f2b51268.png",F=a.p+"static/media/htx_page_vs.5ee415b6.png",M=a.p+"static/media/htx_page_vs_light.a6b773db.png",E=a(5),B=a(193);const{htxConfig:I}=E.default;var H=e=>{var t;const a=window.localStorage.getItem("lang")||i.a.options.currentLocale,s=Object(_.d)((()=>x.default.network)),{voteInfo:c,handleVote:l,reVote:o,setReVote:r,sunBalance:d,voteStatus:g}=e,h=null===c||void 0===c||null===(t=c.votes)||void 0===t?void 0:t.gt(0),O=h&&(null===c||void 0===c?void 0:c.voteResult),y=h&&!(null!==c&&void 0!==c&&c.voteResult),A=Object(v.default)(v.isMobileOnlyMedia),f=g===p.b.unStart||g===p.b.active,H=g===p.b.active&&h,R=g===p.b.unStart||g===p.b.active,V=Object(_.d)((()=>x.default.themeStore)),Q=g===p.b.unStart||(!d||d.lte(0))&&s.isConnected||h&&s.isConnected&&!o,L=()=>{let e=T;return"zh-CN"===a?e=k:"zh-TC"===a&&(e=N),Object(u.jsx)("img",{src:e,alt:"yes"})},U=()=>{let e=S;return"zh-CN"===a?e=D:"zh-TC"===a&&(e=C),Object(u.jsx)("img",{src:e,alt:"no"})},P=Object(n.useCallback)((e=>{s.isConnected?l(e):s.setData({loginModalVisible:!0,loginModalStep:1})}),[l,s]);return Object(u.jsx)(_.a,{children:()=>{var e,t,a,n,s;return Object(u.jsxs)("div",{className:"page-htx-vote-main",children:[A&&Object(u.jsx)("div",{className:"page-htx-vote-percent-c-mobile",children:f&&Object(u.jsx)(w,{startTime:null===c||void 0===c||null===(e=c.voteStartTime)||void 0===e?void 0:e.toNumber(),duration:null===c||void 0===c||null===(t=c.voteDuration)||void 0===t?void 0:t.toNumber(),voteStatus:g})}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsxs)("div",{className:"page-htx-vote-percent-t",children:[Object(u.jsx)("div",{className:"page-htx-vote-percent-img",children:L()}),Object(u.jsx)("div",{className:"page-htx-vote-percent-img",children:U()})]}),Object(u.jsxs)("div",{className:"page-htx-vote-percent-c",children:[Object(u.jsx)("div",{className:"page-htx-vote-percent-l",style:{width:"".concat(null!==(a=c.totalVote)&&void 0!==a&&a.gt(0)?c.yesRate:50,"%")},children:Object(u.jsxs)("span",{children:[c.yesRate,"%"]})}),Object(u.jsxs)("div",{className:"page-htx-vote-percent-r",children:[Object(u.jsxs)("span",{children:[c.noRate,"%"]}),Object(u.jsx)("div",{className:"page-htx-vote-vs",children:Object(u.jsx)("img",{src:"dark"===V.theme?F:M,alt:"vs"})})]})]}),Object(u.jsxs)("div",{className:"page-htx-vote-percent-b",children:[Object(u.jsx)("div",{className:"page-htx-vote-percent-b-item",children:Object(j.v)(null===c||void 0===c?void 0:c.voteYes,{dp:0})}),Object(u.jsx)("div",{className:"page-htx-vote-percent-b-item",children:Object(j.v)(null===c||void 0===c?void 0:c.voteNo,{dp:0})})]})]}),R&&Object(u.jsxs)("div",{className:"page-htx-vote-area",children:[Object(u.jsx)("div",{className:"page-htx-vote-area-l",children:Object(u.jsx)("button",{type:"button",disabled:Q,onClick:()=>P(1),children:i.a.get(O?"htx.page.vote.btnYesText1":"htx.page.vote.btnYesText")})}),!A&&Object(u.jsx)("div",{className:"page-htx-vote-area-c",children:f&&Object(u.jsx)(w,{startTime:null===c||void 0===c||null===(n=c.voteStartTime)||void 0===n?void 0:n.toNumber(),duration:null===c||void 0===c||null===(s=c.voteDuration)||void 0===s?void 0:s.toNumber(),voteStatus:g})}),Object(u.jsx)("div",{className:"page-htx-vote-area-r",children:Object(u.jsx)("button",{type:"button",disabled:Q,onClick:()=>P(2),children:i.a.get(y?"htx.page.vote.btnNoText1":"htx.page.vote.btnNoText")})})]}),H&&Object(u.jsxs)("div",{className:"page-htx-vote-refresh",style:{textAlign:O?"":"right"},children:[Object(u.jsx)("span",{className:"page-htx-vote-refresh-title",children:i.a.get("htx.page.vote.tipsTitle1",{value:Object(j.v)(c.votes,{dp:0})})}),Object(u.jsx)("span",{className:"page-htx-vote-refresh-desc",onClick:()=>r(!0),children:i.a.get("htx.page.vote.tipsTitle2")}),Object(u.jsx)(b.a,{title:i.a.get("htx.page.vote.tipsTitle3"),children:Object(u.jsx)(m.a,{fullFilled:!0})})]}),Object(u.jsxs)("div",{className:"page-htx-vote-rules",children:[Object(u.jsxs)("div",{className:"page-htx-vote-rules-title",children:[Object(u.jsx)("div",{className:"page-htx-vote-rules-title-l",children:i.a.get("htx.page.vote.rulesTitle")}),Object(u.jsxs)("div",{className:"page-htx-vote-rules-title-r",children:[Object(u.jsx)("img",{src:"dark"===V.theme?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAMAAABNTyq8AAAAAXNSR0IArs4c6QAAALdQTFRFAAAA////v7//v5//xpz/vKH/v6b/vaH/v6T/xKL/wqH/v5//wqH/wqD/v6L/wqL/w6H/wJ//waD/wqH/wZ//wqH/wJ//waH/wZ//waD/wKH/waH/wKH/waD/wqH/wZ//wqD/wKD/wqD/waD/wqD/waH/waD/wKH/waD/waD/wKH/waD/waD/waD/wqH/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/x2lsQwAAADx0Uk5TAAEEEBITFBscHi4wNjs8P0xNTk9SVF1fYmZqh4qPkpWWn6ayv8XK0NPV2Nvd3uDm6+zt8PHz9fn7/P3+MmGezgAAAM5JREFUOMu1lMcOgkAURa8de+8du6IoVuD+/3e5MJYBdEYTz2oWJ5nXAU03+QFT1wDNogRLg04pOky5ZIIKfCU5xtKH4YiSnUUAOVuQ1ghkI0huIcgpuZ7ADzsfh5+y+4Nkdxt3WlOPNEqWtyTJ4Ut2MbFOzAOpnUxqA0hbku+cGoDMRRK4UwQwlkizKBA2PkuLOIABSbqPthy9UgVAjyRXiWd2TY9UB7okyc5LCUJnUdr3J7fHPPKUqm97d3qM7+YPU6C0nEprrnQwVE7PFaCc3Sx/sJvrAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAMAAABNTyq8AAAAAXNSR0IArs4c6QAAALdQTFRFAAAA/wD/gED/j1D/jlX/hlH/jE3/jlX/iVL/iFX/i1P/ilD/jlD/ilL/jFH/jlH/jVH/i0//jVL/i1H/jFH/jFL/jFL/jFH/jVH/jFD/jFL/jFH/jFH/jVD/jFD/jFD/i1L/jFL/jFH/jFL/jFH/jFL/jFH/jFH/jFH/jFH/jFH/jFL/jFH/jFL/jFH/jFH/jFH/jFH/jFH/jFH/jFH/jFH/jVH/jFH/jFH/jFH/jFH/jFH/jFH/VKNyDwAAADx0Uk5TAAEEEBITFBscHi4wNjs8P0xNTk9SVF1fYmZqh4qPkpWWn6ayv8XK0NPV2Nvd3uDm6+zt8PHz9fn7/P3+MmGezgAAAM5JREFUOMu1lMcOgkAURa8de+8du6IoVuD+/3e5MJYBdEYTz2oWJ5nXAU03+QFT1wDNogRLg04pOky5ZIIKfCU5xtKH4YiSnUUAOVuQ1ghkI0huIcgpuZ7ADzsfh5+y+4Nkdxt3WlOPNEqWtyTJ4Ut2MbFOzAOpnUxqA0hbku+cGoDMRRK4UwQwlkizKBA2PkuLOIABSbqPthy9UgVAjyRXiWd2TY9UB7okyc5LCUJnUdr3J7fHPPKUqm97d3qM7+YPU6C0nEprrnQwVE7PFaCc3Sx/sJvrAAAAAElFTkSuQmCC",alt:"addr"}),Object(u.jsx)(B.a,{href:"".concat(E.default.tronscanUrl,"/contract/").concat(I.htxVoteContract),target:"_blank",rel:"noopener noreferrer",children:Object(j.r)(I.htxVoteContract,6,6)})]})]}),Object(u.jsx)("div",{className:"page-htx-vote-rules-list",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc1")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc2")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc3")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc4")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc5")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc6")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc7")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc8")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc9")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc10")}),Object(u.jsx)("li",{children:i.a.get("htx.page.vote.ruleDesc11")})]})})]})]})}})},R=a.p+"static/media/htx_page_bannber_en.b20a1053.png",V=a.p+"static/media/htx_page_bannber_zh.e7e9272f.png",Q=a.p+"static/media/htx_page_bannber_tc.8deda45a.png",L=a.p+"static/media/htx_page_bannber_en_light.f72fa8df.png",U=a.p+"static/media/htx_page_bannber_zh_light.40515c26.png",P=a.p+"static/media/htx_page_bannber_tc_light.1a50f71a.png";var G=e=>{const t=window.localStorage.getItem("lang")||i.a.options.currentLocale;return Object(u.jsx)("div",{className:"page-htx-banner",children:(()=>{let a="dark"===e.theme?R:L;return"zh-CN"===t?a="dark"===e.theme?V:U:"zh-TC"===t&&(a="dark"===e.theme?Q:P),Object(u.jsx)("img",{src:a,alt:"htx_sun"})})()})},z=a(1462),Y=a(1464);var J=e=>{const t=Object(_.d)((()=>x.default.network)),a=()=>Object(u.jsx)("div",{className:"htx-submit-btn ".concat(e.errorTip&&"htx-submit-btn-disabled"),...e,children:e.errorTip?e.errorTip:i.a.get("buysell.swap")});return Object(u.jsx)(_.a,{children:()=>Object(u.jsx)(s.a.Fragment,{children:t.isConnected?Object(u.jsx)(a,{}):Object(u.jsx)("div",{className:"htx-submit-btn",onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),children:i.a.get("header.connect_wallet")})})})},K=a(1552),W=a.n(K);var q=e=>{const{tokenPrice:t,tokenValue:a}=e,n=Object(j.ib)(a).times(Object(j.ib)(t));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:K.usd_price_text,children:Object(j.v)(n,{dp:2,needDolar:!0,cutZero:!1,miniText:.01})})})},Z=a(192),X=a(2277),$=a(2066);var ee=e=>{const{tokenSymbol:t,tokenLogoUrl:a,tokenAddress:n}=e;return Object(u.jsxs)("div",{className:$.token_address,children:[Object(u.jsx)("img",{alt:"",src:a||Z.a,onError:e=>{e.target.src!==Z.a&&(e.target.src=Z.a)}}),Object(u.jsx)("span",{children:t}),Object(u.jsx)("span",{children:Object(j.mb)(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(X.a,{className:$.token_view_icon+" ml-20"})}),n)})]})},te=a(1050),ae=a(2212),ne=a(17),se=a.n(ne),ce=a(2067);const ie=e=>{const{className:t,onMaxClick:a,showMax:s=!0,bottomContent:c,disabled:l,...o}=e,[r,p]=Object(n.useState)(!1),d=Object(n.useCallback)((()=>{p(!1)}),[]);return Object(u.jsxs)("div",{className:se()(ce.input_wrap,t,{[ce.input_wrap_active]:r,[ce.input_wrap_disabled]:l}),children:[Object(u.jsxs)("div",{className:"flex",onFocus:()=>{p(!0)},onBlur:d,children:[Object(u.jsx)(ae.a,{placeholder:"0",className:ce.with_max_input,...o}),s&&Object(u.jsx)("span",{className:ce.max_btn,onClick:a,children:i.a.get("swap.input_from_max")})]}),Object(u.jsx)(u.Fragment,{children:c})]})};var le=Object(n.memo)(ie),oe=a(2068),re=a.n(oe),pe=a(1315),ue=a(1316);var de=e=>{const[t,a]=Object(n.useState)(!1),{priceStr:s,priceInverseStr:c,fromToken:l,toToken:o}=e,r=async()=>{a(!t)};return Object(u.jsxs)("span",{className:re.a.swap_detail_rate,children:[t?i.a.getHTML("swap.input_from_per",{toToken:l.symbol,price:Object(j.v)(c,{miniText:E.default.minPrice,miniTextNoZero:!0,separator:!1,dp:o.decimal,cutZero:!0}),fromToken:o.symbol}):i.a.getHTML("swap.input_from_per",{toToken:o.symbol,price:Object(j.v)(s,{miniText:E.default.minPrice,miniTextNoZero:!0,separator:!1,dp:l.decimal,cutZero:!0}),fromToken:l.symbol}),Object(u.jsx)("img",{src:pe.a,className:"ml-12 base-dark-show",onClick:r,alt:"",style:{width:22}}),Object(u.jsx)("img",{src:ue.a,className:"ml-12 base-light-show",onClick:r,alt:"",style:{width:22}})]})},be=a(156),je=a(6),me=a(1188),ve=a(1248);let _e=E.default.TOKENS.htx,xe=E.default.TOKENS.sun;_e.token=null,xe.token=null,_e.logoUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAiJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEBAAECAQAAAQEDAQIDAQQFAgAAAgcKAgkOAgoOAwEBBBMcBQEBBRQdBRYfBRchBhgjBhsmBwEBByAtCAECCCAuCCIvCCQzCQICCgIBCzFFCzRJDDBFDgICDwICEAMCEEJfEENgEEZkEgMDEwMDE1N3FAMDFFR3FV2EFmSOFwQEF2WPGGiUGG2bGW2aGXGgGnSlGniqGnmrG3KiG3aoHAUFHgQFIIzHIQUFIgYGIpnZI5rbI5vdJJ7gJKLmJaXqJgUFJqnwJqnxJqrxJqvzJqz0J6vzJ6z0J632J674J6/4J6/5J7D6KLH7KLP+KQYGMggHMwgIOQkJPQoJQAoKQgoKRgsKTgwMVA0NaBAQaRAQdBESdBISehMTexMTfhQTghQUiBUViRUVkRcWlRcXmRcXmhgXmxcYoBkZohgZqBkaqRkasRobuhwcvh0dwRwexB0exB4eyB8fyx4fzh8g1iAh1iEh2CAh2SAh4CIj4SEj5iIj6iMk7CQk8CQl8SQk8yQl9CQl9iQm9iUl9yUm+CUl+SUm+iUm+yUm+yYn/CUm/CYn/SUm/SYn/iUn/iYn/yYn/ycop1t9rwAAACJ0Uk5TAAQFCxkaKitERUxNVldYWmqJiqe0tcPK4OLm6On4+vv9/kh69IkAAAIsSURBVDjLjZVldxNQDIazdb7O2q2TTgMUGO7u7m6DAQPSFra2+LAx3N1dh6WlSG//Hx8GnOSuPaf5luQ5V3KT9wIoyy2o8HgbG72eioJcSGuOYncN/rcad7EjJZZdVo2WVZdlD+TyKzGFVebbXEkdprS6Es2VN2AaayhXXLPMzVRksyCder2L3XpN5z8ur17vdu/ZPOXX5/VzWVWaa32UPKsjVVkAAFBqHX/ba/NUHxNLAQAcdp1Pf49/Om5V3gEARS0WeMdwskeHWooAwG1x3X0xNpetoBsgp1aH5j9OMJurFlibA4U6MvqaYebkOfuBCsGlS3MpEWWOfziKQzToAo/yL/yMMbO54cPZywbJhAe80j3zLc7M5mUb4vpDi2TGC03CW/0qwczxvlOI0/Z07Z4gUk0K7DXMHE30Ig7dGqLISgWKrac+NMxs7o5FXNjpp67to+TW4jJtb+PMP97sQBy/cz9RYO8keRlRniNfosyJ84i4KkJE1DlDlkcUfN/HGMfetyNO7AgSEQWmyIKLJ1z+/DcnnsxCXBwiIgruGiOfUDSF77Zh82Ay4roQEVF40zDZFLLNTn6N/nqxAHFzmIgCgTm6zUTj+m6a6OdjiGvCRP6DawfrxpWjsOR+0lxBnHvAH4xsHGmNghqupdf5XTsO33K4Y8WIAcOlx/XErR7EcRumpxhXWwBabVFxppMUTCspmYtU5rKXuZBmLs2Zi/3f78PV/3247O/jDzrr/LzfkyFRAAAAAElFTkSuQmCC",xe.logoUrl="data:image/png;base64,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",_e.precision=Object(j.a)(10).pow(18),xe.precision=Object(j.a)(10).pow(18);const ge=_e,he=xe;function Oe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(n.useState)(null),[s,c]=Object(n.useState)(null);Object(n.useEffect)((()=>{i()}),[]);const i=async()=>{const t=await Object(me.e)(),n=await Object(me.f)();if(t.success&&n.success){const s={...ge,tokenSymbol:ge.symbol,tokenAddress:t.value,token:t.value},i={...he,tokenSymbol:he.symbol,tokenAddress:n.value,token:n.value};e&&(s.tokenPrice=await Object(ve.a)(s),i.tokenPrice=await Object(ve.a)(i)),a(s),c(i)}};return{initTokenA:t,initTokenB:s}}var ye=a(1113),Ae=a(1031),fe=a(1048);const{htxConfig:we}=E.default,Te=we.htxExchangeContract,ke={start:"process",default:"wait",pending:"process",success:"finish",failed:"error",error:"error"};var Ne=e=>{const{useeAddress:t}=e,[a,s]=Object(n.useState)(ge),[c,l]=Object(n.useState)(he),[o,r]=Object(n.useState)(""),[p,d]=Object(n.useState)(""),[b,m]=Object(n.useState)("-"),[g,h]=Object(n.useState)("-"),[O,y]=Object(n.useState)(0),[A,f]=Object(n.useState)(0),[w,T]=Object(n.useState)(!0),[k,N]=Object(n.useState)(""),[S,D]=Object(n.useState)(!0),[C,F]=Object(n.useState)(!1),[M,B]=Object(n.useState)(!1),[I,H]=Object(n.useState)(!1),{initTokenA:R,initTokenB:V}=Oe(!0),Q=Object(_.d)((()=>x.default.swapModalStore)),L=Object(_.d)((()=>x.default.network)),U=Object(v.default)(v.isMobileOnlyMedia);Object(n.useEffect)((()=>{Z(),X()}),[]),Object(n.useEffect)((()=>{R&&V&&(s(R),l(V),K(R),K(V))}),[R,V,t]),Object(n.useEffect)((()=>{o||(d(""),y(0)),se(),ce()}),[o,p,w]);const P=Object(n.useMemo)((()=>Object(j.v)(Object(j.ib)(a.tokenPrice).multipliedBy(O),{dp:2})),[O,a]),G=Object(n.useMemo)((()=>Object(j.a)(A).div(100)),[A]),K=async e=>{if(!t||!e.token)return;let n=(await Object(je.Vb)(t,[e.token],[Te]))[Te];var c,i;n&&(e.balance=null===(c=n.balance)||void 0===c?void 0:c.div(e.precision),e.approvedAmount=null===(i=n.allowance)||void 0===i?void 0:i.div(e.precision),a.symbol===e.symbol?s(Object.assign({},e,{balance:e.balance},{approvedAmount:e.approvedAmount})):l(Object.assign({},e,{balance:e.balance},{approvedAmount:e.approvedAmount})))},Z=async()=>{const e=await Object(me.b)();if(e.success){const t=Object(j.a)(e.value).div(a.precision);m(t._toFixed(Number(a.decimal),1)),h(Object(j.a)(1).div(t)._toFixed(Number(c.decimal),1))}},X=async()=>{const e=await Object(me.d)();e.success&&f(e.value)},$=()=>{const e=Object(j.a)(a.balance);if(!Object(j.a)(e).gte(0))return;const t=e.gt(0)?e._toFixed(Number(a.decimal),1):"0";r(t)},ae=e=>{let t=e.target.value;const{valid:n,str:s}=Object(j.Z)((""+t).replace(/,/g,""),a.decimal);n&&r(Object(j.c)(s))},ne=()=>{const e=c,t=b;T(!w),l(a),s(e),r(p),m(g),h(t),d("")},se=()=>{Object(j.ib)(o).gt(a.approvedAmount)?D(!0):D(!1),Object(j.ib)(o).eq(0)||Object(j.ib)(o).isNaN()?N(i.a.get("buysell.swap")):Object(j.ib)(o).gt(a.balance)?N(i.a.get("swap.action_insufficient",{token:a.tokenSymbol})):N("")},ce=async()=>{try{if(!o)return;const e=Object(j.ib)(o).times(a.precision)._toIntegerDown()._toHex(),t=await Object(me.c)(e,w);if(t.success){let e=Object(j.a)(t.amount).div(c.precision);d(Object(j.c)(Object(j.a)(e)._toFixed(c.decimal,1))),y(Object(j.a)(t.fee).div(a.precision).toString())}}catch(e){console.error("get tovalue error:",+e)}},ie=()=>{const e=i.a.get("swap.action_swap"),t=i.a.get("swap.confirm_swap"),n=i.a.get("action.swapAct",{from:a.symbol,to:c.symbol}),s=i.a.get("action.swapActErr"),l=S;Q.setData({swapPopTitle:e,swapPopBtn:t,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:i.a.get("action.approveAct",{token:a.symbol}),approveActionError:i.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:n,swapActionError:s,swapActionState:"",actionInfo:i.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:l?"line":"info",actionStarted:!1,successFromValue:o,successToValue:p}),B(!1)},oe=()=>{k||(ie(),F(!0),H(!1))};Object(n.useEffect)((()=>{C&&_e()}),[C]);const re=()=>{Q.actionStarted?B(!0):pe()},pe=()=>{F(!1),setTimeout((()=>{ie()}),1e3)},ue=()=>{Q.setData({actionStarted:!0,swapPopBtn:i.a.get("action.startBtn"),swapPopBtnDisabled:!0}),ve()},ve=async()=>{try{const e=Object(j.ib)(o).times(a.precision)._toIntegerDown()._toHex(),t={title:"swap.pop_title_swap",obj:{from:"".concat(Object(j.v)(Object(j.ib)(o),a.decimal)," ").concat(a.symbol),to:"".concat(Object(j.v)(Object(j.ib)(p),c.decimal)," ").concat(c.symbol),addr:window.defaultAccount}},n=await Object(me.a)(Te,e,w,t);n&&(K(a),K(c),r(""),d("")),Q.swapSuccess(n,o,p)}catch(e){console.error("on submit error: ",e)}},_e=()=>{let e=S,t=Q.actionRetry;switch(!t&&e&&(t="approveToken"),t){case"approveToken":Q.setData({approveActionState:"start",actionInfo:i.a.get("action.startBtn"),actionDisabled:!0}),(async()=>{try{const e={action:"approve",title:"deposit.approve_token",obj:{value:a.symbol.toUpperCase()},continuous:!0};let t=await Object(me.h)(a.token,Te,e);K(a),K(c),t?(D(!1),Q.setData({approveActionState:"pending",actionInfo:i.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0}),setTimeout((()=>{Q.setData({approveActionState:"success",actionState:"info"})}),5e3)):Q.setData({approveActionState:"error",actionRetry:"approveToken",actionInfo:i.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0})}catch(e){console.log("cehck approve: ",e)}})();break;case"swapToken":Q.setData({swapActionState:"start",actionInfo:i.a.get("action.startBtn"),actionDisabled:!0}),ve()}},xe=()=>{B(!1),H(!0)},we=()=>{B(!1)};return Object(n.useEffect)((()=>(!M&&I&&pe(),()=>{})),[M,I]),Object(u.jsx)(_.a,{children:()=>Object(u.jsxs)("div",{className:"htx-swap",children:[Object(u.jsxs)(z.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object(u.jsxs)(Y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex mb-10",children:[Object(u.jsx)(ee,{tokenSymbol:a.symbol,tokenLogoUrl:a.logoUrl,tokenAddress:a.token}),Object(u.jsx)(te.a,{tokenAddress:a.token,style:{marginLeft:20}})]}),Object(u.jsxs)("div",{className:W.a.swap_balance,children:[Object(u.jsxs)("span",{children:[i.a.get("sunSwapV3.swap.input_from_balance"),"\xa0"]}),Object(u.jsx)("span",{children:Object(j.v)(a.balance,{dp:6,cutZero:!0})})]})]}),Object(u.jsx)("div",{className:"mt-12",children:Object(u.jsx)(le,{value:o,onChange:ae,onMaxClick:$,placeholder:i.a.get("sunSwapV3.swap.input_placeholder"),bottomContent:p&&Object(u.jsx)(q,{tokenPrice:a.tokenPrice,tokenValue:o}),showMax:L.isConnected})})]}),Object(u.jsx)(Y.a,{flex:"center",xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},children:Object(u.jsx)("div",{className:W.a.swap_arrow,children:Object(u.jsx)("span",{onClick:ne})})}),Object(u.jsxs)(Y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex mb-10",children:[Object(u.jsx)(ee,{tokenSymbol:c.symbol,tokenLogoUrl:c.logoUrl,tokenAddress:c.token}),Object(u.jsx)(te.a,{tokenAddress:c.token,style:{marginLeft:20}})]}),Object(u.jsxs)("div",{className:W.a.swap_balance,children:[Object(u.jsxs)("span",{children:[i.a.get("sunSwapV3.swap.input_from_balance"),"\xa0"]}),Object(u.jsx)("span",{children:Object(j.v)(c.balance,{dp:6,cutZero:!0})})]})]}),Object(u.jsx)("div",{className:"mt-12",children:Object(u.jsx)(le,{value:p,placeholder:"0",showMax:!1,bottomContent:p&&Object(u.jsx)(q,{tokenPrice:c.tokenPrice,tokenValue:p}),disabled:!0})})]})]}),Object(u.jsxs)(z.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object(u.jsxs)(Y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(u.jsxs)("span",{className:W.a.swap_detail_label,children:[i.a.get("sunSwapV3.swap.input_from_price"),": "]}),Object(u.jsx)(de,{priceStr:g,priceInverseStr:b,fromToken:a,toToken:c})]}),Object(u.jsx)(Y.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},children:Object(u.jsx)("span",{})}),p&&Object(u.jsxs)(Y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(u.jsxs)("span",{className:W.a.swap_detail_label,children:[i.a.get("htx.page.fee"),": "]}),Object(u.jsxs)("span",{className:W.a.swap_detail_value,children:[Object(j.v)(O,{dp:2})," ",a.symbol," "," / ".concat("--"!==P?P:0," ").concat(i.a.get("swap.usd"))]})]})]}),Object(u.jsx)(J,{errorTip:k,onClick:oe}),Object(u.jsx)(ye.a,{title:"success"===Q.actionState?i.a.get("action.swapSuccessTitle"):Q.swapPopTitle,closable:"success"!==Q.actionState,open:C,onCancel:re,centered:!0,fromToken:{logo:a.logoUrl,symbol:a.symbol,amount:o,price:"1 ".concat(a.symbol," =\n            ").concat(Object(j.v)(b,{dp:c.decimal,cutZero:!0,miniTextNoZero:!0,miniText:E.default.minPrice}),"\n            ").concat(c.symbol," ")},toToken:{logo:c.logoUrl,symbol:c.symbol,amount:p,price:"1 ".concat(c.symbol," =\n        ").concat(Object(j.v)(g,{dp:a.decimal,cutZero:!0,miniTextNoZero:!0,miniText:E.default.minPrice}),"\n        ").concat(a.symbol," ")},infoList:[{label:i.a.get("swap.detail_liquidity_fee"),value:Object(j.v)(O,{dp:2})+" "+a.symbol,tip:i.a.getHTML("htx.page.fee_tips",{value:Object(j.v)(G,{cutZero:!0})})}],tip:i.a.get("swap.confirm_warning_output1"),actionStatus:Q.actionState,approveItems:[{status:ke[Q.approveActionState||"default"],title:["error","failed"].includes(Q.approveActionState)?Q.approveActionError:"pending"===Q.approveActionState?i.a.get("sunSwap.action.doingAct"):Q.approveActionTitle},{status:ke[Q.swapActionState||"default"],title:["error","failed"].includes(Q.swapActionState)?Q.swapActionError:"pending"===Q.swapActionState?i.a.get("sunSwap.action.doingAct"):Q.swapActionTitle}],successFromValue:Q.successFromValue,successToValue:Q.successToValue,footer:null,children:Object(u.jsxs)("div",{style:{marginTop:30},children:[Q.swapErrorInfo&&Object(u.jsxs)("div",{className:"home-swap-error-text",children:[Object(u.jsx)("span",{className:fe.error_icon,children:"!"}),Q.swapErrorInfo]}),"line"===Q.actionState&&Object(u.jsx)(be.a,{block:!0,onClick:_e,size:U?"middle":"large",disabled:Q.actionDisabled,children:Q.actionInfo}),"info"===Q.actionState&&Object(u.jsx)(be.a,{onClick:ue,size:U?"middle":"large",disabled:Q.swapPopBtnDisabled,type:void 0,block:!0,children:Q.swapPopBtn}),"success"===Q.actionState&&Object(u.jsx)(be.a,{onClick:pe,size:U?"middle":"large",block:!0,type:void 0,children:i.a.get("action.closeBtn")})]})}),Object(u.jsx)(Ae.a,{visible:M,confirm:xe,cancel:we})]})})};var Se=e=>{const t=Object(_.d)((()=>x.default.network)),a=Object(_.d)((()=>x.default.themeStore)),{status:n}=e;return Object(u.jsx)(_.a,{children:()=>Object(u.jsx)(u.Fragment,{children:n===p.b.excused?Object(u.jsx)(Ne,{useeAddress:t.defaultAccount}):Object(u.jsx)(G,{theme:a.theme})})})},De=a(1428),Ce=(a.p,a.p,a(2069),a(119)),Fe=a(1308);a(970);t.default=Object(Ce.c)((()=>{const[e,t]=Object(n.useState)(!1),[a,s]=Object(n.useState)(1),[c,r]=Object(n.useState)(0),[p,d]=Object(n.useState)(!1),[b,m]=Object(n.useState)(!1),v=()=>{},h=()=>{},O=(window.localStorage.getItem("lang")||i.a.options.currentLocale,Object(_.d)((()=>x.default.network))),A=Object(_.d)((()=>x.default.system)),{initTokenB:f}=Oe(),w=Object(Fe.a)(O.defaultAccount,c),T=Object(Fe.c)(O.defaultAccount,f),k=Object(Fe.d)(w);console.log(w);const N=()=>{t(!1)},S=e=>{s(e),t(!0)},D=Object(n.useRef)(null),C=Object(n.useRef)(null);Object(n.useEffect)((()=>()=>{clearInterval(D.current),clearTimeout(C.current)}),[D,C]);const F=async e=>{var n;const s=null===T||void 0===T||null===(n=T.integerValue(j.a.ROUND_DOWN))||void 0===n?void 0:n.times(e/100);m(!0);try{const e={title:"actions.vote_for_gauge_weights",obj:{percent:"".concat(Object(j.u)(s.integerValue(j.a.ROUND_DOWN),{dp:0})),pool:"SUN/HTX"}},n=await Object(me.i)(A,s,1===a,e);t(!1),clearInterval(D.current),clearTimeout(C.current),n&&(D.current=setInterval((()=>{r((e=>e+1))}),3e3),C.current=setTimeout((()=>{clearInterval(D.current)}),15e3),d(!1))}catch(c){console.log("onVoteSubmit",c)}m(!1)};return Object(u.jsx)(_.a,{children:()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{routeName:"home",instantActions:v,mountedActions:h}),Object(u.jsxs)("div",{className:"htx-home-page",children:[Object(u.jsx)("div",{className:"page-htx-title",children:Object(u.jsx)(o.a,{title:i.a.get("htx.page.title"),subTitle:i.a.get("htx.page.title_des")})}),Object(u.jsx)(Se,{status:k}),Object(u.jsxs)("div",{className:"page-htx-vote",children:[Object(u.jsx)("div",{className:"vote-title",children:Object(u.jsx)("div",{className:"vote-title-l",children:i.a.getHTML("htx.page.vote.title")})}),Object(u.jsxs)("div",{className:"vote-title-sub",children:[Object(u.jsx)("span",{children:"UTC+8 SGT "}),w.voteStartTime?y.a.utc(+w.voteStartTime.toString()).utcOffset(480).format("YYYY/MM/DD HH:mm"):"-",Object(u.jsx)("span",{children:" - "}),w.voteEndTime?y.a.utc(+w.voteEndTime.toString()).utcOffset(480).format("YYYY/MM/DD HH:mm"):"-"]}),Object(u.jsx)(g,{isConnected:O.isConnected,balance:T,power:T,status:k}),Object(u.jsx)("div",{className:"page-htx-proposal-desc",children:i.a.get("htx.page.vote.proposalDesc")}),Object(u.jsx)(H,{voteInfo:w,reVote:p,setReVote:d,handleVote:S,sunBalance:T,voteStatus:k})]}),Object(u.jsx)(De.a,{visible:e,voteType:a,onCancel:N,onVoteSubmit:F,sunBalance:T,confirmLoading:b,voteSymbol:i.a.get("htx.page.vote.powerTitle2")})]})]})})}))},974:function(e,t,a){"use strict";var n=a(1),s=a(17),c=a.n(s),i=a(977),l=a(4);const o=e=>{const{title:t,subTitle:a,isRevert:n}=e,s="string"===typeof t;return Object(l.jsxs)("div",{className:i.page_title_wrap,children:[n&&a&&Object(l.jsx)("div",{className:i.page_title_sub,children:a}),t&&Object(l.jsx)("div",{className:c()({[i.page_title]:!0,[i.page_title_revert]:n,[i.page_title_ele]:!s}),children:s?t.split("").map(((e,t)=>Object(l.jsx)("span",{className:i.page_title_ele,children:e},t))):t}),a&&!n&&Object(l.jsx)("div",{className:i.page_title_sub,children:a})]})};t.a=Object(n.memo)(o)},977:function(e,t,a){e.exports={"page-head":"style_page-head__1_76J",link:"style_link__JVBBX","gradient-title":"style_gradient-title__14115",animateTitle:"style_animateTitle__1W1A5","dim-content":"style_dim-content__1MZ32",uppercase:"style_uppercase__2R_0z","window-for-tabs-pane":"style_window-for-tabs-pane__3S1zF","dark-btn":"style_dark-btn__VnSQD","purple-btn":"style_purple-btn__3Ez4v","cur-input":"style_cur-input__1VPh5","max-btn":"style_max-btn__2ujF3",page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}}}]);