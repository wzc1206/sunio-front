/*! For license information please see 24.5f04b394.chunk.js.LICENSE.txt */
(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[24,9],{1013:function(e,t,a){"use strict";var c=a(1),s=a(54),l=a(2219),n=a(17),i=a.n(n),o=a(1031),r=a.n(o),d=a(109),j=a(74),m=a(11),b=a.n(m),p=a(3);const u=e=>{const{showMax:t,onMaxClick:a,className:c,themes:n,...o}=e,m=Object(d.useCurrentThemeConfig)();return Object(p.jsx)(s.a,{theme:{token:{colorBgContainer:m["color-input-bg"],colorBorder:"transparent",colorPrimaryHover:m["color-a"],colorText:m["color-text-default"],controlOutline:"none",colorIcon:m["color-text-default"],colorFillAlter:m["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:m["color-text-default"],colorBgContainerDisabled:Object(j.a)(m["color-input-bg"],.5),colorTextDisabled:Object(j.a)(m["color-text-default"],.5),colorTextPlaceholder:m["color-text-default-3"],...n}},children:Object(p.jsx)(l.a,{className:i()("pure-comp",c),size:"large",suffix:t?Object(p.jsx)("span",{className:r.a.max_btn,onClick:()=>a&&a(),children:b.a.get("swap.input_from_max")}):null,...o})})};t.a=Object(c.memo)(u)},1031:function(e,t,a){e.exports={"page-head":"style_page-head__3Df8R",link:"style_link__13CUf","gradient-title":"style_gradient-title__2a8zy",animateTitle:"style_animateTitle__3AmLh","dim-content":"style_dim-content__33wh4",uppercase:"style_uppercase__3nmXo","window-for-tabs-pane":"style_window-for-tabs-pane__19SGv","dark-btn":"style_dark-btn__3l8ji","purple-btn":"style_purple-btn__37XNP","cur-input":"style_cur-input__3Kzlm","max-btn":"style_max-btn__WydB3",max_btn:"style_max_btn__29JsD"}},1049:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var c=a(1),s=a(54),l=a(2218),n=a(17),i=a.n(n),o=a(109),r=a(1050),d=a.n(r),j=a(3);const m=e=>{const t=Object(o.useCurrentThemeConfig)(),{children:a,themes:c,...n}=e;return Object(j.jsx)(s.a,{theme:{token:{colorBgContainer:t["color-input-bg"],colorBorder:t["color-button-bordered"],colorPrimaryHover:t["color-button-bordered-text"],colorText:t["color-text-default"],controlOutline:"none",colorIcon:t["color-text-default"],colorFillAlter:t["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:t["color-text-default"],colorBgElevated:t["color-input-bg"],controlItemBgActive:t["color-select-active"],controlItemBgHover:t["color-text-default-06"],colorTextQuaternary:t["color-text-default"],colorBgContainerDisabled:t["color-text-default-06"],colorTextDisabled:t["color-button-bordered-text"],colorTextPlaceholder:t["color-text-default-5"],...c}},children:Object(j.jsx)(l.a,{size:"large",className:i()("pure-comp",d.a.common_select),popupClassName:i()("pure-comp",d.a.common_select_pop),...n,children:a})})},b=l.a.Option;t.b=Object(c.memo)(m)},1050:function(e,t,a){e.exports={common_select_pop:"style_common_select_pop__1Gvf-",common_select:"style_common_select__16Itm"}},1062:function(e,t,a){"use strict";var c=a(65),s=a.n(c),l=a(1071),n=a.n(l),i=a(1110),o=a.n(i),r=a(1111),d=a.n(r);s.a.extend(n.a),s.a.extend(o.a),s.a.extend(d.a),t.a=s.a},1063:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return m}));var c=a(109),s=a(110),l=a(1),n=a(0);const i=(e,t,a)=>"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),o=(e,t,a,c)=>c&&"en"!==c?"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a,"_").concat(c):"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),r=e=>{const{imgMaps:t,currentTheme:a,isMobile:c,imgSuffix:s,rules:n,useWebp:o}=e;return Object(l.useMemo)((()=>{if(!o&&"webp"===s)return"";const e=i(c?"m":"pc",a,s);if(t[e])return e;if(n&&n[e])return n[e]||"";const l=[i("m","light",s),i("m","dark",s),i("pc","light",s),i("pc","dark",s)];let r=[];r=c?"dark"===a?[1,3]:[0,1,2,3]:"dark"===a?[3]:[2,3];let d=r.find((e=>!!t[l[e]]));return void 0===d?"":l[d]}),[c,a,t,s,o,n])},d=e=>{const{imgMaps:t,useWebp:a}=e,l=Object(c.useCurrentTheme)(),n=Object(s.default)(s.isMobileOnlyMedia),i=r({imgMaps:t,currentTheme:l,isMobile:n,imgSuffix:"webp",useWebp:a}),o=r({imgMaps:t,currentTheme:l,isMobile:n,imgSuffix:"png"});return{webp:i&&t[i]?t[i]:"",png:o&&t[o]?t[o]:""}},j=e=>{var t;const{imgMaps:a}=e,l=Object(c.useCurrentTheme)(),i=window.localStorage.getItem("lang"),r=(null===(t=n.V[i||"en-US"])||void 0===t?void 0:t.k)||"en",d=Object(s.default)(s.isMobileOnlyMedia),j=o(d?"m":"pc",l,"webp",r),m=o(d?"m":"pc",l,"png",r);return{webp:j&&a[j]?a[j]:"",png:m&&a[m]?a[m]:""}},m=e=>{var t;const a=window.localStorage.getItem("lang"),i=(null===(t=n.V[a||"en-US"])||void 0===t?void 0:t.k)||"en",o=Object(s.default)(s.isMobileOnlyMedia)?"m":"pc",r=Object(c.useCurrentTheme)();return Object(l.useMemo)((()=>{let t="",a="";return e.forEach((e=>{let[c,s,l,n,d]=e;s.split("|").includes(o)&&l.split("|").includes(r)&&n.split("|").includes(i)&&("webp"===d&&(t=c),"png"===d&&(a=c))})),{png:a,webp:t}}),[e,o,r,i])}},1072:function(e,t,a){"use strict";t.a=a.p+"static/media/tooltipIcon.4bfb19ca.svg"},1096:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var c=a(1),s=a(109),l=a(110),n=a(1063),i=a(3);const o=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"webp";try{var l;return e?null===(l=e("./".concat(t).concat(a?"_m":"").concat(c?"":"_light",".").concat(s)))||void 0===l?void 0:l.default:""}catch(n){return""}},r=["pc","m"],d=["dark","light"],j=["webp","png"],m=(e,t,a)=>"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),b=e=>{const{src:t,pictureStyle:a,className:b,useWebp:p=!1,imgContext:u,imgName:O,rules:x,...f}=e,h=Object(s.useCurrentTheme)(),_=Object(l.default)(l.isMobileOnlyMedia),[g,k]=(null===O||void 0===O?void 0:O.split("."))||[],y=Object(c.useMemo)((()=>{const e={m_light_png:"",m_light_webp:"",m_png:"",m_webp:"",pc_light_png:"",pc_light_webp:"",pc_png:"",pc_webp:""};for(const t of r)for(const a of d)for(const c of j)e[m(t,a,c)]=o(u,g,"m"===t,"dark"===a,"webp"===c?"webp":k);return e}),[g,u,k]),w=Object(n.d)({imgMaps:y,currentTheme:h,isMobile:_,imgSuffix:"webp",useWebp:p,rules:x}),v=Object(n.d)({imgMaps:y,currentTheme:h,isMobile:_,imgSuffix:"png",rules:x});return Object(i.jsxs)("picture",{"data-img-id":"sun-img",className:b,style:a,children:[Object(i.jsx)("source",{"data-render-key":w,type:"image/webp",srcSet:w?y[w]:""}),Object(i.jsx)("img",{"data-render-key":v,src:v?y[v]:t,alt:"",...f})]})},p=Object(c.memo)((e=>{const{className:t,webpSrc:a,src:c,renderChildren:s,...l}=e;return Object(i.jsxs)("picture",{"data-img-id":"sun-img-webp",className:t,children:[Object(i.jsx)("source",{type:"image/webp",srcSet:a}),Object(i.jsx)("img",{src:c,alt:"",...l}),s]})}));t.b=Object(c.memo)(b)},1112:function(e,t,a){"use strict";var c=a(1),s=a(54),l=a(206),n=a(1328),i=a(109),o=a(74),r=a(3);const d=.5,j=.7,m={controlHeight:30,controlHeightLG:35,controlHeightSM:25},b={contentFontSize:14,contentFontSizeLG:14,contentFontSizeSM:12},p=e=>{const{type:t="primary",disabled:a,onClick:c,text:p,btnClsName:u="",size:O="middle",...x}=e,f=Object(i.useCurrentThemeConfig)();return Object(r.jsxs)(r.Fragment,{children:["primary"===t&&Object(r.jsx)(s.a,{theme:{token:{colorText:f["color-button-primary-text"],colorBgContainer:f["color-button-primary"],colorPrimary:f["color-button-primary-text"],colorPrimaryHover:Object(o.a)(f["color-button-primary-text"],j),colorBgContainerDisabled:Object(o.a)(f["color-button-primary"],d),colorTextDisabled:Object(o.a)(f["color-button-primary-text"],d),defaultShadow:"none",fontFamily:"PingFangSC-Semibold, PingFang SC;"},components:{Button:{...m,...b}}},children:Object(r.jsx)(l.a,{size:O,style:{border:"none",opacity:1,...x.style},disabled:a,className:n.farm_btn+" pure-comp "+u,onClick:e=>c&&c(e),...x,children:p})}),"default"===t&&Object(r.jsx)(s.a,{theme:{token:{colorText:f["color-button-default-text"],colorBgContainer:f["color-button-default"],colorPrimary:f["color-button-default-text"],colorPrimaryHover:Object(o.a)(f["color-button-default-text"],j),colorBgContainerDisabled:Object(o.a)(f["color-button-default"],d),colorTextDisabled:Object(o.a)(f["color-button-default-text"],d)},components:{Button:{...m,...b}}},children:Object(r.jsx)(l.a,{size:O,disabled:a,className:n.farm_btn+" pure-comp "+u,onClick:e=>c&&c(e),...x,style:{border:"none",...x.style},children:p})}),"border"===t&&Object(r.jsx)(s.a,{theme:{token:{colorText:f["color-button-bordered-text"],colorBgContainer:f["color-button-bordered"],colorBorder:f["color-button-bordered-text"],borderColorDisabled:Object(o.a)(f["color-button-bordered-text"],d),colorPrimaryHover:Object(o.a)(f["color-button-bordered-text"],j),colorBgContainerDisabled:f["color-button-bordered"],colorTextDisabled:Object(o.a)(f["color-button-bordered-text"],d),colorPrimary:f["color-button-bordered-text"],colorPrimaryActive:f["color-button-bordered-text"],lineWidth:1},components:{Button:{...m,...b,fontWeight:600}}},children:Object(r.jsx)(l.a,{size:O,disabled:a,className:n.farm_btn+" pure-comp "+u,onClick:e=>c&&c(e),...x,children:p})}),"link"===t&&Object(r.jsx)(s.a,{theme:{token:{defaultShadow:"none",colorText:f["color-button-link-text"],colorBgContainer:f["color-button-link"],colorPrimary:f["color-button-link-text"],colorPrimaryHover:Object(o.a)(f["color-button-link-text"],j),colorTextDisabled:Object(o.a)(f["color-button-link-text"],d)},components:{Button:{...m,...b,fontWeight:600}}},children:Object(r.jsx)(l.a,{size:O,disabled:a,onClick:e=>c&&c(e),className:n.farm_btn+" pure-comp "+u,type:"text",...x,children:p})})]})};t.a=Object(c.memo)(p)},1123:function(e,t,a){},1137:function(e,t,a){"use strict";var c=a(17),s=a.n(c),l=a(1327),n=a(3);t.a=e=>{const{children:t,className:a,center:c=!0,column:i,noCargBg:o,...r}=e;return Object(n.jsx)("div",{className:s()({[l.farm_card]:!0,[l.farm_card_nobg]:o,[a]:!0}),style:{alignItems:c?"center":"flexStart",flexDirection:i?"column":""},...r,children:t})}},1138:function(e,t,a){"use strict";var c=a(21),s=a(3);t.a=e=>{const t=e.stakeData;return Object(s.jsx)("span",{style:{whiteSpace:"nowrap"},children:(e=>{if(c.f[e.id]){const t=c.f[e.id];return Array.isArray(t)?t.map((e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("img",{className:"pool2-img farm_logo",src:e,alt:""})}))):Object(s.jsx)("img",{className:"pool2-img farm_logo",src:t,alt:e.id})}Object(c.g)("default")})(t)})}},1147:function(e,t,a){"use strict";var c=a(1),s=a(81),l=a(2219),n=a(11),i=a.n(n),o=a(120),r=a(87),d=a(5),j=a(0),m=a(6),b=(a(982),a(155)),p=a(3);var u=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.system)),n=Object(s.d)((()=>r.default.pool)),{modalShow:o,closeModal:u,poolId:O,stakeVersion:x}=t;let f=n["stakeData"+x];const{balance:h,symbol:_,allowance:g,token:k,index:y,precision:w,id:v,tokenAddress:N,tokenAddress2:S,decimal:D,currentSpeed:C,stakedBalanceNew:T,version:L}=f[O],[M,A]=Object(c.useState)(""),[P,I]=Object(c.useState)(0),[H,Y]=Object(c.useState)(""),[F,B]=Object(c.useState)(!1),E=window.localStorage.getItem("lang");let R=!1;const{tokens:U}=d.default;Object(c.useEffect)((()=>{F&&Z()}),[M,F]),Object(c.useEffect)((()=>{W()}),[M]);const Z=()=>!M||Object(j.ib)(M).lte(0)?(Y(i.a.get("error.e1")),!1):Object(j.ib)(M).gt(h)?(Y(i.a.get("error.e2",{token:_})),!1):(Y(""),!0),V=()=>{!F&&B(!0),A(Object(j.c)(h))},z=async()=>{if(!F&&B(!0),Z())try{if(g.lt(Object(j.ib)(M))&&!R){const e={action:"approve",title:"deposit.approve_token",obj:{value:"USDCOLD Old LP"===_&&"zh-CN"===E?"Old USDCOLD LP":_},continuous:!0};await a.toApproveLP(k,"3"===x?U[v].lpStaker:"1"===x?d.default.lpStablePool:d.default.lpStablePool2,e)&&(R=!0,q())}else q()}catch(e){}},q=async()=>{if(Z())try{const t={title:"actions.stake_lp",obj:{value:Object(j.u)(Object(j.ib)(M)),symbol:"USDCOLD Old LP"===_&&"zh-CN"===E?"Old USDCOLD LP":_}};let c="";c="3"===x?await a.depositLPNew(U[v].lpStaker,Object(j.ib)(M).times(w)._toIntegerDown()._toHex(),t,[["pool/getStakeData"]]):await a.depositLP("1"===x?d.default.lpStablePool:d.default.lpStablePool2,y-1,Object(j.ib)(M).times(w)._toIntegerDown()._toHex(),t,[["pool/getStakeData"]]),c&&(u(),setTimeout((()=>{e.cb()}),5e3))}catch(t){console.log(t)}},W=async()=>{try{j.a.config({DECIMAL_PLACES:30});const{votingBalance:e,votingTotal:a,workingBalance:c,workingSupply:s,gaugeBalance:l,gaugeTotalsupply:n,success:i}=await Object(m.Q)(U[O].lpStaker,t.defaultAccount,w);if(i){const t=Object(j.a)(.4),i=Object(j.a)(.6);let o=Object(j.ib)(M).isNaN()?Object(j.a)(0):Object(j.ib)(M),r=l.plus(o),d=Object(j.a)(n).plus(r),m=Object(j.a)(a),b=r.times(t);b=b.plus(d.times(e).div(m).times(i)),b=Object(j.a)(Math.min(r,b));let p=r.times(t),u=s.plus(p).minus(c),O=s.plus(b).minus(c),x=b.div(O),f=p.div(u),h=x.div(f).isNaN()?Object(j.a)(0):x.div(f);I(h)}}catch(e){console.log(e)}};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"AddLiqModal"===o,title:i.a.getHTML("newStake.liquidity.stake_token",{symbol:"USDCOLD Old LP"===_&&"zh-CN"===E?"Old USDCOLD LP":_}),width:430,zIndex:999,footer:null,className:"farm-modal stake-token-modal",onCancel:u,titleLeft:!0,children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"stake-balance mb-10",children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.deposit")}),Object(p.jsxs)("span",{children:[Object(p.jsxs)("span",{children:[i.a.get("newStake.stake_pool.balance"),":"]})," ",2===f[O].version?Object(j.a)(h).eq(0)?"0.00":Object(j.u)(h,{dp:18,cutZero:2}):Object(j.u)(h)]})]}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)(l.a,{className:"farm-modal-input",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:V,children:i.a.get("deposit.max")}),value:M,onChange:e=>(e=>{!F&&B(!0);const{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""),D);t&&A(Object(j.c)(a))})(e.target.value)}),H&&Object(p.jsx)("div",{className:"common-error",children:H})]}),"3"===x&&Object(p.jsxs)("div",{className:"lc-info mt-24",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("stakes.current_speed")}),Object(p.jsx)("span",{children:Object(j.a)(T).gt(0)?Object(j.a)(C)._toFixed(2):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{children:[" ",i.a.get("stakes.deposited_speed")]}),Object(p.jsx)("span",{children:Object(j.a)(P)._toFixed(2)})]})]}),Object(p.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(p.jsx)("span",{}),Object(j.J)({id:v,symbol:_,tokenAddress:N,tokenAddress2:S,lang:E,version:L})]}),Object(p.jsx)("button",{disabled:!!H,className:"common-btn mt-20",onClick:z,children:i.a.get("newStake.stake_pool.deposit")})]})})})};var O=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.system)),n=Object(s.d)((()=>r.default.pool)),{modalShow:o,closeModal:m,poolId:u,stakeVersion:O}=t;let x=n["stakeData"+O];const{symbol:f,index:h,precision:_,stakedBalance:g,stakedBalanceNew:k,id:y,tokenAddress:w,tokenAddress2:v,decimal:N,version:S}=x[u],[D,C]=Object(c.useState)(""),[T,L]=Object(c.useState)(""),[M,A]=Object(c.useState)(!1),[P,I]=Object(c.useState)("3"===O?k:g),H=window.localStorage.getItem("lang");Object(c.useEffect)((()=>{M&&Y()}),[D,M]);const Y=()=>!D||Object(j.ib)(D).lte(0)?(L(i.a.get("error.e1")),!1):Object(j.ib)(D).gt(P)?(L(i.a.get("error.e2",{token:f})),!1):(L(""),!0),F=e=>{!M&&A(!0);const{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""),N);t&&C(Object(j.c)(a))},B=()=>{!M&&A(!0),F(P)},E=async()=>{if(!M&&A(!0),Y()&&Object(j.ib)(D).gt(0)){const t={title:"actions.withdraw_lp",obj:{value:Object(j.u)(Object(j.ib)(D)),symbol:"USDCOLD Old LP"===f&&"zh-CN"===H?"Old USDCOLD LP":f}};let c="";c="3"===O?await a.withdrawLPNew(d.default.tokens[y].lpStaker,Object(j.ib)(D).times(_)._toHex(),t):await a.withdrawLP("1"===O?d.default.lpStablePool:d.default.lpStablePool2,h-1,Object(j.ib)(D).times(_)._toHex(),t),c&&(m(),setTimeout((()=>{e.cb()}),5e3))}};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"RemoveLiqModal"===o,title:i.a.getHTML("newStake.liquidity.stake_token_cancel",{symbol:"USDCOLD Old LP"===f&&"zh-CN"===H?"Old USDCOLD LP":f}),width:430,zIndex:999,footer:null,className:"farm-modal stake-token-modal",onCancel:m,titleLeft:!0,children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"stake-balance mb-10",children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.withdraw")}),Object(p.jsxs)("span",{children:[Object(p.jsxs)("span",{children:[i.a.get("newStake.liquidity.staked"),": "]}),2===x[u].version?Object(j.a)(P).eq(0)?"0.00":Object(j.u)(P,{dp:18,cutZero:2}):Object(j.u)(P)]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(l.a,{className:"farm-modal-input",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:B,children:i.a.get("deposit.max")}),value:D,onChange:e=>F(e.target.value)}),T&&Object(p.jsx)("div",{className:"common-error",children:T})]}),Object(p.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(p.jsx)("span",{}),Object(j.J)({id:y,symbol:f,tokenAddress:w,tokenAddress2:v,lang:H,version:S})]}),Object(p.jsx)("button",{disabled:!!T,className:"common-btn mt-20",onClick:E,children:i.a.get("newStake.stake_pool.withdraw")})]})})})},x=a(65),f=a.n(x),h=a(2253),_=a(318),g=a(224),k=a(54),y=a(2248),w=a(109);var v=e=>{const{className:t,...a}=e,c=Object(w.useCurrentThemeConfig)();return Object(p.jsx)(k.a,{theme:{components:{DatePicker:{colorBgContainer:c["color-large-range-card-bg"],colorBgContainerDisabled:c["color-large-range-card-bg"],colorBgElevated:c["color-large-range-card-bg"],colorText:c["color-text-default"],colorTextDisabled:c["color-text-default-3"],colorTextHeading:c["color-text-default"],colorIcon:c["color-text-default"],colorIconHover:c["color-primary"],colorTextPlaceholder:c["color-text-default-3"],colorTextQuaternary:c["color-text-default-3"],colorPrimary:c["color-primary"],colorBorder:"none",controlOutline:"none",colorSplit:c["color-text-default-3"],colorLink:c["color-a"],colorLinkActive:c["color-a"],colorLinkHover:c["color-a-hover"]}}},children:Object(p.jsx)(y.a,{className:t,...a})})};const{TabPane:N}=h.a;var S=e=>{var t;Object(o.a)(window.navigator).any;const a=Object(s.d)((()=>r.default.network)),n=Object(s.d)((()=>r.default.system)),u=Object(s.d)((()=>r.default.pool)),{modalShow:O,closeModal:x,setData:k,stakeVersion:y}=a,{stakePoolData1:w,stakePoolData2:S,getVoteInfo:D}=u;let C=u["stakePoolData"+y];const{totalStaked:T,totalLocked:L,balance:M,lockData:A}=C,{tokens:P,defaultId:I,date:H}=d.default,[Y,F]=Object(c.useState)(a.defaultTabValue),[B,E]=Object(c.useState)(""),[R,U]=Object(c.useState)(""),[Z,V]=Object(c.useState)(""),[z,q]=Object(c.useState)(f()()),[W,K]=Object(c.useState)(""),[G,Q]=Object(c.useState)(""),[X,J]=Object(c.useState)(f()()),[$,ee]=Object(c.useState)(f()().add(H.four_year,"days")),[te,ae]=Object(c.useState)("--"),[ce,se]=Object(c.useState)("--"),[le,ne]=Object(c.useState)(!1),[ie,oe]=Object(c.useState)(!1),[re,de]=Object(c.useState)(!1),[je,me]=Object(c.useState)(!1),[be,pe]=Object(c.useState)(!1);let ue=!1;const{disableDeposit:Oe,notAllow:xe}=u,fe="0"===(null===a||void 0===a||null===(t=a.stakeSunAmount)||void 0===t?void 0:t._toFixed())&&xe;Object(c.useEffect)((async()=>{"2"===y&&!C.isNeedRender&&he()}),[C]);const he=async()=>{try{const{lockData:e}=C;e.lastLockTimeStamp&&(C.isNeedRender=!0);let t=!1;e.lastLockTimeStamp&&Object(j.a)(e.lastLockTimeStamp).eq(0)&&(t=!0),ne(t),_e(t,f()(1e3*Object(j.a)(e.lastLockTimeStamp)))}catch(e){console.log("getLockData error: "+e)}},_e=(e,t)=>{try{if(e)q(f()().add(H.six_month,"days")),J(f()().add(H.six_month,"days")),ee(f()().add(H.four_year,"days"));else{const e=604800*parseInt((new Date).getTime()/1e3/604800);f()(t).diff(f()(1e3*e).add(H.six_month,"days"),"days")<=0?(q(f()(1e3*e).add(H.six_month,"days")),J(f()(1e3*e).add(H.six_month,"days")),ee(f()(1e3*e).add(H.four_year,"days"))):(q(t),J(t),ee(f()().add(H.four_year,"days")))}}catch(a){console.log("getLockDateRange error: "+a)}},ge=()=>{let e=u["stakePoolData"+y];const{stakeApy:t}=e;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"lock-desc-title",children:i.a.get("newStake.stake_pool.lock_desc")}),Object(p.jsxs)("div",{className:"lc-info lc-info-important",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(p.jsxs)("span",{className:"opa-5",children:[i.a.get("stake.apy")," "]}),Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.lock_apy_tip",{per1:t.unlocked&&"-"!==t.unlocked&&Object(j.a)(t.unlocked).gte(0)?"".concat(Object(j.t)(Object(j.a)(t.unlocked)),"%"):"--",symbol1:"TUSD",per2:t.locked&&"-"!==t.locked&&Object(j.a)(t.locked).gte(0)?"".concat(Object(j.t)(Object(j.a)(t.locked)),"%"):"--",symbol2:"SUN"}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{className:"ml-4"})})]}),Object(p.jsx)("span",{children:t.unlocked&&"-"!==t.unlocked&&Object(j.a)(t.unlocked).gte(0)&&t.locked&&"-"!==t.locked&&Object(j.a)(t.locked).gte(0)?"".concat(Object(j.t)(Object(j.a)(t.unlocked).plus(Object(j.a)(t.locked))),"%"):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"opa-5",children:i.a.get("newStake.stake_pool.lock_total")}),Object(p.jsxs)("span",{children:[Object(j.u)(Object(j.a)(L).div(P[I].precision))," ",I.toUpperCase()]})]})]}),Object(p.jsxs)("p",{className:"flex jcsb mt-30 mb-0",children:[Object(p.jsx)("span",{className:"lock-desc-title",children:i.a.getHTML("newStake.stake_pool.lock_sun",{symbol:I.toUpperCase()})}),Object(p.jsxs)("span",{className:"lock-balance",children:[Object(p.jsxs)("span",{className:"op-5",children:[i.a.get("newStake.stake_pool.balance"),":"]})," ",M&&Object(j.u)(M.balance)]})]})]})},ke=()=>{const{lockData:e}=C,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(f()().format("X")).gt(e.lastLockTimeStamp);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"flex jcsb aic mt-16",children:[Object(p.jsx)("span",{className:"lock-sub-title",children:i.a.get("newStake.stake_pool.choose_lock_date")}),Object(p.jsx)("span",{children:z&&Object(p.jsx)(v,{className:re?"active":"",disabledDate:Ce,onChange:Se,value:z,allowClear:!1,disabled:t})})]}),Object(p.jsx)("div",{className:"lc-date mt-16",children:Object.keys(H).map((e=>f()(X).diff(f()(),"days")<H[e]&&Object(p.jsx)("span",{onClick:t=>De(e),className:Z!==e||re?"":"current",children:i.a.get("newStake.stake_pool.".concat(e))},e)))}),Object(j.a)(e.unlockable).gt(0)?Object(p.jsx)("p",{className:"lock-desc-title2 mt-20",children:i.a.get("newStake.stake_pool.date_expired")}):Object(p.jsx)("p",{className:"lock-desc-title2 mt-20",children:i.a.getHTML("newStake.stake_pool.date_desc",{start:X.format("YYYY-MM-DD"),end:$.format("YYYY-MM-DD"),symbol:I.toUpperCase()})}),Object(p.jsxs)("div",{className:"lc-info mt-30",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.lock_vote")}),Object(p.jsx)("span",{children:Object(j.a)(ce).gte(0)?Object(j.u)(ce):"0.00"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.current_vote")}),Object(p.jsx)("span",{children:Object(j.a)(te).gte(0)?Object(j.u)(te):"0.00"})]})]})]})},ye=e=>{!je&&me(!0);const{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""),P[I].decimal);t&&E(Object(j.c)(a))},we=()=>{!je&&me(!0);try{ye(M.balance)}catch(e){console.log("setLockMax error: "+e)}},ve=()=>{let e=u["stakePoolData"+y];const{stakeApy:t}=e;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"lock-desc-title",children:i.a.get("newStake.stake_pool.stake_desc")}),Object(p.jsxs)("div",{className:"lc-info lc-info-important",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{className:"stake-tooltip flex aic",children:[Object(p.jsx)("span",{className:"opa-5",children:i.a.get("stake.apy")}),Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.stake_apy_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{className:"ml-4"})})]}),Object(p.jsx)("span",{children:t.unlocked&&"-"!==t.unlocked&&Object(j.a)(t.unlocked).gte(0)?"".concat(Object(j.t)(t.unlocked),"%"):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"opa-5",children:i.a.get("newStake.stake_pool.stake_total")}),Object(p.jsxs)("span",{children:[Object(j.u)(Object(j.a)(T).div(Object(j.a)(10).pow(P[I].decimal)))," ",I.toUpperCase()]})]})]}),Object(p.jsxs)("div",{className:"flex jcsb mt-30",children:[Object(p.jsx)("span",{className:"lock-desc-title",children:i.a.getHTML("newStake.stake_pool.stake_sun",{symbol:I.toUpperCase()})}),Object(p.jsxs)("span",{className:"lock-balance",children:[Object(p.jsxs)("span",{className:"op-5",children:[i.a.get("newStake.stake_pool.balance"),":"]})," ",M&&Object(j.u)(M.balance)]})]})]})},Ne=()=>{!be&&pe(!0);try{U(Object(j.c)(M.balance))}catch(e){console.log("setLockMax error: "+e)}},Se=e=>{q(e),de(!0)},De=e=>{V(e),de(!1);const{lockData:t}=C;let a=f()(1e3*Object(j.a)(t.lastLockTimeStamp));if(le)q(f()().add(H[e],"days"));else{const t=604800*parseInt((new Date).getTime()/1e3/604800);f()(a).diff(f()(1e3*t).add(H.six_month,"days"),"days"),q(f()(1e3*t).add(H[e],"days"))}},Ce=e=>e&&(e.diff(f()(X),"hours")<0||e.diff(f()($),"hours")>0),Te=async()=>{if("1"===Y){if(!je&&me(!0),!Pe())return}else if(!be&&pe(!0),!Ie())return;try{const{stakeVersion:e}=a,{balance:t}=u["stakePoolData"+e],c=t.allowance,{symbol:s}=t;let l="1"===Y?B:R;if(c.lt(Object(j.ib)(l))&&!ue){const e={action:"approve",title:"deposit.approve_token",obj:{value:s},continuous:!0};await n.toApproveLP(t.token,"1"===a.stakeVersion?t.stake:t.stake2,e)&&(ue=!0,Le())}else Le()}catch(e){}},Le=async()=>{const{stakeVersion:t}=a;if("2"===t&&"1"===Y&&!le)return void Me();let c="1"===Y?B:R;if(Object(j.ib)(c).gt(0))try{const a={title:"1"===Y?"actions.lock_lp":"actions.stake_lp",obj:{value:Object(j.u)(Object(j.ib)(c)),symbol:M.symbol}};let s="";if("1"===t)s=await n.stakeSSP(Object(j.ib)(c).times(M.precision)._toIntegerDown()._toHex(),"1"===Y,a);else if("2"===t){let e="1"===Y?new Date(f()(z).format("YYYY-MM-DD")).getTime()/1e3:0;s=await n.stakeSSP2(Object(j.ib)(c).times(M.precision)._toIntegerDown()._toHex(),"1"===Y,Object(j.a)(e)._toHex(),a)}s&&(Ye(),setTimeout((()=>{e.cb()}),5e3))}catch(s){console.log(s)}},Me=async()=>{try{const{lockData:t}=C;let a=Object(j.ib)(B||0),c=0===f()(z).diff(f()(1e3*Object(j.a)(t.lastLockTimeStamp)),"days")?0:parseInt(new Date(f()(z).format("YYYY-MM-DD")).getTime()/1e3);a.eq(0)&&0===c&&K(i.a.get("error.e1"));const s={title:"1"===Y?"actions.lock_lp":"actions.stake_lp",obj:{value:Object(j.u)(a),symbol:M.symbol}};await n.increaseLock(a.eq(0)?0:Object(j.a)(a).times(M.precision)._toIntegerDown()._toHex(),0===c?0:c+86400,s)&&(Ye(),setTimeout((()=>{e.cb()}),5e3))}catch(t){console.log("redeposit error:"+t)}},Ae=e=>{k({defaultTabValue:e}),F(e)};Object(c.useEffect)((()=>{const{lockData:e}=C,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(f()().format("X")).gt(e.lastLockTimeStamp);oe(!!t),je&&Pe()}),[B,y,je,A]);const Pe=()=>{try{const{lockData:e}=C;!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(f()().format("X")).gt(e.lastLockTimeStamp);if("1"===y){if(!B||Object(j.ib)(B).lte(0))return K(i.a.get("error.e1")),!1}else if("2"===y){if(0===f()(z).diff(f()(1e3*Object(j.a)(e.lastLockTimeStamp)),"days")&&!B)return K(i.a.get("error.e1")),!1;if(e.lastLockTimeStamp&&Object(j.a)(e.lastLockTimeStamp).eq(0)&&!Object(j.ib)(B).gt(0))return K(i.a.get("error.e1")),!1}return Object(j.ib)(B).gt(M.balance)?(K(i.a.get("error.e2",{token:I.toUpperCase()})),!1):(K(""),!0)}catch(e){}};Object(c.useEffect)((()=>{be&&Ie()}),[R,be]);const Ie=()=>{try{return!R||Object(j.ib)(R).lte(0)?(Q(i.a.get("error.e1")),!1):Object(j.ib)(R).gt(M.balance)?(Q(i.a.get("error.e2",{token:I.toUpperCase()})),!1):(Q(""),!0)}catch(e){}};Object(c.useEffect)((async()=>{f()(z).diff(f()(),"days")>0&&He()}),[B,z,A]);const He=async()=>{try{let e=await D("0x0000000000000000000000".concat(m.ac.tronWeb.address.toHex(a.defaultAccount)));if(e.success){let t=e.value,a=new Date(f()(z)).getTime(),c=Object(j.a)(A.lockData).div(P[I].precision);Object(j.ib)(B).gt(0)&&(c=c.plus(Object(j.ib)(B)));let s=126144e3,l=c.times((a-Date.now())/1e3).div(s);Object(j.a)(l).lte(0)||Object(j.a)(l).minus(t).abs().lte(.01)?se(t):se(l.toFixed(2)),ae(t)}}catch(e){}},Ye=()=>{C.isNeedRender=!1,x()};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"LockStakeModal"===O,width:430,zIndex:999,footer:null,className:"farm-modal lock-sun-modal",maskClosable:!1,onCancel:Ye,titleLeft:!0,children:Object(p.jsxs)(h.a,{activeKey:Y,type:"line",onChange:Ae,children:[Object(p.jsx)(N,{tab:i.a.getHTML("newStake.stake_pool.lock_sun",{symbol:I.toUpperCase()}),children:Object(p.jsxs)("div",{children:[Object(p.jsx)(ge,{}),Object(p.jsx)(l.a,{className:"farm-modal-input",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:we,children:i.a.get("deposit.max")}),value:B,onChange:e=>ye(e.target.value)}),W&&Object(p.jsx)("div",{className:"common-error",children:W}),"2"===a.stakeVersion&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ke,{})}),Object(p.jsx)("div",{className:"flex jcc",children:Object(p.jsx)("button",{disabled:W||ie||Oe,className:"common-btn mt-24",onClick:Te,children:i.a.get("newStake.stake_pool.deposit")})})]})},"1"),Object(p.jsx)(N,{tab:i.a.getHTML("newStake.stake_pool.stake_sun",{symbol:I.toUpperCase()}),children:Object(p.jsxs)("div",{className:"lc-content",children:[Object(p.jsx)(ve,{}),Object(p.jsx)(l.a,{className:"farm-modal-input",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:Ne,children:i.a.get("deposit.max")}),value:R,onChange:e=>(e=>{!be&&pe(!0);const{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""),P[I].decimal);t&&U(Object(j.c)(a))})(e.target.value)}),G&&Object(p.jsx)("div",{className:"common-error",children:G}),Object(p.jsx)("div",{className:"flex jcc",children:Object(p.jsx)("button",{disabled:G||fe,className:"common-btn mt-30",onClick:Te,children:i.a.get("newStake.stake_pool.deposit")})})]})},"2")]})})})};a(503);const D={color:"rgba(255, 255, 255, 1)",background:"rgba(255, 255, 255, 0.1)"};var C=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.system)),l=Object(s.d)((()=>r.default.pool)),{modalShow:n,closeModal:o,setData:m,stakeVersion:u}=t,{tokens:O,defaultId:x}=d.default,[h,k]=Object(c.useState)(l.stakePoolData2),[y,w]=Object(c.useState)({available:"--",amount:"--",penaltyAmount:"--"});Object(c.useEffect)((()=>{let e=l["stakePoolData"+u];w(e.withdrawable)}),[]);const v=async t=>{if("button"!==t.target.tagName.toLowerCase()||-1!=t.target.className.indexOf("disabled"))return;let{claimable:c}=h;c=l["stakePoolData"+u].claimable,k({...l["stakePoolData"+u]});const s={title:"actions.claim_all",obj:{value1:Object(j.u)(Object(j.a)(c[1]).div(O[x].precision)),symbol1:O[x].symbol,value2:Object(j.u)(Object(j.a)(c[3]).div(O.tusd.precision)),symbol2:O.tusd.symbol}};let n="1"===u?"stake":"stake2";await a.getReward(O[x][n],s)&&(m({modalShow:"TopModal"}),setTimeout((()=>{let t=a.withdrawExpiredLocks({title:"newStake.stake_pool.withdraw",obj:{}});t&&(o(),setTimeout((()=>{e.cb()}),5e3)),console.log(t),e.cb()}),d.default.confirmTime))},N=()=>{let e=l["stakePoolData"+u];const{lockData:t}=e,a=Object(j.a)(f()().format("X")).gt(t.lastLockTimeStamp);return Object(p.jsx)(p.Fragment,{children:"1"===u?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"lc-info mt-40",children:Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.lock_expired")}),Object(p.jsx)("span",{children:Object(j.u)(Object(j.a)(t.unlockable).div(O[x].precision))})]})}),Object(p.jsxs)("button",{disabled:Object(j.a)(t.unlockable).lte(0),className:"common-btn mt-20",onClick:v,children:[i.a.get("newStake.stake_pool.withdraw"),Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:(Object(j.a)(t.unlockable).lte(0),Object(p.jsx)(g.a,{className:"ml-4",style:D}))})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"lc-info mt-40",children:Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.lock_expired")}),Object(p.jsx)("span",{children:a?Object(j.u)(Object(j.a)(t.lockData).div(O[x].precision)):"0.00"})]})}),Object(p.jsxs)("button",{disabled:!a||Object(j.a)(t.lockData).lte(0),className:"common-btn mt-30 flex aic jcc",onClick:v,children:[i.a.get("newStake.stake_pool.withdraw"),Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:(!a||Object(j.a)(t.lockData).lte(0),Object(p.jsx)(g.a,{className:"ml-4",style:D}))})]})]})})};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"WithdrawModal"===n,title:x.toUpperCase()+" "+i.a.get("newStake.stake_pool.withdraw"),width:430,zIndex:999,footer:null,className:"farm-modal stake-token-modal",onCancel:o,titleLeft:!0,children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"lc-info",children:Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{children:[i.a.get("newStake.stake_pool.claim_free")," "+x.toUpperCase()," ",Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.claim_free_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{})})]}),Object(p.jsx)("span",{children:Object(j.u)(y.available)})]})}),Object(p.jsx)("button",{disabled:Object(j.a)(y.available).lte(0),className:"common-btn mt-20",onClick:()=>(async t=>{if(Object(j.a)(t).gt(0)){const c={title:"actions.claim_lp",obj:{value:Object(j.u)(t),symbol:x.toUpperCase()}};let s=await a.withdrawSSP(Object(j.a)(t).times(O[x].precision)._toHex(),c);s&&(o(),setTimeout((()=>{e.cb()}),5e3)),console.log(s)}})(Object(j.a)(y.available)),children:i.a.get("newStake.stake_pool.withdraw")}),Object(p.jsxs)("div",{className:"lc-info mt-40",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{children:[i.a.get("newStake.stake_pool.withdraw_all"),Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.withdraw_all_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{className:"ml-4"})})]}),Object(p.jsx)("span",{children:Object(j.u)(y.amount)})]}),Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{children:[i.a.get("newStake.stake_pool.quit_claimed")," "+x.toUpperCase()," "]}),Object(p.jsx)("span",{children:Object(j.u)(y.penaltyAmount)})]})]}),Object(p.jsx)("button",{disabled:Object(j.a)(y.amount).lte(0)&&Object(j.a)(y.penaltyAmount).lte(0),className:"common-btn mt-20",onClick:()=>(async t=>{if(Object(j.a)(t).gt(0)){const c={title:"actions.claim_lp",obj:{value:Object(j.u)(t),symbol:x.toUpperCase()}};let s=await a.exitSSP(c);s&&(o(),setTimeout((()=>{e.cb()}),5e3)),console.log(s)}})(Object(j.a)(y.amount)),children:i.a.get("newStake.stake_pool.claim_withdraw")}),Object(p.jsx)(N,{})]})})})};a(996);var T=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.pool)),{modalShow:l,closeModal:n,stakeVersion:o}=t,{defaultId:u,tokens:O}=d.default,[x,h]=Object(c.useState)("");Object(c.useEffect)((()=>{k()}),[]);const k=()=>{let e=a["stakePoolData"+o].earned.list.map(((e,t)=>(e.key=t,e)));h(e)},y=()=>Object(p.jsxs)("div",{className:"vest-box-content flex",children:[Object(p.jsx)("span",{children:"---"}),Object(p.jsx)("span",{children:"---"}),Object(p.jsx)("span",{children:"---"})]});return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"VestDetailModal"===l,title:Object(p.jsxs)("div",{className:"flex aic jcc",children:[i.a.getHTML("newStake.stake_pool.vested_sun",{symbol:u.toUpperCase()}),Object(p.jsx)(_.a,{title:i.a.get("newStake.rule.rule".concat(o,".a5")),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{className:"ml-4"})})]}),width:430,zIndex:999,footer:null,className:"farm-modal vest-modal",onCancel:n,center:!0,children:Object(p.jsxs)("div",{className:"vest-box",children:[Object(p.jsxs)("div",{className:"vest-box-title flex jcst",children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.amount")}),Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.penalty")}),Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.expiry")})]}),x&&x.length?x.map((e=>{let t=f()(1e3*m.ac.tronWeb.toDecimal(e.time));return Object(p.jsxs)("div",{className:"vest-box-content flex",children:[Object(p.jsx)("span",{children:Object(j.u)(Object(j.a)(e.amount).div(O[u].precision),{miniText:.01})}),Object(p.jsx)("span",{children:Object(j.u)(Object(j.a)(e.amount).div(2*O[u].precision),{miniText:.01})}),Object(p.jsx)("span",{children:Object(j.a)(f()().format("X")).gt(m.ac.tronWeb.toDecimal(e.time))?i.a.get("newStake.stake_pool.expired"):t.format("YYYY-MM-DD")})]})})):Object(p.jsx)(y,{})]})})})};var L=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.pool)),[l,n]=Object(c.useState)([]),{modalShow:o,closeModal:m,stakeVersion:u}=t,{defaultId:O,tokens:x}=d.default;Object(c.useEffect)((async()=>(h(),()=>{n([])})),[]);const h=()=>{const{lockData:e}=a["stakePoolData"+u];let t=[{amount:e.lockData,time:e.lastLockTimeStamp,key:1e3}];"1"===u&&(t=e.list&&e.list.map(((e,t)=>(e.key=t,e))),Object(j.a)(e.unlockable).gt(0)&&t.unshift({amount:e.unlockable,time:1594540800,key:1e4})),n(t)};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"LockDetailModal"===o,title:Object(p.jsxs)("div",{className:"flex aic jcc",children:[i.a.getHTML("newStake.stake_pool.locked_sun",{symbol:O.toUpperCase()}),"1"===u&&Object(p.jsx)(_.a,{title:i.a.get("newStake.rule.rule".concat(u,".a6")),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{className:"ml-4"})})]}),width:430,zIndex:999,footer:null,className:"farm-modal detail-modal",onCancel:m,children:Object(p.jsxs)("div",{className:"detail-modal-box",children:[Object(p.jsxs)("div",{className:"detail-modal-box-header",children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.amount")}),Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.expiry")})]}),l?l.map((e=>Object(p.jsxs)("div",{className:"detail-modal-box-content",children:[Object(p.jsx)("span",{children:Object(j.u)(Object(j.a)(e.amount).div(x[O].precision),{miniText:.01})}),Object(p.jsx)("span",{children:Object(j.a)(f()().format("X")).gt(e.time)?i.a.get("newStake.stake_pool.expired"):f()(1e3*e.time).format("YYYY-MM-DD")})]}))):Object(p.jsxs)("div",{className:"detail-modal-box-content",children:[Object(p.jsx)("span",{children:"-"}),Object(p.jsx)("span",{children:"-"})]})]})})})},M=a(2218),A=a(43),P=a(95),I=a(29),H=a(1049),Y=a(21);const{Option:F}=M.a,{tokens:B,stakeKeys3:E,defaultVotePrecision:R,voteKeys:U}=d.default,{farmPoolKeys:Z,farmPools:V,flexibleKeys:z}=A.a,q="lp",W="veSun",K=Object(j.a)(.4),G=Object(j.a)(.6);var Q=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.pool)),{modalShow:n,closeModal:o,poolId:d,isConnected:u,farmType:O}=t,x={...Object(s.d)((()=>"pump"===O?r.default.pumpFarmStore:r.default.farmStore)).farmData,...a.stakeData3},[f,h]=Object(c.useState)(Object(j.a)(0)),[_,g]=Object(c.useState)(Object(j.a)(0)),[k,y]=Object(c.useState)(""),[v,N]=Object(c.useState)(""),[S,D]=Object(c.useState)(!1),[C,T]=Object(c.useState)("--"),[L,M]=Object(c.useState)(Object(j.a)(0)),[A,Q]=Object(c.useState)("--"),[X,J]=Object(c.useState)(Object(j.a)(0)),[$,ee]=Object(c.useState)(Object(j.a)(0)),[te,ae]=Object(c.useState)(Object(j.a)(0)),[ce,se]=Object(c.useState)(Object(j.a)(0)),[le,ne]=Object(c.useState)(d),[ie,oe]=Object(c.useState)("--"),[re,de]=Object(c.useState)("--"),[je,me]=Object(c.useState)("--"),be=Object(w.useCurrentThemeConfig)();Object(c.useEffect)((()=>{S&&fe()}),[_]),Object(c.useEffect)((()=>{S&&xe()}),[f]),Object(c.useEffect)((()=>{u?pe(le)?Ne():ve():(ye(),we())}),[le]),Object(c.useEffect)((()=>{Se()}),[le,f,_]);const pe=e=>Z.includes(e),ue=(e,t,a)=>{""===e&&(e=0);const{valid:c,str:s}=Object(j.Z)((""+e).replace(/,/g,""),t);c&&a(Object(j.c)(s))},Oe=e=>{!S&&D(!0),ne(e)},xe=()=>!f||Object(j.ib)(f).lt(0)?(y(i.a.get("error.e1")),!1):(y(""),!0),fe=()=>!_||Object(j.ib)(_).lt(0)?(N(i.a.get("error.e1")),!1):(N(""),!0),he=()=>{let e=E.map((e=>{let t=B[e].voteSymbol+(U.includes(B[e].voteSymbol)?"\uff08Flexible\uff09":"");return Object(p.jsxs)(F,{value:e,disabled:e===le,children:[Object(p.jsx)("img",{src:Y.f[e],alt:"".concat(e," icon"),style:{height:20,marginRight:10}}),t]},e)}));return[...Z.map((e=>{let t=V[e].id,a=z.includes(t)?"\uff08Flexible\uff09":"\uff08Fixed+Flexible\uff09",c=B[t].voteSymbol+a;return Object(p.jsxs)(F,{value:e,disabled:e===le,children:[Object(p.jsx)("img",{src:Y.f[t],alt:"".concat(t," icon"),style:{height:20,marginRight:10}}),c]},e)})),...e]},_e=e=>Object(p.jsx)("span",{className:"max-btn",onClick:()=>{ge(e)},children:i.a.get("deposit.max")}),ge=e=>{!S&&D(!0),le&&(e===q?ue(X,x[le].decimal,h):ue(L,18,g))},ke=(e,t)=>{!S&&D(!0),le&&(e===q?ue(t,x[le].decimal,h):ue(t,18,g))},ye=()=>{le&&(Q(x[le].totalStakeNew),se(x[le].workingSupply),h(Object(j.a)(0)),g(Object(j.a)(0)))},we=async()=>{try{const e=await Object(I.g)();e.success&&e.data&&T(Object(j.a)(e.data.totalVe).div(R))}catch(e){console.log(e)}},ve=async()=>{if(le)try{const{votingBalance:e,votingTotal:a,workingBalance:c,workingSupply:s,gaugeBalance:l,gaugeTotalsupply:n,success:i}=await Object(m.Q)(pe(le)?V[le].lpStaker:B[le].lpStaker,t.defaultAccount,x[le].precision);i&&(M(e),T(a),ee(l),Q(n),J(x[le].balance),ae(c),se(s),ue(x[le].balance,x[le].decimal,h),ue(e,18,g))}catch(e){console.log(e)}},Ne=async()=>{if(le)try{const{votingBalance:e,votingTotal:a,workingBalance:c,workingSupply:s,gaugeBalance:l,gaugeTotalsupply:n,success:i}=await Object(P.b)(V[le].lpStaker,t.defaultAccount,x[le].precision);i&&(M(e),T(a),ee(l),Q(n),J(x[le].balance),ae(c),se(s),ue(x[le].balance,x[le].decimal,h),ue(e,18,g))}catch(e){console.log(e)}},Se=()=>{try{if(le){let e=1;pe(le)&&(e=Object(j.a)(x[le].multiple).gt(0)?Object(j.a)(x[le].multiple):1);let t=(Object(j.a)($).isNaN()?Object(j.a)(0):Object(j.a)($)).plus(Object(j.ib)(f).times(e)),a=Object(j.ib)(_),c=Object(j.a)(A).plus(Object(j.ib)(f).times(e)),s=Object(j.a)(C),l=s.times(t.div(c));l=l.isNaN()?Object(j.a)(0):l,me(l);let n=De(t,a,c,s);oe(n);let i=De(t,l,c,s);de(i)}}catch(e){console.log(e)}},De=(e,t,a,c)=>{try{j.a.config({DECIMAL_PLACES:30});let s=e.times(K);s=s.plus(a.times(t).div(c).times(G)),s=Object(j.a)(Math.min(e,s));let l=e.times(K),n=ce.plus(l).minus(te),i=ce.plus(s).minus(te),o=s.div(i),r=l.div(n);return o.div(r).isNaN()?Object(j.a)(0):o.div(r)}catch(s){console.log(s)}},Ce=Object(j.a)($).plus(Object(j.ib)(f));return Object(p.jsx)(s.a,{children:()=>{var e;return Object(p.jsxs)(b.a,{open:"CalculatorModal"===n,title:i.a.get("newStake.calculator.boost_calculator"),width:430,zIndex:999,footer:null,className:"farm-modal",onCancel:o,titleLeft:!0,children:[Object(p.jsx)("div",{className:"lock-desc-title",children:i.a.get("newStake.calculator.choose_lp")}),Object(p.jsx)(H.b,{themes:{colorBgContainer:be["color-picker-bg"],colorFillAlter:be["color-picker-bg"],colorBgElevated:be["color-picker-bg"]},style:{width:"100%"},defaultValue:le,placeholder:i.a.get("newStake.calculator.choose_lp"),onChange:Oe,dropdownMatchSelectWidth:!1,placement:"bottomRight",dropdownAlign:{overflow:{adjustY:0}},children:he()}),Object(p.jsxs)("section",{className:"lc-info-box mt-12 mb-30",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.total_lp")}),Object(p.jsx)("span",{children:2===(null===(e=x[le])||void 0===e?void 0:e.version)?Object(j.a)(A).eq(0)?"0.00":Object(j.u)(A,{dp:6,miniText:1e-6,cutZero:2}):Object(j.u)(A)})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.total_ve")}),Object(p.jsx)("span",{children:Object(j.u)(C)})]})]}),Object(p.jsxs)("section",{className:"mb-30",children:[Object(p.jsxs)("div",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"lock-desc-title",children:i.a.get("newStake.calculator.deposit_lp")}),Object(p.jsxs)("span",{className:"lock-balance",children:[Object(p.jsxs)("span",{className:"op-5",children:[i.a.get("newStake.stake_pool.balance"),": "]}),le?2===x[le].version?Object(j.a)(X).eq(0)?"0.00":Object(j.u)(X,{dp:18,cutZero:2}):Object(j.u)(X):"--"]})]}),Object(p.jsx)(l.a,{className:"farm-modal-input mb-12",suffix:_e(q),value:f,onChange:e=>ke(q,e.target.value)}),k&&Object(p.jsx)("div",{className:"common-error",children:k}),Object(p.jsxs)("div",{className:"lc-info-box",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.user_total_lp")}),Object(p.jsx)("span",{className:"number",children:le?2===x[le].version?Object(j.a)(Ce).eq(0)?"0.00":Object(j.u)(Ce,{dp:6,miniText:1e-6,cutZero:2}):Object(j.u)(Ce):"--"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.deposited_lp")}),Object(p.jsx)("span",{children:le?2===x[le].version?Object(j.a)($).eq(0)?"0.00":Object(j.u)($,{dp:6,miniText:1e-6,cutZero:2}):Object(j.u)($):"--"})]})]})]}),Object(p.jsxs)("section",{className:"mb-30",children:[Object(p.jsxs)("div",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"lock-desc-title",children:i.a.get("newStake.calculator.balance_ve")}),Object(p.jsxs)("span",{className:"lock-balance",children:[Object(p.jsxs)("span",{className:"op-5",children:[" ",i.a.get("newStake.calculator.holding"),": "]}),le?Object(j.u)(L):"--"]})]}),Object(p.jsx)(l.a,{className:"farm-modal-input",suffix:_e(W),value:_,onChange:e=>ke(W,e.target.value)}),v&&Object(p.jsx)("div",{className:"common-error",children:v})]}),Object(p.jsxs)("section",{children:[Object(p.jsx)("div",{className:"lock-desc-title",children:i.a.get("newStake.calculator.calculate_result")}),Object(p.jsxs)("div",{className:"lc-info",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.boost")}),Object(p.jsx)("span",{children:Object(j.a)(ie).eq(0)||Object(j.a)(ie).isNaN()?"--":Object(j.a)(ie)._toFixed(2,1)})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.max_boost")}),Object(p.jsx)("span",{children:Object(j.a)(re).eq(0)||Object(j.a)(re).isNaN()?"--":Object(j.a)(re)._toFixed(2,1)})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.calculator.max_boost_ve")}),Object(p.jsx)("span",{style:{maxWidth:"50%"},children:Object(j.a)(je).eq(0)||Object(j.a)(je).isNaN()?"--":Object(j.u)(je)})]})]})]})]})}})},X=a(2272),J=a(2222);const{Countdown:$}=X.a;var ee=e=>{const t=Object(s.d)((()=>r.default.network)),{modalShow:a,closeModal:l}=(Object(s.d)((()=>r.default.pool)),t),n=Date.now()+d.default.confirmTime;Object(c.useEffect)((()=>{}),[]);return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"TopModal"===a,title:Object(p.jsx)($,{title:i.a.get("top_modal.comfirm"),value:n,format:"ss",suffix:i.a.get("top_modal.second")}),width:320,zIndex:999999,footer:null,className:"farm-modal top-modal",onCancel:l,closable:!1,maskClosable:!1,center:!0,children:Object(p.jsx)(J.a,{})})})},te=a(206);var ae=e=>{const t=Object(s.d)((()=>r.default.network)),{setData:a,modalShow:c,closeModal:l,isConnected:n}=t,o=()=>{a(n?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},d=()=>{a({modalShow:"CalculatorModal",poolId:void 0})},j=()=>{window.open("/?lang=".concat(window.localStorage.getItem("lang"),"#/governance"),"governance")};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"TipsModal"===c,title:i.a.get("newStake.mint_tips.title"),width:430,zIndex:999,footer:null,className:"farm-modal tips-modal",onCancel:l,titleLeft:!0,children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"step step_1",children:[Object(p.jsx)("p",{children:i.a.get("newStake.mint_tips.tips1")}),Object(p.jsx)(te.a,{onClick:o,children:i.a.get("newStake.mint_tips.to_lock")})]}),Object(p.jsx)("div",{className:"flex jcc mb-20"}),Object(p.jsxs)("div",{className:"step step_2",children:[Object(p.jsx)("p",{children:i.a.get("newStake.mint_tips.tips2")}),Object(p.jsx)(te.a,{onClick:j,children:i.a.get("newStake.mint_tips.to_vote")})]}),Object(p.jsx)("div",{className:"flex jcc mb-20"}),Object(p.jsxs)("div",{className:"step step_3",children:[Object(p.jsx)("p",{children:i.a.get("newStake.mint_tips.tips3")}),Object(p.jsx)(te.a,{onClick:d,children:i.a.get("newStake.mint_tips.to_calculator")})]})]})})})},ce=(a.p,a(71));var se=e=>{const t=Object(s.d)((()=>r.default.network)),a=Object(s.d)((()=>r.default.system)),n=Object(s.d)((()=>r.default.pool)),{modalShow:o,closeModal:u,setData:O}=t,{stakePoolData3:x,getVoteInfo:h}=n,{totalLocked:k,balance:y,lockData:w}=x,{tokens:N,defaultId:S,date:D}=d.default,[C,T]=Object(c.useState)(""),[L,M]=Object(c.useState)(""),[A,P]=Object(c.useState)(f()()),[I,H]=Object(c.useState)(""),[Y,F]=Object(c.useState)(f()()),[B,E]=Object(c.useState)(f()().add(D.four_year,"days")),[R,U]=Object(c.useState)("--"),[Z,V]=Object(c.useState)("--"),[z,q]=Object(c.useState)(!1),[W,K]=Object(c.useState)(!1),[G,Q]=Object(c.useState)(!1),[X,J]=Object(c.useState)(!1);let $=!1;Object(c.useEffect)((async()=>{!x.isNeedRender&&ee()}),[x]);const ee=async()=>{try{const{lockData:e}=x;e.lastLockTimeStamp&&(x.isNeedRender=!0);let t=!1;e.lastLockTimeStamp&&Object(j.a)(e.lastLockTimeStamp).eq(0)&&(t=!0),q(t),te(t,f()(1e3*Object(j.a)(e.lastLockTimeStamp)))}catch(e){console.log("getLockData error: "+e)}},te=(e,t)=>{try{if(e)P(f()().add(D.six_month,"days")),F(f()().add(D.six_month,"days")),E(f()().add(D.four_year,"days"));else{const e=604800*parseInt((new Date).getTime()/1e3/604800);f()(t).diff(f()(1e3*e).add(D.six_month,"days"),"days")<=0?(P(f()(1e3*e).add(D.six_month,"days")),F(f()(1e3*e).add(D.six_month,"days")),E(f()(1e3*e).add(D.four_year,"days"))):(P(t),F(t),E(f()().add(D.four_year,"days")))}}catch(a){console.log("getLockDateRange error: "+a)}},ae=()=>{const{stakeApy:e}=x;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"lock-desc-title",children:i.a.get("newStake.stake_pool.lock_desc2")}),Object(p.jsxs)("div",{className:"lc-info",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{className:"stake-tooltip flex aic",children:[Object(p.jsxs)("span",{className:"opa-5",children:[i.a.get("stake.apy")," "]}),Object(p.jsx)(_.a,{title:i.a.getHTML("newStake.stake_pool.lock_apy_tip",{per1:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)?"".concat(Object(j.t)(Object(j.a)(e.unlocked)),"%"):"--",symbol1:"TUSD",per2:e.locked&&"-"!==e.locked&&Object(j.a)(e.locked).gte(0)?"".concat(Object(j.t)(Object(j.a)(e.locked)),"%"):"--",symbol2:"SUN"}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(p.jsx)(g.a,{className:"ml-4"})})]}),Object(p.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)&&e.locked&&"-"!==e.locked&&Object(j.a)(e.locked).gte(0)?"".concat(Object(j.t)(Object(j.a)(e.unlocked).plus(Object(j.a)(e.locked))),"%"):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"opa-5",children:i.a.get("newStake.stake_pool.lock_total")}),Object(p.jsxs)("span",{children:[Object(j.u)(Object(j.a)(k).div(N[S].precision))," ",S.toUpperCase()]})]})]}),Object(p.jsxs)("div",{className:"flex jcsb mt-30",children:[Object(p.jsx)("span",{className:"lock-desc-title",children:i.a.getHTML("newStake.stake_pool.lock_sun",{symbol:S.toUpperCase()})}),Object(p.jsxs)("span",{className:"lock-balance",children:[Object(p.jsxs)("span",{className:"op-5",children:[i.a.get("newStake.stake_pool.balance"),":"]})," ",y&&Object(j.u)(y.balance)]})]})]})},se=()=>{const{lockData:e}=x,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(f()().format("X")).gt(e.lastLockTimeStamp);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"mt-16 mb-20",children:[Object(p.jsxs)("div",{className:"flex jcsb aic",children:[Object(p.jsx)("span",{className:"lock-sub-title",children:i.a.get("newStake.stake_pool.choose_lock_date")}),Object(p.jsx)("span",{children:e.lastLockTimeStamp&&Object(p.jsx)(v,{className:G?"active":"",disabledDate:re,onChange:ie,value:A,allowClear:!1,disabled:t})})]}),Object(p.jsx)("div",{className:"lc-date mt-16",children:Object.keys(D).map((e=>f()(Y).diff(f()(),"days")<D[e]&&Object(p.jsx)("span",{onClick:t=>oe(e),className:L!==e||G?"":"current",children:i.a.get("newStake.stake_pool.".concat(e))},e)))})]}),e.lastLockTimeStamp?Object(j.a)(e.unlockable).gt(0)?Object(p.jsx)("p",{className:"lock-desc-title2",children:i.a.get("newStake.stake_pool.date_expired")}):Object(p.jsx)("p",{className:"lock-desc-title2",children:i.a.getHTML("newStake.stake_pool.date_desc",{start:Y.format("YYYY-MM-DD"),end:B.format("YYYY-MM-DD"),symbol:S.toUpperCase()})}):"",Object(p.jsx)("div",{className:"mt-30"}),Object(p.jsxs)("div",{className:"lc-info",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.lock_vote")}),Object(p.jsx)("span",{children:Object(j.a)(Z).gte(0)?Object(j.u)(Z):"0.00"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:i.a.get("newStake.stake_pool.current_vote")}),Object(p.jsx)("span",{children:Object(j.a)(R).gte(0)?Object(j.u)(R):"0.00"})]})]})]})},le=e=>{!X&&J(!0);const{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""),N[S].decimal);t&&T(Object(j.c)(a))},ne=()=>{!X&&J(!0);try{le(y.balance)}catch(e){console.log("setLockMax error: "+e)}},ie=e=>{P(e),Q(!0)},oe=e=>{M(e),Q(!1);const{lockData:t}=x;let a=f()(1e3*Object(j.a)(t.lastLockTimeStamp));if(z)P(f()().add(D[e],"days"));else{const t=604800*parseInt((new Date).getTime()/1e3/604800);f()(a).diff(f()(1e3*t).add(D.six_month,"days"),"days")<=0?P(f()(1e3*t).add(D[e],"days")):P(f()().add(D[e],"days"))}},re=e=>e&&(e.diff(f()(Y),"hours")<0||e.diff(f()(B),"hours")>0),de=async()=>{if(!X&&J(!0),be()){Object(ce.a)({action:ce.b.deposit,event_category:ce.j.farm});try{const{balance:e}=x,t=e.allowance,{symbol:c}=e;let s=Object(j.ib)(C);if(t.lt(Object(j.a)(s))&&!$){const t={action:"approve",title:"deposit.approve_token",obj:{value:c},continuous:!0};await a.toApproveLP(e.token,e.stake2,t)&&($=!0,je())}else je()}catch(e){}}},je=async()=>{if(!z)return void me();let t=Object(j.ib)(C);if(Object(j.a)(t).gt(0))try{const c={title:"actions.lock_lp",obj:{value:Object(j.u)(t),symbol:y.symbol}};let s="",l=new Date(f()(A).format("YYYY-MM-DD")).getTime()/1e3;s=await a.stakeSSP2(Object(j.a)(t).times(y.precision)._toIntegerDown()._toHex(),!0,Object(j.a)(l)._toHex(),c),s&&(ue(),setTimeout((()=>{e.cb()}),5e3))}catch(c){console.log(c)}},me=async()=>{try{const{lockData:t}=x;let c=Object(j.ib)(C)||Object(j.a)(0),s=0===f()(A).diff(f()(1e3*Object(j.a)(t.lastLockTimeStamp)),"days")?0:parseInt(new Date(f()(A).format("YYYY-MM-DD")).getTime()/1e3);c.eq(0)&&0===s&&H(i.a.get("error.e1"));const l={title:"actions.lock_lp",obj:{value:Object(j.u)(c),symbol:y.symbol}};await a.increaseLock(c.eq(0)?0:Object(j.ib)(c).times(y.precision)._toIntegerDown()._toHex(),0===s?0:s+86400,l)&&(ue(),setTimeout((()=>{e.cb()}),5e3))}catch(t){console.log("redeposit error:"+t)}};Object(c.useEffect)((()=>{const{lockData:e}=x,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(f()().format("X")).gt(e.lastLockTimeStamp);K(!!t),X&&be()}),[C,X,w]);const be=()=>{try{const{lockData:e}=x;!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(f()().format("X")).gt(e.lastLockTimeStamp);return 0!==f()(A).diff(f()(1e3*Object(j.a)(e.lastLockTimeStamp)),"days")||C?e.lastLockTimeStamp&&Object(j.a)(e.lastLockTimeStamp).eq(0)&&!Object(j.ib)(C).gt(0)?(H(i.a.get("error.e1")),!1):Object(j.ib)(C).gt(y.balance)?(H(i.a.get("error.e2",{token:S.toUpperCase()})),!1):(H(""),!0):(H(i.a.get("error.e1")),!1)}catch(e){}};Object(c.useEffect)((async()=>{f()(A).diff(f()(),"days")>0&&pe()}),[C,A,w]);const pe=async()=>{try{let e=await h("0x0000000000000000000000".concat(m.ac.tronWeb.address.toHex(t.defaultAccount)));if(e.success){let t=e.value,a=new Date(f()(A)).getTime(),c=Object(j.a)(w.lockData).div(N[S].precision);Object(j.ib)(C).gt(0)&&(c=c.plus(Object(j.ib)(C)));let s=126144e3,l=c.times((a-Date.now())/1e3).div(s);Object(j.a)(l).lte(0)||Object(j.a)(l).minus(t).abs().lte(.01)?V(t):V(l.toFixed(2)),U(t)}}catch(e){}},ue=()=>{x.isNeedRender=!1,u()};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"LockModal"===o,title:i.a.getHTML("newStake.stake_pool.lock_sun",{symbol:S.toUpperCase()}),width:430,zIndex:999,footer:null,className:"farm-modal lock-sun-modal",maskClosable:!1,onCancel:ue,titleLeft:!0,children:Object(p.jsxs)("div",{children:[Object(p.jsx)(ae,{}),Object(p.jsx)(l.a,{className:"farm-modal-input",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:ne,children:i.a.get("deposit.max")}),value:C,onChange:e=>le(e.target.value)}),I&&Object(p.jsx)("div",{className:"common-error",children:I}),Object(p.jsx)(se,{}),Object(p.jsx)("div",{className:"flex jcc",children:Object(p.jsx)("button",{disabled:I||W,className:"common-btn mt-30 lock-common-btn",onClick:de,children:i.a.get("newStake.stake_pool.deposit")})})]})})})};a(1072);var le=e=>{const t=Object(s.d)((()=>r.default.network)),a=(Object(s.d)((()=>r.default.system)),Object(s.d)((()=>r.default.pool))),{modalShow:n,closeModal:o,setData:m}=t,{poolData:u,poolExpiredTime:O,isOutdate:x}=e,{balance:f,extraSymbol:h,nextWeekApyV3:_,extraRewardApy:g,extraRewardPrice:k,extraContract:y,name:w,totalStake:v,price:N,lpStaker:S,nextWeekWeight:D,thisWeekWeight:C,flag:T}=u,[L,M]=Object(c.useState)(""),[A,P]=Object(c.useState)(""),[I,H]=Object(c.useState)(0),[Y,F]=Object(c.useState)("--"),[B,E]=Object(c.useState)("--"),[R,U]=Object(c.useState)("--"),[Z,V]=Object(c.useState)("--"),[z,q]=Object(c.useState)("--"),[W,K]=Object(c.useState)("--"),{config:G}=a.calculatorObj;Object(c.useEffect)((async()=>{if(a.calculatorObj.config)if(0==O)M(Object(j.c)(1e6)),P(1e6);else{var e,t;v||await a.getTotalStakePoolConfig(w,[S]);let c=null===(e=Object(j.a)(null===(t=a.myPoolMap[w])||void 0===t?void 0:t.totalStake))||void 0===e?void 0:e.times(N);M(Object(j.c)(c)),P(Object(j.c)(Object(j.u)(c,{dp:0})))}else E(a.calculatorObj.sunApy),M(1e6),P(Object(j.c)(1e6)),H(Object(j.c)(5e6))}),[]),Object(c.useEffect)((()=>{const{sunPrice:e,sunRatePerSecond:t,totalVote:c,currentVotes:s}=a;let l=t,n=Object(j.a)(c).div(d.default.defaultVotePrecision),i=Object(j.a)(D).div(1e16).div(100),o=Object(j.a)(n).times(i),r=Object(j.a)(l).times(86400),m=Object(j.a)(o).plus(Object(j.ib)(I||0)),b=Object(j.a)(n).plus(Object(j.ib)(I||0)),p=Object(j.a)(r).times(m).div(b);V(p),q(o)}),[I,a.sunRatePerSecond,T]),Object(c.useEffect)((()=>{if(Object(j.ib)(L).eq(0))return void E("--");const{sunPrice:e,sunRatePerSecond:t,totalVote:c,currentVotes:s}=a;let l=Object(j.a)(0);if(Object(j.a)(C).eq(0)||Object(j.ib)(a.calculatorObj.stakeValue).eq(0))l=Object(j.a)(Z).times(e).times(365).div(Object(j.ib)(L)).times(100).toFixed(2,1);else{let e=Object(j.a)(c).div(d.default.defaultVotePrecision),t=Object(j.a)(D).div(1e16).div(100),s=Object(j.a)(e).times(t),n=Object(j.a)(s).plus(Object(j.ib)(I||0)),i=Object(j.a)(e).plus(Object(j.ib)(I||0));l=Object(j.a)(Object(j.a)(n).div(i).div(s).times(e)).times(_).div(Object(j.ib)(L).div(Object(j.ib)(a.calculatorObj.stakeValue))).times(100).toFixed(2,1)}E(l)}),[Z,L,I,_,z,a.calculatorObj,T]),Object(c.useEffect)((()=>{a.calculatorObj.config&&Q()}),[R,L,T,x]),Object(c.useEffect)((()=>{a.calculatorObj.config||F(a.calculatorObj.tokenApy)}),[]);const Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;if(Object(j.ib)(e).eq(0))return void F("--");let t=Object(j.a)(R).times(k).times(365).div(Object(j.ib)(e)).times(100).toFixed(2,1);F(t)};Object(c.useEffect)((()=>{U(a.calculatorObj.miningSpeed)}),[a.calculatorObj,T]),Object(c.useEffect)((()=>{var e;let t=Object(j.s)(d.default.tokens,w,"token"),a=null===(e=d.default.tokens[t])||void 0===e?void 0:e.symbol;K(a)}),[w]);const X=()=>{o()};return Object(p.jsx)(s.a,{children:()=>Object(p.jsx)(b.a,{open:"ApyCalculatorModal"===n,title:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:i.a.get("pool_config.apy_calc")}),Object(p.jsx)("div",{className:"header-subtitle",children:i.a.get("pool_config.lp_to_apy")})]}),width:430,zIndex:999,footer:null,className:"farm-modal",maskClosable:!1,onCancel:X,titleLeft:!0,children:Object(p.jsxs)("div",{className:"calculate-content",children:[Object(p.jsxs)("div",{className:"ce-content flex",children:[Object(p.jsxs)("div",{className:"ce-bold",children:[W," ",i.a.get("pool_config.current_stake_lp")]}),Object(p.jsx)("div",{className:"ce-bold ce-hn",children:Object(p.jsx)(l.a,{className:"ce-hn c-333 fs-14 fw-500 tar",value:A,onChange:e=>(e=>{let{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""));t&&(a.indexOf(".")>-1&&(a=a.split(".")[0]),M(Object(j.c)(a)),P(Object(j.c)(a)),Q(a))})(e.target.value)})})]}),Object(p.jsx)("div",{className:"ce-content pb-0",children:Object(p.jsxs)("div",{className:"ce-fisrt flex h-80",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{className:"ce-bold",children:[W," ",i.a.get("pool_config.veVotes")]}),Object(p.jsx)("span",{className:"ce-subtext",children:i.a.get("pool_config.total_vote")}),Object(p.jsx)("span",{className:"ce-subtext",children:i.a.get("pool_config.add_vote")})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{className:"ce-bold ce-hn",children:[" ",Object(j.u)(Object(j.a)(z).plus(Object(j.ib)(I||0)),{dp:0})]}),Object(p.jsx)("span",{className:"ce-hn c-666 fs-12 mt-12",children:Object(j.u)(z,{dp:0})}),Object(p.jsx)("span",{children:Object(p.jsx)(l.a,{className:"ce-hn c-999 fs-12 tar add-vote",value:I,onChange:e=>(e=>{let{valid:t,str:a}=Object(j.Z)((""+e).replace(/,/g,""));t&&(a.indexOf(".")>-1&&(a=a.split(".")[0]),H(Object(j.c)(a)))})(e.target.value)})})]})]})}),Object(p.jsx)("div",{className:"line"}),Object(p.jsx)("div",{className:"ce-title",children:i.a.get("pool_config.data_estimate")}),Object(p.jsxs)("div",{className:"ce-content cc-content",children:[Object(p.jsxs)("div",{className:"ce-fisrt flex",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"ce-bold",children:i.a.get("pool_config.total_apy")}),Object(p.jsxs)("span",{className:"ce-subtext",children:[h,i.a.get("pool_config.mining"),"APY"]}),Object(p.jsxs)("span",{className:"ce-subtext",children:["SUN",i.a.get("pool_config.mining"),"APY"]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"ce-bold ce-hn c-5915e1",children:"".concat(Object(j.t)(Object(j.a)(Y).plus(Object(j.a)(B).times(.4))),"%~").concat(Object(j.t)(Object(j.a)(Y).plus(B)),"%")}),Object(p.jsx)("span",{className:"ce-hn fs-12 c-333 fw-500",children:"".concat(Object(j.t)(Y),"%")}),Object(p.jsx)("span",{className:"ce-hn fs-12 c-333 fw-500",children:"".concat(Object(j.t)(Object(j.a)(B).times(.4)),"%~").concat(Object(j.t)(B),"%")})]})]}),Object(p.jsx)("div",{className:"ce-content-tip",children:i.a.get("pool_config.depend_estimate")})]}),Object(p.jsxs)("div",{className:"ce-content flex ais",children:[Object(p.jsxs)("div",{className:"c-666 fs-12",children:[h," ",i.a.get("pool_config.mining_speed")]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:" ce-hn fs-12 c-333 fw-500",children:[Object(j.u)(Object(j.ib)(R),{dp:6,cutZero:!0})," ",h]}),Object(p.jsxs)("div",{className:"ce-value c-666 fs-12",children:["~$ ",Object(j.u)(Object(j.ib)(R).times(k),{miniText:.01})]})]})]}),Object(p.jsxs)("div",{className:"ce-content flex pb-6 ais ",children:[Object(p.jsxs)("div",{className:"c-666 fs-12",children:["SUN ",i.a.get("pool_config.mining_speed")]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:" ce-hn fs-12 c-333 fw-500",children:[Object(j.u)(Object(j.ib)(Z),{dp:6,cutZero:!0})," SUN"]}),Object(p.jsxs)("div",{className:"ce-value c-666 fs-12",children:["~$"," ",Object(j.u)(Object(j.ib)(Z).times(a.sunPrice),{miniText:.01})]})]})]})]})})})};t.a=e=>Object(p.jsx)(s.a,{children:()=>Object(p.jsxs)(p.Fragment,{children:[e.modalShow,"AddLiqModal"===e.modalShow&&Object(p.jsx)(u,{cb:e.cb}),"RemoveLiqModal"===e.modalShow&&Object(p.jsx)(O,{cb:e.cb}),"WithdrawModal"===e.modalShow&&Object(p.jsx)(C,{cb:e.cb}),"LockDetailModal"===e.modalShow&&Object(p.jsx)(L,{}),"VestDetailModal"===e.modalShow&&Object(p.jsx)(T,{}),"LockStakeModal"===e.modalShow&&Object(p.jsx)(S,{cb:e.cb}),"TopModal"===e.modalShow&&Object(p.jsx)(ee,{cb:e.cb}),"CalculatorModal"===e.modalShow&&Object(p.jsx)(Q,{cb:e.cb}),"TipsModal"===e.modalShow&&Object(p.jsx)(ae,{cb:e.cb}),"LockModal"===e.modalShow&&Object(p.jsx)(se,{cb:e.cb}),"ApyCalculatorModal"===e.modalShow&&Object(p.jsx)(le,{cb:e.cb,poolData:e.poolData,poolExpiredTime:e.poolExpiredTime,isOutdate:e.isOutdate})]})})},1160:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a(1329),s=a(1161),l=a(3);const n=(e,t)=>Object(l.jsxs)("span",{className:c.farm_link,children:[e,t,Object(l.jsx)("img",{src:s.a,alt:"",srcSet:""})]})},1161:function(e,t,a){"use strict";t.a=a.p+"static/media/purple_arrow_up.16029d4e.svg"},1164:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var c=a(1),s=a(54),l=a(1581),n=a(17),i=a.n(n),o=a(109),r=a(1165),d=a.n(r),j=a(3);const m={normal:"normal",purpleAndGray:"purpleAndGray"},b=e=>{const t=Object(o.useCurrentThemeConfig)(),{className:a,containerType:c=m.normal,...n}=e;return Object(j.jsx)(s.a,{theme:{token:{colorPrimary:t["color-switch-primary"],colorPrimaryHover:t["color-switch-primary"],colorTextQuaternary:c===m.purpleAndGray?t["color-switch-quaternary-gray"]:t["color-switch-quaternary"]}},children:Object(j.jsx)(l.a,{className:i()("pure-comp",d.a.common_switch,a),...n})})};t.b=Object(c.memo)(b)},1165:function(e,t,a){e.exports={"page-head":"style_page-head__2UHSK",link:"style_link__3S2R7","gradient-title":"style_gradient-title__1gBfT",animateTitle:"style_animateTitle__3VyGL","dim-content":"style_dim-content__3Rvw_",uppercase:"style_uppercase__2JQru","window-for-tabs-pane":"style_window-for-tabs-pane__13I7u","dark-btn":"style_dark-btn__1a0W1","purple-btn":"style_purple-btn__GvoAo","cur-input":"style_cur-input__Yv_zo","max-btn":"style_max-btn__1uo30",common_switch:"style_common_switch__1_DKh","ant-switch-disabled":"style_ant-switch-disabled__3drvT"}},1202:function(e,t,a){"use strict";var c=a(17),s=a.n(c),l=a(120),n=a(261),i=a(1325),o=a(318),r=a(1203),d=a(3);t.a=e=>{const{infoList:t,center:a,clsName:c,horizontal:j}=e,m=a?"center":"left",b=Object(l.a)(window.navigator).any;return Object(d.jsx)("div",{className:s()(i.info_box,i.module_important,c),children:t.map((e=>Object(d.jsx)(d.Fragment,{children:e.hide?null:Object(d.jsxs)("div",{className:s()({[i.info_sigle_box]:!0,[i.info_border]:e.showRightBorder,[i.info_horizontal]:j&&!b}),style:{textAlign:b?"left":m},children:[Object(d.jsx)("div",{className:i.info_title,children:Object(d.jsx)(n.a,{hideTip:!e.titleTip,tip:e.titleTip,children:e.title})}),Object(d.jsx)("div",{className:i.info_value,children:e.isHotValue?Object(d.jsxs)(d.Fragment,{children:[e.value,Object(d.jsx)(o.a,{title:e.valueTip,overlayClassName:"tooltip",color:"rgba(27,31,38,0.90)",children:Object(d.jsx)("img",{className:"hover_icon",src:r.a,alt:"",style:{marginLeft:10}})})]}):Object(d.jsx)(n.a,{hideTip:!e.valueTip,tip:e.valueTip,children:e.value})})]})})))})}},1203:function(e,t,a){"use strict";t.a=a.p+"static/media/newHot.96a01f83.svg"},1204:function(e,t,a){"use strict";var c=a(261),s=a(1326),l=a(3);t.a=e=>{const{title:t,titleTip:a,rewards:n,rewardsTip:i,subRewards:o,...r}=e;return Object(l.jsxs)("div",{...r,children:[a?Object(l.jsx)(c.a,{toolClass:s.earn_title,tip:a,children:t}):Object(l.jsx)("div",{className:s.earn_title,children:t}),i?Object(l.jsx)(c.a,{toolClass:s.earn_rewards,tip:i,children:n}):Object(l.jsx)("div",{className:s.earn_rewards,children:n}),o&&Object(l.jsx)("div",{className:s.earn_subRewards,children:o})]})}},1258:function(e,t,a){"use strict";t.a=a.p+"static/media/calculator.7e48709d.svg"},1259:function(e,t,a){"use strict";t.a=a.p+"static/media/calculator_light.dee2da93.svg"},1260:function(e,t,a){"use strict";t.a=a.p+"static/media/sunpump_farm.06c89ebf.png"},1261:function(e,t,a){e.exports={"page-head":"farmCard_page-head__uzgsk",link:"farmCard_link__28eBQ","gradient-title":"farmCard_gradient-title__1Tf8j",animateTitle:"farmCard_animateTitle__fMJs1","dim-content":"farmCard_dim-content__2xrd5",uppercase:"farmCard_uppercase__2pdQN","window-for-tabs-pane":"farmCard_window-for-tabs-pane__21aGM","dark-btn":"farmCard_dark-btn__QXlT6","purple-btn":"farmCard_purple-btn__2fWV6","cur-input":"farmCard_cur-input__16P44","max-btn":"farmCard_max-btn__1_47s",farm_flex:"farmCard_farm_flex__1YstV",farm_card_flex:"farmCard_farm_card_flex__1WDiF",farm_margin:"farmCard_farm_margin__fvj_8",liquidity_card:"farmCard_liquidity_card__341jR",liq_title:"farmCard_liq_title__2eW4i",speed_info:"farmCard_speed_info__1MS3l",speed_info_tip:"farmCard_speed_info_tip__d3xZ1",liq_info:"farmCard_liq_info__3DMDb",farm_status3_top:"farmCard_farm_status3_top__1Vprp",farm_status3_bottom:"farmCard_farm_status3_bottom__2O7kL",farm_status3_text1:"farmCard_farm_status3_text1__3p0EA",farm_status3_text2:"farmCard_farm_status3_text2__3xkqo",farm_status3_text3:"farmCard_farm_status3_text3__3DUZY",liq_card_260:"farmCard_liq_card_260__3XUfm",w_100:"farmCard_w_100__oIG2I",w_60:"farmCard_w_60__nvN4m",w_40:"farmCard_w_40__31U2G",pc_show:"farmCard_pc_show__1Vgp1",mobile_show:"farmCard_mobile_show__2jIm0",column_between:"farmCard_column_between__3lptF"}},1294:function(e,t,a){"use strict";var c=a(11),s=a.n(c),l=a.p+"static/media/circle_arrow_down.7009fcb1.svg",n=a.p+"static/media/circle_arrow_down_light.5faf6eba.svg",i=a(1161),o=a(1331),r=a(109),d=a(3);t.a=e=>{const{show:t,type:a}=e,c=Object(r.useCurrentTheme)(),j=()=>Object(d.jsxs)("span",{className:o.extend_btn_text,children:[t?s.a.get("farm.hide"):s.a.get("farm.show"),Object(d.jsx)("img",{style:{transform:t?"rotate(0deg)":"rotate(180deg)"},src:i.a,alt:"",srcSet:""})]});return Object(d.jsx)("div",{className:o.extend_btn,onClick:t=>e.onClick&&e.onClick(t),children:"text"===a?Object(d.jsx)(j,{}):Object(d.jsx)("img",{style:{transform:t?"rotate(180deg)":"rotate(0deg)"},src:"dark"===c?l:n,alt:"",srcset:""})})}},1297:function(e,t,a){"use strict";var c=a(17),s=a.n(c),l=a(11),n=a.n(l),i=a(1138),o=a(110),r=a(1330),d=a.n(r),j=a(318),m=a(109),b=(a(1260),a.p+"static/media/warn_tip_purple.fdabc97e.svg"),p=a(5),u=a(3);const{newFarmKeysShow:O}=p.default;t.a=e=>{const{stakeData:t,farmName:a,lpName:c,subtitle:l,version:r,flexText:p,lockText:x,endedText:f,farmType:h}=e,_=Object(o.default)(o.isMobileOnlyMedia),g=(Object(m.useCurrentTheme)(),()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:d.a.pump_tip_title,children:[n.a.get("farm.sunpump_disclaimer"),":"]}),Object(u.jsx)("div",{className:d.a.pump_tip_content,children:n.a.get("farm.sunpump_disclaimer_tip")})]})),k=()=>Object(u.jsx)(j.a,{title:g,children:Object(u.jsx)("div",{className:d.a.pump_style,children:Object(u.jsx)("img",{className:d.a.pump_style_tip,src:b,alt:""})})});return Object(u.jsx)("div",{className:s()({[d.a.farm_top_box]:!0,[d.a.farm_top_box_pump]:t.fromSunPump}),children:_?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"flex start mb-10",children:[Object(u.jsx)(i.a,{stakeData:t}),Object(u.jsxs)("div",{className:d.a.farm_name,children:[a,c]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:d.a.farm_subTitle,children:l}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:d.a.flex_icon,children:p}),x&&Object(u.jsx)("span",{className:d.a.lock_icon,children:x}),t.fromSunPump||O.includes(t.id)?null:Object(u.jsx)("span",{className:d.a.ended_icon,children:f})]}),t.fromSunPump&&Object(u.jsx)(k,{})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.a,{stakeData:t}),Object(u.jsxs)("span",{children:[Object(u.jsxs)("div",{className:d.a.farm_name,children:[a,c]}),Object(u.jsxs)("div",{className:"flex start",children:[Object(u.jsx)("span",{className:d.a.farm_subTitle,children:l}),Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:d.a.flex_icon,children:p}),x&&Object(u.jsx)("span",{className:d.a.lock_icon,children:x}),t.fromSunPump||O.includes(t.id)?null:Object(u.jsx)("span",{className:d.a.ended_icon,children:f})]}),t.fromSunPump&&Object(u.jsx)(k,{})]})]})]})})}},1325:function(e,t,a){e.exports={"page-head":"style_page-head__3jtli",link:"style_link__AVNBn","gradient-title":"style_gradient-title__2hXy8",animateTitle:"style_animateTitle__2Hek_","dim-content":"style_dim-content__2rm6N",uppercase:"style_uppercase__1POWF","window-for-tabs-pane":"style_window-for-tabs-pane__cIl80","dark-btn":"style_dark-btn__3RAvu","purple-btn":"style_purple-btn__2OAnd","cur-input":"style_cur-input__UhlYc","max-btn":"style_max-btn__1fVhE",info_box:"style_info_box__Kxxcm",info_sigle_box:"style_info_sigle_box__3ZOm-",info_border:"style_info_border__ot3HS",info_title:"style_info_title__1kN50",info_value:"style_info_value__TtW_2",info_horizontal:"style_info_horizontal__RA6g5",module_important:"style_module_important__1U4rK"}},1326:function(e,t,a){e.exports={"page-head":"style_page-head__3_6aN",link:"style_link__1PDdX","gradient-title":"style_gradient-title__1GJyz",animateTitle:"style_animateTitle__2yXgs","dim-content":"style_dim-content__2HQIH",uppercase:"style_uppercase__1-jAw","window-for-tabs-pane":"style_window-for-tabs-pane__1Nuwq","dark-btn":"style_dark-btn__3Zoiy","purple-btn":"style_purple-btn__2XOf4","cur-input":"style_cur-input__qgWcV","max-btn":"style_max-btn__2nInu",earn_title:"style_earn_title__2NV7j",earn_rewards:"style_earn_rewards__2_3bI",earn_subRewards:"style_earn_subRewards__2hi-j"}},1327:function(e,t,a){e.exports={"page-head":"style_page-head__d5aZL",link:"style_link__26f6B","gradient-title":"style_gradient-title__2J4-J",animateTitle:"style_animateTitle__21Yww","dim-content":"style_dim-content__7sqHB",uppercase:"style_uppercase__Qk5pM","window-for-tabs-pane":"style_window-for-tabs-pane__14Mf4","dark-btn":"style_dark-btn__wfuXg","purple-btn":"style_purple-btn__2vUw7","cur-input":"style_cur-input__2d4Br","max-btn":"style_max-btn__3XZ_H",farm_card:"style_farm_card__1JD8l",farm_card_nobg:"style_farm_card_nobg__3cUIY"}},1328:function(e,t,a){e.exports={"page-head":"style_page-head__2-ASL",link:"style_link__1jecj","gradient-title":"style_gradient-title__1OMT2",animateTitle:"style_animateTitle__3JaN7","dim-content":"style_dim-content__1z6c8",uppercase:"style_uppercase__3VZBv","window-for-tabs-pane":"style_window-for-tabs-pane__plBDr","dark-btn":"style_dark-btn__jV4bI","purple-btn":"style_purple-btn__61lt3","cur-input":"style_cur-input__-aPW9","max-btn":"style_max-btn__2WAd_"}},1329:function(e,t,a){e.exports={"page-head":"style_page-head__14JKO",link:"style_link__3sn15","gradient-title":"style_gradient-title__2yuX-",animateTitle:"style_animateTitle__2rIQL","dim-content":"style_dim-content__3guxg",uppercase:"style_uppercase__QONw0","window-for-tabs-pane":"style_window-for-tabs-pane__2ISYo","dark-btn":"style_dark-btn__3ZNdu","purple-btn":"style_purple-btn__3iki6","cur-input":"style_cur-input__3fcFQ","max-btn":"style_max-btn__hBt76",farm_link:"style_farm_link__3tbmW"}},1330:function(e,t,a){e.exports={"page-head":"style_page-head__1Vm_k",link:"style_link__1tM_R","gradient-title":"style_gradient-title__SQocD",animateTitle:"style_animateTitle__nm4qg","dim-content":"style_dim-content__S2GCh",uppercase:"style_uppercase__2eZ8z","window-for-tabs-pane":"style_window-for-tabs-pane__2BXTF","dark-btn":"style_dark-btn__2b7XM","purple-btn":"style_purple-btn__3S1PH","cur-input":"style_cur-input__3NxD9","max-btn":"style_max-btn__1BJvb",farm_top_box:"style_farm_top_box__14Wkd",pump_style:"style_pump_style__3qDp6",pump_style_tip:"style_pump_style_tip__2xp_n",farm_name:"style_farm_name__3CHWQ",farm_subTitle:"style_farm_subTitle__3dKvC",version_icon:"style_version_icon__3Ancy",flex_icon:"style_flex_icon__1kPtg",lock_icon:"style_lock_icon__2Xojt",ended_icon:"style_ended_icon__3L-GQ",pump_tip_title:"style_pump_tip_title__1ftCl",pump_tip_content:"style_pump_tip_content__3UyoE",farm_top_box_pump:"style_farm_top_box_pump__-4FNW"}},1331:function(e,t,a){e.exports={"page-head":"style_page-head__2gs0P",link:"style_link__1JEI8","gradient-title":"style_gradient-title__1VCVi",animateTitle:"style_animateTitle__1gWCw","dim-content":"style_dim-content__ESdE3",uppercase:"style_uppercase__min-g","window-for-tabs-pane":"style_window-for-tabs-pane__34Zz2","dark-btn":"style_dark-btn__1w9jJ","purple-btn":"style_purple-btn__lqWSm","cur-input":"style_cur-input__1i1uW","max-btn":"style_max-btn__2oEYf",extend_btn:"style_extend_btn__2EOTc",extend_btn_text:"style_extend_btn_text__2JjE7"}},1332:function(e,t,a){e.exports={"page-head":"style_page-head__1P5re",link:"style_link__2PFsk","gradient-title":"style_gradient-title__2yusn",animateTitle:"style_animateTitle__2D0g8","dim-content":"style_dim-content__CNXbE",uppercase:"style_uppercase__3Spa2","window-for-tabs-pane":"style_window-for-tabs-pane__152cS","dark-btn":"style_dark-btn__14YMh","purple-btn":"style_purple-btn__y_XlV","cur-input":"style_cur-input__1E01M","max-btn":"style_max-btn__1j48-",stake_tip:"style_stake_tip__1GfaK",flex_card_button:"style_flex_card_button__1T2rC",flex_card:"style_flex_card__-90Sm"}},1333:function(e,t,a){},1334:function(e,t,a){},1335:function(e,t,a){},1336:function(e,t,a){},1337:function(e,t,a){e.exports={more_pool:"style_more_pool__1RPh8"}},1338:function(e,t,a){e.exports={"page-head":"style_page-head__F1vwx",link:"style_link__kJxzt","gradient-title":"style_gradient-title__2ll5o",animateTitle:"style_animateTitle__1pp9L","dim-content":"style_dim-content__1FLGt",uppercase:"style_uppercase__2sK_7","window-for-tabs-pane":"style_window-for-tabs-pane__3JKFI","dark-btn":"style_dark-btn__14MFV","purple-btn":"style_purple-btn__2lmSa","cur-input":"style_cur-input__1zXkK","max-btn":"style_max-btn__3zSEz",switch_wrap:"style_switch_wrap__3ud30",switch_active:"style_switch_active__38V8w"}},1339:function(e,t,a){e.exports={"page-head":"style_page-head__258Ma",link:"style_link__1Kc3u","gradient-title":"style_gradient-title__UVTfJ",animateTitle:"style_animateTitle__2rO40","dim-content":"style_dim-content__2U4pd",uppercase:"style_uppercase__31L14","window-for-tabs-pane":"style_window-for-tabs-pane__1TrHy","dark-btn":"style_dark-btn__3nJ_J","purple-btn":"style_purple-btn__1uH25","cur-input":"style_cur-input__12-kL","max-btn":"style_max-btn__1UT3n",pool_flex:"style_pool_flex__1kgeO",pool_search_input:"style_pool_search_input__2VRkC",pool_btn_line:"style_pool_btn_line__1kREC",stake_switch_label:"style_stake_switch_label__14yCi",pool_setting:"style_pool_setting__2kkmk",pool_margin:"style_pool_margin__10Wvk",stake_label:"style_stake_label__1YhO3",stake_balance:"style_stake_balance__3t44C"}},1340:function(e,t,a){"use strict";t.a=a.p+"static/media/farm_arrow.b35e3b7c.svg"},1341:function(e,t,a){"use strict";t.a=a.p+"static/media/farm_arrow_light.66b945a0.svg"},1342:function(e,t,a){"use strict";t.a=a.p+"static/media/loading-3.53c3e327.png"},1343:function(e,t,a){"use strict";t.a=a.p+"static/media/wallet_unconnected.96ce1f27.png"},1344:function(e,t,a){"use strict";t.a=a.p+"static/media/no_stake.fbf13c8c.png"},1345:function(e,t,a){e.exports={"page-head":"newStake_page-head__1xDgN",link:"newStake_link__19V82","gradient-title":"newStake_gradient-title__UNkfh",animateTitle:"newStake_animateTitle__gy8AZ","dim-content":"newStake_dim-content__1HhAX",uppercase:"newStake_uppercase__24v1F","window-for-tabs-pane":"newStake_window-for-tabs-pane__3fOWn","dark-btn":"newStake_dark-btn__27Std","purple-btn":"newStake_purple-btn__3PcQX","cur-input":"newStake_cur-input__3zECg","max-btn":"newStake_max-btn__2lNh-",farm_wrap:"newStake_farm_wrap__1LoIy",stake_tab:"newStake_stake_tab__1NXrx",stake_active:"newStake_stake_active__2vSvJ",stake_tab1:"newStake_stake_tab1__1o8d3",stake_tab2:"newStake_stake_tab2__WmlsP",tab_content:"newStake_tab_content__1tu56",tab_content_title:"newStake_tab_content_title__7_U7b",farm_tab_with_hot:"newStake_farm_tab_with_hot__7tCgF",tab_content_box:"newStake_tab_content_box__6m_tC",sun_title:"newStake_sun_title__Jmvwh"}},1431:function(e,t,a){"use strict";var c=a(1),s=a(81),l=a(2219),n=a(11),i=a.n(n),o=(a(120),a(87)),r=(a(5),a(43)),d=a(0),j=a(95),m=(a(982),a(155)),b=a(3);var p=e=>{const t=Object(s.d)((()=>o.default.network)),{modalShow:a,closeModal:n,poolId:p,stakeVersion:u,farmType:O}=t,x=Object(s.d)((()=>o.default.system)),f=Object(s.d)((()=>"pump"===O?o.default.pumpFarmStore:o.default.farmStore));let h=f.farmData;const{balance:_,symbol:g,allowance:k,token:y,precision:w,id:v,tokenAddress:N,tokenAddress2:S,decimal:D,currentSpeed:C,stakedBalanceNew:T,version:L,priceNew:M}=h[p],{farmPools:A}=r.a,[P,I]=Object(c.useState)(""),[H,Y]=Object(c.useState)(0),[F,B]=Object(c.useState)(""),[E,R]=Object(c.useState)(!1),[U,Z]=Object(c.useState)(""),V=window.localStorage.getItem("lang");let z=!1;Object(c.useEffect)((()=>{E&&q()}),[P,E]),Object(c.useEffect)((()=>{Q()}),[P]);const q=()=>!P||Object(d.ib)(P).lte(0)?(B(i.a.get("error.e1")),Z(""),!1):Object(d.ib)(P).gt(_)?(B(i.a.get("error.e2",{token:g})),Z(""),!1):(B(""),!0),W=()=>{!E&&R(!0),I(Object(d.c)(_));const e="\u2248 $ "+Object(d.u)(Object(d.ib)(_*M));Z(e)},K=async()=>{if(!E&&R(!0),q())try{console.warn("token: ",y);if(k.lt(Object(d.ib)(P))&&!z){const e={action:"approve",title:"deposit.approve_token",obj:{value:g},continuous:!0},t=await x.toApproveLP(y,A[p].lpStaker,e);console.warn("txID: ",t),t&&(z=!0,G())}else G()}catch(e){}},G=async()=>{if(q())try{const e={title:"actions.stake_lp",obj:{value:Object(d.u)(Object(d.ib)(P)),symbol:g}},a=r.a.flexibleKeys.includes(A[p].id)?"depositLPFarmNoflexible":"depositLPFarm";await x[a](A[p].lpStaker,t.defaultAccount,Object(d.ib)(P).times(w)._toIntegerDown()._toHex(),0,e)&&(n(),setTimeout((()=>{f.updateData(p)}),5e3))}catch(e){console.log(e)}},Q=async()=>{try{d.a.config({DECIMAL_PLACES:30});const{votingBalance:e,votingTotal:a,workingBalance:c,workingSupply:s,gaugeBalance:l,gaugeTotalsupply:n,success:i}=await Object(j.b)(A[p].lpStaker,t.defaultAccount,w);if(i){const t=Object(d.a)(.4),i=Object(d.a)(.6);let o=Object(d.ib)(P).isNaN()?Object(d.a)(0):Object(d.ib)(P),r=l.plus(o),j=Object(d.a)(n).plus(r),m=Object(d.a)(a),b=r.times(t);b=b.plus(j.times(e).div(m).times(i)),b=Object(d.a)(Math.min(r,b));let p=r.times(t),u=s.plus(p).minus(c),O=s.plus(b).minus(c),x=b.div(O),f=p.div(u),h=x.div(f).isNaN()?Object(d.a)(0):x.div(f);Y(h)}}catch(e){console.log(e)}};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3AddLiqModal"===a,title:i.a.getHTML("newStake.liquidity.stake_token",{symbol:g}),width:430,zIndex:999,footer:null,className:"farm-modal stake-token-modal",onCancel:n,titleLeft:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"stake-balance mb-10",children:[Object(b.jsx)("span",{children:i.a.get("newStake.stake_pool.deposit")}),Object(b.jsxs)("span",{children:[Object(b.jsxs)("span",{children:[i.a.get("newStake.stake_pool.balance"),":"]})," ",2===h[p].version?Object(d.a)(_).eq(0)?"0.00":Object(d.u)(_,{dp:D,cutZero:!0}):Object(d.u)(_)]})]}),Object(b.jsx)("div",{className:"",children:Object(b.jsx)(l.a,{className:"farm-modal-input",suffix:Object(b.jsx)("span",{className:"max-btn",onClick:W,children:i.a.get("deposit.max")}),value:P,onChange:e=>(e=>{!E&&R(!0);const{valid:t,str:a}=Object(d.Z)((""+e).replace(/,/g,""),D);if(t){I(Object(d.c)(a));const e="\u2248 $ "+Object(d.u)(Object(d.ib)(a*M));Z(e)}})(e.target.value)})}),Object(b.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(b.jsxs)("span",{className:F?"warning":"",children:[U,F]}),Object(d.J)({id:v,symbol:g,tokenAddress:N,tokenAddress2:S,lang:V,version:L})]}),Object(b.jsx)("button",{disabled:!!F,className:"common-btn mt-20",onClick:K,children:i.a.get("newStake.stake_pool.deposit")})]})})})};var u=e=>{const t=Object(s.d)((()=>o.default.network)),a=Object(s.d)((()=>o.default.system)),{modalShow:n,closeModal:j,poolId:p,stakeVersion:u,farmType:O}=t,x=Object(s.d)((()=>"pump"===O?o.default.pumpFarmStore:o.default.farmStore)),{farmPools:f}=r.a;let h=x.farmData;const{balance:_,symbol:g,allowance:k,token:y,index:w,precision:v,id:N,tokenAddress:S,tokenAddress2:D,decimal:C,currentSpeed:T,stakedBalanceNew:L,version:M,lockRewards:A,gift:P,governanceRewards:I}=h[p],[H,Y]=Object(c.useState)(""),[F,B]=Object(c.useState)(""),[E,R]=Object(c.useState)(!1),[U,Z]=Object(c.useState)(L),V=window.localStorage.getItem("lang");Object(c.useEffect)((()=>{E&&z()}),[H,E]);const z=()=>!H||Object(d.ib)(H).lte(0)?(B(i.a.get("error.e1")),!1):Object(d.ib)(H).gt(U)?(B(i.a.get("error.e2",{token:g})),!1):(B(""),!0),q=e=>{!E&&R(!0);const{valid:t,str:a}=Object(d.Z)((""+e).replace(/,/g,""),C);t&&Y(Object(d.c)(a))},W=()=>{!E&&R(!0),q(U)},K=async()=>{if(!E&&R(!0),z()&&Object(d.ib)(H).gt(0)){const e={title:"actions.withdraw_lp",obj:{value:Object(d.u)(Object(d.ib)(H)),symbol:g}},t=r.a.flexibleKeys.includes(f[p].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm";let c="";c=await a[t](f[p].lpStaker,Object(d.ib)(H).times(v)._toHex(),0,e),c&&(j(),setTimeout((()=>{x.updateData(p)}),5e3))}};return Object(b.jsx)(s.a,{children:()=>{var e;return Object(b.jsx)(m.a,{open:"Sun3RemoveLiqModal"===n,title:i.a.getHTML("newStake.liquidity.stake_token_cancel",{symbol:"USDCOLD Old LP"===g&&"zh-CN"===V?"Old USDCOLD LP":g}),width:430,zIndex:999,footer:null,className:"farm-modal stake-token-modal",onCancel:j,titleLeft:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"stake-balance mb-10",children:[Object(b.jsx)("span",{children:i.a.get("newStake.stake_pool.withdraw")}),Object(b.jsxs)("span",{children:[Object(b.jsxs)("span",{children:[i.a.get("newStake.liquidity.staked"),": "]}),Object(d.u)(U,{dp:18,cutZero:18})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{className:"farm-modal-input",suffix:Object(b.jsx)("span",{className:"max-btn",onClick:W,children:i.a.get("deposit.max")}),value:H,onChange:e=>q(e.target.value)}),F&&Object(b.jsx)("div",{className:"common-error",children:F})]}),Object(b.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(b.jsx)("span",{}),Object(d.J)({id:N,symbol:g,tokenAddress:S,tokenAddress2:D,lang:V,version:M})]}),Object(b.jsx)("button",{disabled:!!F,className:"common-btn mt-20",onClick:K,children:i.a.get("newStake.stake_pool.withdraw")}),!r.a.flexibleKeys.includes(N)&&Object(b.jsx)("div",{className:" mt-10",style:{color:"#FF9933"},children:i.a.getHTML("farm.text_38",{Reward_amount:Object(d.u)(Object(d.a)(A).plus(I),{miniText:.01}),Reward_token:null===(e=P[0])||void 0===e?void 0:e.toUpperCase()})})]})})}})},O=a(65),x=a.n(O),f=a(318),h=a.p+"static/media/warning.c82b87cb.svg",_=a(224),g=a(109),k=a.p+"static/media/long_right_arrow.ae058e1d.svg",y=a.p+"static/media/long_right_arrow_light.a52051d9.svg";var w=()=>{const e=Object(g.useCurrentTheme)();return Object(b.jsx)(b.Fragment,{children:"dark"===e?Object(b.jsx)("img",{src:k,alt:""}):Object(b.jsx)("img",{src:y,alt:""})})};var v=e=>{const{speedRate:t,oldSpeedRate:a}=e,{flexApy:c,minGovApy:s,currentSpeed:l}=e.data,n=Object(d.a)(c).times(t).plus(Object(d.a)(l).times(s).times(t))._toFixed(2,1);let o=0;return Object(d.a)(a).gt(0)&&(o=Object(d.a)(c).times(a).plus(Object(d.a)(l).times(s).times(a))._toFixed(2,1)),Object(b.jsx)(b.Fragment,{children:Object(d.a)(a).gt(0)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"old-data",children:[Object(b.jsxs)("span",{className:"apy",children:[Object(d.t)(o),"%"]}),"(",Object(d.u)(a),"x)",Object(b.jsx)(f.a,{placement:"bottom",overlayClassName:"stake-tooltip",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["USDD ",i.a.get("farm.fixed_apy")," : ",Object(d.t)(Object(d.a)(c).times(a)),"%"]}),Object(b.jsxs)("div",{children:["USDD ",i.a.get("farm.gov_apy")," :",Object(d.t)(Object(d.a)(l).times(s).times(a)),"%"]})]}),children:Object(b.jsx)(_.a,{className:"ml-4"})}),Object(b.jsx)(w,{})]}),Object(b.jsxs)("span",{className:"new-data",children:[Object(b.jsxs)("span",{className:"apy",children:[Object(d.t)(n),"%"]}),"(",Object(d.u)(t),"x)",Object(b.jsx)(f.a,{overlayClassName:"stake-tooltip",placement:"bottom",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["USDD ",i.a.get("farm.fixed_apy")," : ",Object(d.t)(Object(d.a)(c).times(t)),"%"]}),Object(b.jsxs)("div",{children:["USDD ",i.a.get("farm.gov_apy")," :",Object(d.t)(Object(d.a)(l).times(s).times(t)),"%"]})]}),children:Object(b.jsx)(_.a,{className:"ml-4"})})]})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("span",{className:"old-data",children:[Object(b.jsxs)("span",{className:"apy apy-new-type1",children:[Object(d.t)(n),"%"]}),"(",Object(d.u)(t),"x)",Object(b.jsx)(f.a,{overlayClassName:"stake-tooltip",placement:"bottom",title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["USDD ",i.a.get("farm.fixed_apy")," : ",Object(d.t)(Object(d.a)(c).times(t)),"%"]}),Object(b.jsxs)("div",{children:["USDD ",i.a.get("farm.gov_apy")," :",Object(d.t)(Object(d.a)(l).times(s).times(t)),"%"]})]}),children:Object(b.jsx)(_.a,{className:"ml-4"})})]})})})};var N=e=>{const t=Object(s.d)((()=>o.default.network)),a=Object(s.d)((()=>o.default.system)),{modalShow:n,closeModal:j,poolId:p,farmType:u}=t,O=Object(s.d)((()=>"pump"===u?o.default.pumpFarmStore:o.default.farmStore)),[g,k]=Object(c.useState)(""),[y,w]=Object(c.useState)(""),[N,S]=Object(c.useState)(""),[D,C]=Object(c.useState)(!1),[T,L]=Object(c.useState)(1),[M,A]=Object(c.useState)(""),[P,I]=Object(c.useState)(-2),[H,Y]=Object(c.useState)(-2),[F,B]=Object(c.useState)(""),[E,R]=Object(c.useState)(""),[U,Z]=Object(c.useState)("--"),[V,z]=Object(c.useState)("month"),q=window.localStorage.getItem("lang"),{farmPools:W,kRate:K,monthTime:G,dayTime:Q}=r.a;let X=!1,J=O.farmData;const{balance:$,symbol:ee,allowance:te,token:ae,precision:ce,id:se,tokenAddress:le,tokenAddress2:ne,decimal:ie,version:oe,priceNew:re}=J[p],de=!g||!Object(d.a)(g).gt(0)||E,je=D||!N&&!y||P<0&&!N&&"month"===V||H<0&&!N&&"day"===V,me=()=>{j()},be=()=>{try{if(pe(Object(d.c)($)),Object(d.a)($).eq(0))B(""),R(i.a.get("error.e1"));else if(Object(d.a)($).gt($))B(""),R(i.a.get("error.e2",{token:ee}));else{const e="\u2248 $ "+Object(d.u)(Object(d.ib)($*re));B(e),R()}}catch(e){console.log("setLockMax error: "+e)}},pe=e=>{const{valid:t,str:a}=Object(d.Z)((""+e).replace(/,/g,""),ie);if(console.log(e,t,a),t)if(k(a),Object(d.a)(a).eq(0))B(""),R(i.a.get("error.e1"));else if(Object(d.a)(a).gt($))B(""),R(i.a.get("error.e2",{token:ee}));else{const e="\u2248 $ "+Object(d.u)(Object(d.ib)(a*re));B(e),R()}},ue=(e,t)=>{"month"===t&&(I(e),-1===e&&w(N),w(e),-1!==e&&e<r.a.minLockDuration?(C(!0),L(2),S("")):-1!==e&&e>r.a.maxLockDuration?(C(!0),L(1),S("")):-1!==e&&(C(!1),S(""))),"day"===t&&(Y(e),-1===e&&w(N),w(e),-1!==e&&e<r.a.minLockDayDuration||-1===e&&N<r.a.minLockDayDuration?(C(!0),L(2),S("")):-1!==e&&e>r.a.maxLockDaysDuration||-1===e&&N>r.a.maxLockDaysDuration?(C(!0),L(1),S("")):-1!==e&&(C(!1),S("")))},Oe=e=>{const t=e.replace(/^[^1-9]+|[^0-9]/g,"");S(t),"month"===V?t<r.a.minLockDuration&&t?(C(!0),L(2)):t>r.a.maxLockDuration?(C(!0),L(1)):C(!1):"day"===V&&(t<r.a.minLockDaysDuration&&t?(C(!0),L(2)):t>r.a.maxLockDaysDuration?(C(!0),L(1)):C(!1))};Object(c.useEffect)((()=>{xe(-1===P||-1===H?N:y)}),[N,y,g,V]);const xe=e=>{if(de&&je)A("--");else if("month"===V){const a=t.nowTime+e*G*1e3;A(x()(a).format("YYYY-MM-DD HH:mm"));Z(1+K*e*30)}else if("day"===V){const a=t.nowTime+e*Q*1e3;A(x()(a).format("YYYY-MM-DD HH:mm"));Z(1+K*e)}},fe=async()=>{try{if(te.lt(Object(d.ib)(g))&&!X){const e={action:"approve",title:"deposit.approve_token",obj:{value:ee},continuous:!0};await a.toApproveLP(ae,W[p].lpStaker,e)&&(X=!0,he())}else he()}catch(e){}},he=async()=>{try{const e={title:"actions.stake_lp",obj:{value:Object(d.u)(Object(d.ib)(g)),symbol:ee}};let c="";const s=-1===P||-1===H?N:y,l="month"===V?s*G:s*Q,n=r.a.flexibleKeys.includes(W[p].id)?"depositLPFarmNoflexible":"depositLPFarm";c=await a[n](W[p].lpStaker,t.defaultAccount,Object(d.ib)(g).times(ce)._toIntegerDown()._toHex(),l,e),c&&(j(),setTimeout((()=>{O.updateData(p)}),5e3))}catch(e){console.log(e)}},_e=e=>{S(),I(-2),Y(-2),C(!1),z(e)};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3LockModal"===n,title:i.a.getHTML("newStake.stake_pool.lock_sun",{symbol:ee}),width:430,zIndex:999,footer:null,className:"farm-modal fixed-lock-modal",maskClosable:!1,onCancel:me,titleLeft:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex jcsb aic",children:[Object(b.jsx)("span",{className:"lock-desc-title",children:i.a.get("farm.lock_amount")}),Object(b.jsxs)("div",{className:"lock-balance",children:[Object(b.jsxs)("span",{className:"op-5",children:[i.a.get("pool_config.balance"),": "]}),Object(b.jsx)("span",{children:Object(d.u)($,{dp:ie,cutZero:!0})})]})]}),Object(b.jsx)(l.a,{className:"farm-modal-input",suffix:Object(b.jsx)("span",{className:"max-btn",onClick:be,children:i.a.get("deposit.max")}),value:g,onChange:e=>pe(e.target.value)}),Object(b.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(b.jsxs)("span",{className:E?"warning":"",children:[F,E]}),Object(d.J)({id:se,symbol:ee,tokenAddress:le,tokenAddress2:ne,lang:q,version:oe})]}),Object(b.jsxs)("div",{className:"flex aic jcsb mt-20",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"lm-radio-btn",children:[Object(b.jsx)("button",{className:"month"===V?"active":"",onClick:()=>_e("month"),children:Object(b.jsx)(f.a,{title:i.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:i.a.get("farm.by_month")})}),Object(b.jsx)("button",{className:"day"===V?"active":"",onClick:()=>_e("day"),children:i.a.get("farm.by_day")})]})}),"month"===V&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===P?"current last":"last"," ").concat(D?"errorWeek":""),onClick:e=>ue(-1,"month"),children:Object(b.jsx)(l.a,{value:N,onChange:e=>Oe(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_month")})})}),"day"===V&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===H?"current last":"last"," ").concat(D?"errorWeek":""),onClick:e=>ue(-1,"day"),children:Object(b.jsx)(l.a,{value:N,onChange:e=>Oe(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_day")})})})]}),D&&Object(b.jsx)("div",{className:"common-error",children:"month"===V?1===T?i.a.getHTML("farm.text_9",{max_lock_duration:r.a.maxLockDuration}):i.a.getHTML("farm.text_10",{min_lock_duration:r.a.minLockDuration}):1===T?i.a.getHTML("farm.text_9_day",{max_lock_duration_d:r.a.maxLockDaysDuration}):i.a.getHTML("farm.text_10_day",{min_lock_duration_d:r.a.minLockDaysDuration})}),Object(b.jsxs)("div",{className:"mt-16",children:["month"===V&&Object(b.jsxs)("div",{className:"lm-date jcsb",children:[Object(b.jsxs)("span",{className:1===P?"current":"",onClick:()=>ue(1,"month"),children:["1 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:6===P?"current":"",onClick:()=>ue(6,"month"),children:["6 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:12===P?"current":"",onClick:()=>ue(12,"month"),children:["12 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:24===P?"current":"",onClick:()=>ue(24,"month"),children:["24 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:36===P?"current":"",onClick:()=>ue(36,"month"),children:["36 ",i.a.get("farm.suffix_month")]})]}),"day"===V&&Object(b.jsxs)("div",{className:"lm-date jcsb",children:[Object(b.jsxs)("span",{className:30===H?"current":"",onClick:()=>ue(30,"day"),children:["30 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:60===H?"current":"",onClick:()=>ue(60,"day"),children:["60 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:90===H?"current":"",onClick:()=>ue(90,"day"),children:["90 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:120===H?"current":"",onClick:()=>ue(120,"day"),children:["120 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:150===H?"current":"",onClick:()=>ue(150,"day"),children:["150 ",i.a.get("farm.suffix_day")]})]})]}),Object(b.jsx)("div",{className:"lock-desc-title mt-30",children:i.a.get("farm.lock_overview")}),Object(b.jsxs)("div",{className:"lc-info mb-20",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_amount")}),Object(b.jsx)("span",{children:de?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"old-data",children:Object(d.u)(g,{dp:W[p].showDp,cutZero:!0,miniText:W[p].miniText})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:[i.a.get("farm.lock_duration"),Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:je?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsxs)("span",{className:"old-data",children:["month"===V?-1===P?N:y:-1===H?N:y," ","month"===V?i.a.get("farm.month_unit"):i.a.get("farm.extend_day")]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:["APY",Object(b.jsx)(f.a,{title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:i.a.get("farm.text_12")}),Object(b.jsx)("p",{children:i.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:je?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"new-data",children:Object(b.jsx)(v,{speedRate:U,data:J[p]})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.unlock_time")," ",Object(b.jsx)(f.a,{title:i.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:je?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"old-data",children:M})})]})]}),Object(b.jsxs)("div",{className:"warning",children:[Object(b.jsxs)("div",{className:"flex aic warning-title ",children:[Object(b.jsx)("span",{children:i.a.get("farm.note")}),Object(b.jsx)("img",{src:h,alt:""})]}),Object(b.jsxs)("div",{className:"warning-content",children:[i.a.getHTML("farm.text_7"),Object(b.jsx)("br",{}),i.a.getHTML("farm.text_8",{time_window:r.a.windowDuration})]})]}),Object(b.jsx)("div",{className:"flex jcc",children:Object(b.jsx)("button",{className:"common-btn mt-30",disabled:de||je,onClick:fe,children:i.a.get("farm.confirm_lock")})})]})})})},S=a(1580);var D=e=>{const t=Object(s.d)((()=>o.default.network)),a=Object(s.d)((()=>o.default.system)),{modalShow:n,closeModal:j,poolId:p,farmType:u}=t,O=Object(s.d)((()=>"pump"===u?o.default.pumpFarmStore:o.default.farmStore)),[g,k]=Object(c.useState)(""),[y,N]=Object(c.useState)(!1),D=window.localStorage.getItem("lang"),{farmPools:C,kRate:T,monthTime:L,dayTime:M}=r.a,[A,P]=Object(c.useState)(""),[I,H]=Object(c.useState)(""),[Y,F]=Object(c.useState)(!1),[B,E]=Object(c.useState)("--"),[R,U]=Object(c.useState)("--"),[Z,V]=Object(c.useState)(""),[z,q]=Object(c.useState)(!1),[W,K]=Object(c.useState)(1),[G,Q]=Object(c.useState)(""),[X,J]=Object(c.useState)(""),[$,ee]=Object(c.useState)("--"),[te,ae]=Object(c.useState)(2),[ce,se]=Object(c.useState)(""),[le,ne]=Object(c.useState)("--"),[ie,oe]=Object(c.useState)(!1),[re,de]=Object(c.useState)("month");let je=!1,me=O.farmData;const{balance:be,symbol:pe,allowance:ue,token:Oe,precision:xe,id:fe,tokenAddress:he,tokenAddress2:_e,decimal:ge,stakedBalanceNew:ke,version:ye,remainingTime:we,priceNew:ve,lockDuration:Ne,multiple:Se}=me[p],De=()=>{j()};Object(c.useEffect)((()=>{we-t.nowTime/1e3<L&&(oe(!0),F(!0),ae(2),V(r.a.minLockDuration))}),[we]);const Ce=!g||!Object(d.a)(g).gt(0)||I,Te=z||Y&&!Z&&2===te,Le=()=>{try{if(Me(Object(d.c)(be)),Object(d.a)(be).eq(0))P(""),H(i.a.get("error.e1"));else if(Object(d.a)(be).gt(be))P(""),H(i.a.get("error.e2",{token:pe}));else{const e="\u2248 $ "+Object(d.u)(Object(d.ib)(be*ve));P(e),H()}}catch(e){console.log("setLockMax error: "+e)}},Me=e=>{const{valid:t,str:a}=Object(d.Z)((""+e).replace(/,/g,""),ge);if(t)if(k(a),Object(d.a)(a).eq(0))P(""),H(i.a.get("error.e1"));else if(Object(d.a)(a).gt(be))P(""),H(i.a.get("error.e2",{token:pe}));else{const e="\u2248 $ "+Object(d.u)(Object(d.ib)(a*ve));P(e),H()}},Ae=async e=>{try{const t=e.target.checked;e.target.checked||(V(""),q(!1)),V(1),de("month"),F(t)}catch(t){console.log(t)}};Object(c.useEffect)((()=>{Pe()}),[Y,g,te,Z,re]);const Pe=async()=>{if(Te)Q("--"),se("--");else if(Y)if(1===te){q(!1),V("");const e=Object(d.u)(Ne/L),a=1e3*parseInt(we),c=t.nowTime;Q(x()(a).format("YYYY-MM-DD HH:mm"));const s=c+e*L*1e3;ne(x()(s).format("YYYY-MM-DD HH:mm")),ee(Object(d.u)(e)),E(1+T*e*30)}else if("month"===re){const e=t.nowTime,a=1e3*parseInt(we)-e,c=a/1e3/L;if(console.log("week: ",c),J(a/1e3/L),Number(Z)<r.a.minLockDuration&&Z)q(!0),K(2),Q("--"),se("--"),ne("--");else if(Number(Z)+Number(c)>r.a.maxLockDuration)q(!0),K(1),Q("--"),se("--"),ne("--");else{q(!1),ee(a>0?Object(d.u)(Number(Z)+Number(c)):Object(d.u)(Number(Z)));const e=1e3*parseInt(we);Q(x()(e).format("YYYY-MM-DD HH:mm"));const t=e+Number(Z*L*1e3);ne(x()(t).format("YYYY-MM-DD HH:mm")),U(Se),E(1+T*(Number(Z)+Number(c))*30)}}else{const e=t.nowTime,a=1e3*parseInt(we)-e,c=a/1e3/M;if(J(a/1e3/M),Number(Z)<r.a.minLockDaysDuration&&Z)q(!0),K(2),Q("--"),se("--"),ne("--");else if(Number(Z)+Number(c)>r.a.maxLockDaysDuration)q(!0),K(1),Q("--"),se("--"),ne("--");else{q(!1),ee(a>0?Object(d.u)(Number(Z)+Number(c)):Object(d.u)(Number(Z)));const e=1e3*parseInt(we);Q(x()(e).format("YYYY-MM-DD HH:mm"));const t=e+Number(Z*M*1e3);ne(x()(t).format("YYYY-MM-DD HH:mm")),U(Se),E(1+T*(Number(Z)+Number(c)))}}else{const e=1e3*parseInt(we);se(x()(e).format("YYYY-MM-DD HH:mm"));const a=t.nowTime;if(e>a){const t=e-a,c=Object(d.u)(t/1e3/L,{curZero:!0});J(c),ee(c),U(Se),E(1+T*c*30)}}},Ie=async()=>{try{if(ue.lt(Object(d.ib)(ke))&&!je){const e={action:"approve",title:"deposit.approve_token",obj:{value:pe},continuous:!0},t=await a.toApproveLP(Oe,C[p].lpStaker,e);console.warn("txID: ",t),t&&(je=!0,He())}else He()}catch(e){}},He=async()=>{try{const e={title:"actions.stake_lp",obj:{value:Object(d.u)(Object(d.ib)(g)),symbol:pe}};let c="";const s=Y?1===te?Ne:"month"===re?Z*L:Z*M:0,l=r.a.flexibleKeys.includes(C[p].id)?"depositLPFarmNoflexible":"depositLPFarm";c=await a[l](C[p].lpStaker,t.defaultAccount,Object(d.ib)(g).times(xe)._toIntegerDown()._toHex(),s,e),c&&(j(),setTimeout((()=>{O.updateData(p)}),5e3))}catch(e){console.log(e)}},Ye=e=>{"month"===e?V(1):"day"===e&&V(30),q(!1),de(e)};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3LockExtendModal"===n,title:i.a.getHTML("farm.add_lp_token",{lp_token:pe}),width:450,zIndex:999,footer:null,className:"farm-modal fixed-lock-modal",maskClosable:!1,onCancel:De,titleLeft:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex jcsb aic",children:[Object(b.jsx)("span",{className:"lock-desc-title",children:i.a.get("farm.lock_amount")}),Object(b.jsxs)("div",{className:"lock-balance",children:[Object(b.jsxs)("span",{className:"op-5",children:[i.a.get("pool_config.balance"),": "]}),Object(b.jsx)("span",{children:Object(d.u)(be,{dp:ge,cutZero:!0})})]})]}),Object(b.jsx)(l.a,{className:"farm-modal-input",suffix:Object(b.jsx)("span",{className:"max-btn",onClick:Le,children:i.a.get("deposit.max")}),value:g,onChange:e=>Me(e.target.value)}),Object(b.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(b.jsxs)("span",{className:I?"warning mb-6":"",children:[A,I]}),Object(d.J)({id:fe,symbol:pe,tokenAddress:he,tokenAddress2:_e,lang:D,version:ye})]}),Object(b.jsxs)("div",{className:"extend-check flex aic jcsb",children:[Object(b.jsx)("div",{children:Y&&Object(b.jsxs)("div",{className:"lm-radio-btn",children:[Object(b.jsx)("button",{className:"month"===re?"active":"",onClick:()=>Ye("month"),children:Object(b.jsx)(f.a,{title:i.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:i.a.get("farm.by_month")})}),Object(b.jsx)("button",{className:"day"===re?"active":"",onClick:()=>Ye("day"),children:i.a.get("farm.by_day")})]})}),Object(b.jsx)("div",{children:ie?Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_24",{min_lock_duration:r.a.minLockDuration}),children:Object(b.jsx)("div",{children:Object(b.jsx)(S.a,{checked:!0,disabled:!0,children:Object(b.jsx)("span",{className:"extend-check-text",children:i.a.get("farm.text_23")})})})}):Object(b.jsx)(S.a,{onChange:Ae,children:Object(b.jsx)("span",{className:"extend-check-text",children:i.a.get("farm.text_23")})})})]}),Y&&Object(b.jsxs)("div",{className:"mt-16",children:[Object(b.jsxs)("div",{className:"flex lm-input",onClick:()=>ae(2),children:[Object(b.jsx)("span",{className:"pretext mr-10",children:i.a.get("farm.extend_week1")}),Object(b.jsx)(l.a,{suffix:"month"===re?Object(b.jsx)("div",{className:"flex aic jcs",children:i.a.get("farm.month_unit")}):Object(b.jsxs)("div",{className:"flex aic jcs",children:[i.a.get("farm.extend_day")," "]}),value:Z,placeholder:i.a.get("farm.define_myself"),onChange:e=>(e=>{const a=e.replace(/^[^1-9]+|[^0-9]/g,"");if(V(a),"month"===re){const e=t.nowTime,c=1e3*parseInt(we)-e,s=Object(d.u)(c/1e3/L);J(c/1e3/L),Number(a)<r.a.minLockDuration&&a?(q(!0),K(2)):Number(a)+Number(s)>r.a.maxLockDuration?(q(!0),K(1)):q(!1)}else if("day"===re){const e=t.nowTime,c=1e3*parseInt(we)-e,s=Object(d.u)(c/1e3/M);J(c/1e3/M),Number(a)<r.a.minLockDaysDuration&&a?(q(!0),K(2)):Number(a)+Number(s)>r.a.maxLockDaysDuration?(q(!0),K(1)):q(!1)}})(e.target.value)})]}),z&&Object(b.jsx)("span",{className:"common-error",children:"month"===re?1===W?i.a.getHTML("farm.prolong_warning",{max_lock_duration:r.a.maxLockDuration,prolong:Object(d.u)(Object(d.a)(X).plus(Z),{cutZero:!0})}):i.a.getHTML("farm.prolong_warning_min",{min_lock_duration:r.a.minLockDuration}):1===W?i.a.getHTML("farm.prolong_warning_day",{max_lock_duration_d:r.a.maxLockDaysDuration,prolong_d:Object(d.u)(Object(d.a)(X).plus(Z),{cutZero:!0})}):i.a.getHTML("farm.prolong_warning_min_day",{min_lock_duration_d:r.a.minLockDaysDuration})})]}),Object(b.jsx)("div",{className:"lock-desc-title mt-30",children:i.a.get("farm.lock_overview")}),Object(b.jsxs)("div",{className:"lc-info mb-20",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_amount")}),Object(b.jsx)("span",{children:Ce?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"old-data",children:[Object(d.u)(ke,{dp:C[p].showDp,cutZero:!0,miniText:C[p].miniText}),Object(b.jsx)(w,{})]}),Object(b.jsx)("span",{className:"new-data",children:Object(d.u)(Object(d.a)(ke).plus(g),{dp:C[p].showDp,cutZero:!0,miniText:C[p].miniText})})]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:[i.a.get("farm.lock_duration"),Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Te?Object(b.jsx)("span",{className:"old-data",children:"--"}):Y&&1===te?Object(b.jsxs)("span",{className:"new-data",children:[$," ",i.a.get("farm.extend_week2")]}):"month"===re?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"old-data",children:[Object(d.u)(Ne/L,{cutZero:!0})," ",i.a.get("farm.month_unit"),Object(b.jsx)(w,{})]}),Object(b.jsxs)("span",{className:"new-data "+(z?"red":""),children:[$," ",i.a.get("farm.month_unit")]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"old-data",children:[Object(d.u)(Ne/M,{cutZero:!0})," ",i.a.get("farm.extend_day"),Object(b.jsx)(w,{})]}),Object(b.jsxs)("span",{className:"new-data "+(z?"red":""),children:[$," ",i.a.get("farm.extend_day")]})]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:["APY",Object(b.jsx)(f.a,{title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:i.a.get("farm.text_12")}),Object(b.jsx)("p",{children:i.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Te?Object(b.jsx)("span",{className:"old-data",children:"--"}):Y&&1===te?Object(b.jsx)(v,{speedRate:B,data:me[p]}):Object(b.jsx)(v,{speedRate:B,oldSpeedRate:R,data:me[p]})})]}),Y?Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.old_unlock_time")}),Object(b.jsx)("span",{children:Te?Object(b.jsx)("div",{children:Object(b.jsx)("span",{className:"old-data",children:"--"})}):Object(b.jsx)("span",{className:"old-data",children:G})})]}):null,Y?Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.new_unlock_time"),Object(b.jsx)(f.a,{title:i.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Te?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"new-data",children:le})})]}):Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.unlock_time")," ",Object(b.jsx)(f.a,{title:i.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"new-data",children:ce})})]})]}),Object(b.jsxs)("div",{className:"warning",children:[Object(b.jsxs)("div",{className:"flex aic warning-title ",children:[Object(b.jsx)("span",{children:i.a.get("farm.note")}),Object(b.jsx)("img",{src:h,alt:""})]}),Object(b.jsxs)("div",{className:"warning-content",children:[i.a.get("farm.text_21"),Y?2===te?i.a.get("farm.text_27"):i.a.get("farm.text_25"):i.a.get("farm.text_22")]})]}),Object(b.jsx)("div",{className:"flex jcc",children:Object(b.jsx)("button",{className:"common-btn mt-30",disabled:Ce||Te,onClick:Ie,children:i.a.get("farm.confirm_add")})})]})})})};var C=e=>{const t=Object(s.d)((()=>o.default.network)),{modalShow:a,closeModal:c}=t,l=()=>{c()};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3AutoExtendModal"===a,title:i.a.get("farm.auto_extend"),width:430,zIndex:999,footer:null,className:"farm-modal diff-modal",maskClosable:!1,onCancel:l,titleLeft:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"common-text",children:i.a.getHTML("farm.text_28",{time_window:3})}),Object(b.jsxs)("div",{className:"modal-text unlock-text mt-20",children:[Object(b.jsx)("div",{className:"title",children:i.a.get("farm.text_29")}),Object(b.jsx)("div",{className:"detail",children:i.a.get("farm.text_30")})]}),Object(b.jsxs)("div",{className:"modal-text claim-text mt-20",children:[Object(b.jsx)("div",{className:"title",children:i.a.get("farm.text_48")}),Object(b.jsx)("div",{className:"detail",children:i.a.get("farm.text_31")})]}),Object(b.jsxs)("div",{className:"warning mt-20",children:[Object(b.jsxs)("div",{className:"flex aic warning-title ",children:[Object(b.jsx)("span",{children:i.a.get("farm.note")}),Object(b.jsx)("img",{className:"ml-4",src:h,alt:""})]}),Object(b.jsx)("div",{className:"warning-content",children:i.a.get("farm.text_32")})]}),Object(b.jsx)("div",{className:"flex jcc",children:Object(b.jsx)("button",{className:"common-btn mt-30",onClick:l,children:i.a.get("farm.got_it")})})]})})})};var T=e=>{const t=Object(s.d)((()=>o.default.network)),{modalShow:a,closeModal:c}=t,l=()=>{c()};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3DiffModal"===a,title:i.a.get("farm.text_16"),width:430,zIndex:999,footer:null,className:"farm-modal diff-modal",maskClosable:!1,onCancel:l,titleLeft:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"modal-text flexible-text",children:[Object(b.jsx)("div",{className:"title",children:i.a.get("farm.text_17")}),Object(b.jsx)("div",{className:"detail",children:i.a.get("farm.text_18")})]}),Object(b.jsxs)("div",{className:"modal-text lock-text mt-20",children:[Object(b.jsx)("div",{className:"title",children:i.a.get("farm.text_19")}),Object(b.jsx)("div",{className:"detail",children:i.a.get("farm.text_20")})]}),Object(b.jsx)("div",{className:"flex jcc mt-30",children:Object(b.jsx)("button",{className:"common-btn",onClick:l,children:i.a.get("farm.got_it")})})]})})})},L=a.p+"static/media/edit-icon.7dc48d82.svg";var M=e=>{const t=Object(s.d)((()=>o.default.system)),a=Object(s.d)((()=>o.default.network)),{modalShow:n,closeModal:j,poolId:p,farmType:u}=a,O=Object(s.d)((()=>"pump"===u?o.default.pumpFarmStore:o.default.farmStore)),[g,k]=Object(c.useState)(-2),[y,w]=Object(c.useState)(-2),[N,S]=Object(c.useState)(""),[D,C]=Object(c.useState)(!1),[T,M]=Object(c.useState)(1),[A,P]=Object(c.useState)(!0),[I,H]=Object(c.useState)(""),[Y,F]=Object(c.useState)(""),[B,E]=Object(c.useState)(""),[R,U]=Object(c.useState)("month"),[Z,V]=Object(c.useState)(!1),{farmPools:z,kRate:q,monthTime:W,dayTime:K}=r.a;let G=O.farmData;const{symbol:Q,precision:X,decimal:J,stakedBalanceNew:$,lockRewards:ee,lockDuration:te,remainingTime:ae,governanceRewards:ce}=G[p],[se,le]=Object(c.useState)(0),[ne,ie]=Object(c.useState)(""),[oe,re]=Object(c.useState)(""),de=!ne||!Object(d.a)(ne).gt(0)||Object(d.a)(ne).gt($),je=D||!N&&!I&&!A;Object(c.useEffect)((()=>{re(Object(d.u)($,{dp:z[p].showDp,cutZero:!0,miniText:z[p].miniText}))}),[G[p]]);const me=()=>{j()},be=async()=>{if(Object(d.ib)($).gt(0)){const e={title:"actions.withdraw_lp",obj:{value:Object(d.u)(Object(d.ib)($)),symbol:Q}};let a="";const c=r.a.flexibleKeys.includes(z[p].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm";a=await t[c](z[p].lpStaker,Object(d.ib)($).times(X)._toHex(),0,e),a&&(j(),setTimeout((()=>{O.updateData(p)}),5e3))}},pe=async()=>{if(Object(d.ib)(ne).gt(0)){const e={title:"actions.withdraw_lp",obj:{value:Object(d.u)(Object(d.ib)(ne)),symbol:Q}};let a="";const c="month"===R?I*W:I*K;a=await t.withdrawLPFarm(z[p].lpStaker,Object(d.ib)(ne).times(X)._toHex(),c,e),a&&(j(),setTimeout((()=>{O.updateData(p)}),5e3))}},ue=()=>Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"lock-desc-title",children:i.a.get("farm.unlock_amount")}),Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{className:"farm-modal-input",value:oe,suffix:xe(),disabled:!0})})]}),Object(b.jsx)("div",{className:"lc-info mt-20",children:Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.withdraw")," ",Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_37"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{children:Object(d.u)(Object(d.a)(ee).plus(ce),{cutZero:!0,miniText:.01})}),Object(b.jsx)("span",{children:" USDD"})]})]})}),Object(b.jsx)("div",{className:"flex jcc",children:Object(b.jsx)("button",{className:"common-btn mt-30",onClick:be,children:i.a.get("farm.unlock_all")})})]});Object(c.useEffect)((()=>{Oe()}),[A,ne,N,I,R]);const Oe=()=>{if(je)F("--");else if(A){H(Object(d.u)(te/W,{cutZero:!0})),E(1+q*(te/W)*30);const e=1e3*parseInt(ae);F(x()(e).format("YYYY-MM-DD HH:mm"))}else{const e=-1===g||-1===y?N:I;if(H(e),"month"===R)if(e<r.a.minLockDuration&&e)C(!0),M(2),F("--");else if(e>r.a.maxLockDuration)C(!0),M(1),F("--");else{C(!1);const t=a.nowTime,c=Number(t)+Number(e*W*1e3);F(x()(c).format("YYYY-MM-DD HH:mm")),E(1+q*e*30)}else if("day"===R)if(e<r.a.minLockDaysDuration&&e)C(!0),M(2),F("--");else if(e>r.a.maxLockDaysDuration)C(!0),M(1),F("--");else{C(!1);const t=a.nowTime,c=Number(t)+Number(e*K*1e3);F(x()(c).format("YYYY-MM-DD HH:mm")),E(1+q*e)}}},xe=()=>Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"suffix-text",children:Q}),Object(b.jsx)("button",{className:"max-btn purple",onClick:()=>(H("--"),E(1+q*(te/W)*30),F(x()(I).format("YYYY-MM-DD HH:mm")),E("--"),F("--"),ie(),void le(1)),children:i.a.get("farm.custom_amount")})]}),fe=e=>{"month"===R?(k(e),-1===e?H(N):e<r.a.minLockDuration?(C(!0),M(2),S("")):e>r.a.maxLockDuration?(C(!0),M(1),S("")):(C(!1),S("")),H(e)):"day"===R&&(w(e),-1===e?H(N):e<r.a.minLockDaysDuration?(C(!0),M(2),S("")):e>r.a.maxLockDaysDuration?(C(!0),M(1),S("")):(C(!1),S("")),H(e))},he=e=>{const t=e.replace(/^[^1-9]+|[^0-9]/g,"");S(t),"month"===R?t<r.a.minLockDuration&&t?(C(!0),M(2)):t>r.a.maxLockDuration?(C(!0),M(1)):C(!1):"day"===R&&(t<r.a.minLockDaysDuration&&t?(C(!0),M(2)):t>r.a.maxLockDaysDuration?(C(!0),M(1)):C(!1))},_e=e=>{S(),H(),k(-2),w(-2),C(!1),U(e)};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3UnlockToClaimModal"===n,title:i.a.get("farm.unlock_claim"),width:430,zIndex:999,footer:null,className:"farm-modal fixed-lock-modal",maskClosable:!1,onCancel:me,titleLeft:!0,children:Object(b.jsx)("div",{children:0===se?Object(b.jsx)(ue,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"lock-desc-title",children:i.a.get("farm.unlock_amount")}),Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{className:"farm-modal-input",value:ne,placeholder:i.a.get("farm.enter_unlock_amount"),onChange:e=>(e=>{const{valid:t,str:a}=Object(d.Z)((""+e).replace(/,/g,""),J);t&&ie(a),Object(d.a)(a).eq(Object(d.a)($))&&le(0)})(e.target.value),suffix:Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"suffix-text",children:Q}),Object(b.jsx)("button",{className:"max-btn",onClick:()=>{le(0)},children:i.a.get("didi_dao.max")})]})})})]}),Object(b.jsxs)("div",{className:"mt-30",children:[Object(b.jsxs)("div",{className:"lock-desc-title stake-tooltip flex aic",children:[i.a.get("farm.withdraw")," ",Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_37"),placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsxs)("div",{className:"big-amount",children:[Object(b.jsx)("span",{children:Object(d.u)(Object(d.a)(ee).plus(ce),{dp:z[p].showDp,cutZero:!0,miniText:.01})}),Object(b.jsx)("span",{children:" USDD"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"mt-30",children:[Object(b.jsxs)("div",{className:"lock-desc-title mb-0",children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_asset_duration_left")}),!A&&Object(b.jsx)("span",{className:"link-text cp ml-4",onClick:e=>{P(!0),C(!1),S("")},children:i.a.get("farm.default")})]}),A&&Object(b.jsxs)("div",{className:"big-amount",children:[Object(b.jsx)("span",{children:Object(d.u)(te/W,{cutZero:!0})}),Object(b.jsxs)("span",{children:[" ",i.a.get("farm.extend_week2")]}),A&&Object(b.jsx)("img",{className:"cp ml-4",src:L,onClick:e=>{return t=!1,S(),H(),k(-2),w(-2),C(!1),void P(t);var t},alt:""})]}),!A&&Object(b.jsxs)("div",{className:"flex aic jcsb mt-20",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"lm-radio-btn",children:[Object(b.jsx)("button",{className:"month"===R?"active":"",onClick:()=>_e("month"),children:Object(b.jsx)(f.a,{title:i.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:i.a.get("farm.by_month")})}),Object(b.jsx)("button",{className:"day"===R?"active":"",onClick:()=>_e("day"),children:i.a.get("farm.by_day")})]})}),"month"===R&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(D?"errorWeek":""),onClick:e=>fe(-1),children:Object(b.jsx)(l.a,{value:N,onChange:e=>he(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_month")})})}),"day"===R&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===y?"current last":"last"," ").concat(D?"errorWeek":""),onClick:e=>fe(-1),children:Object(b.jsx)(l.a,{value:N,onChange:e=>he(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_day")})})})]}),D&&Object(b.jsx)("div",{className:"common-error",children:"month"===R?1===T?i.a.getHTML("farm.text_9",{max_lock_duration:r.a.maxLockDuration}):i.a.getHTML("farm.text_10",{min_lock_duration:r.a.minLockDuration}):1===T?i.a.getHTML("farm.text_9_day",{max_lock_duration_d:r.a.maxLockDaysDuration}):i.a.getHTML("farm.text_10_day",{min_lock_duration_d:r.a.minLockDaysDuration})}),!A&&Object(b.jsx)("div",{className:"detail",children:Object(b.jsxs)("div",{className:"lc-date mt-10",children:["month"===R&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"mt-16 lm-date jcsb",children:[Object(b.jsxs)("span",{className:1===g?"current":"",onClick:()=>fe(1),children:["1 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:6===g?"current":"",onClick:()=>fe(6),children:["6 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:12===g?"current":"",onClick:()=>fe(12),children:["12 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:24===g?"current":"",onClick:()=>fe(24),children:["24 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:36===g?"current":"",onClick:()=>fe(36),children:["36 ",i.a.get("farm.suffix_month")]})]})}),"day"===R&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"mt-16 lm-date jcsb",children:[Object(b.jsxs)("span",{className:30===y?"current":"",onClick:()=>fe(30),children:["30 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:60===y?"current":"",onClick:()=>fe(60),children:["60 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:90===y?"current":"",onClick:()=>fe(90),children:["90 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:120===y?"current":"",onClick:()=>fe(120),children:["120 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:150===y?"current":"",onClick:()=>fe(150),children:["150 ",i.a.get("farm.suffix_day")]})]})})]})})]}),Object(b.jsx)("div",{className:"lock-desc-title mt-30",children:i.a.get("farm.lock_overview")}),Object(b.jsxs)("div",{className:"lc-info",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_amount")}),Object(b.jsx)("span",{children:de?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"old-data",children:Object(d.u)(Object(d.a)($).minus(Object(d.a)(ne)),{dp:z[p].showDp,cutZero:!0,miniText:z[p].miniText})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:[i.a.get("farm.lock_duration"),Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:je?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsxs)("span",{className:"old-data",children:[I," ","month"===R?i.a.get("farm.month_unit"):i.a.get("farm.extend_day")]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:["APY",Object(b.jsx)(f.a,{title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:i.a.get("farm.text_12")}),Object(b.jsx)("p",{children:i.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:je?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"new-data",children:Object(b.jsx)(v,{speedRate:B,data:G[p]})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.unlock_time"),Object(b.jsx)(f.a,{title:i.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"old-data",children:Y})})]})]}),Object(b.jsxs)("div",{className:"warning mt-20",children:[Object(b.jsxs)("div",{className:"flex aic warning-title ",children:[Object(b.jsx)("span",{children:i.a.get("farm.note")}),Object(b.jsx)("img",{className:"ml-4",src:h,alt:""})]}),Object(b.jsx)("div",{className:"warning-content",children:i.a.get("farm.text_33")})]}),Object(b.jsx)("div",{className:"flex jcc mt-30",children:Object(b.jsx)("button",{className:"common-btn",disabled:de||je,onClick:pe,children:!Object(d.a)(ne).gt(0)||Object(d.a)(ne).gt($)?i.a.get("farm.valid_amount"):i.a.get("farm.unlock_asset_extend")})})]})]})})})})};a(6),a(29);var A=e=>{const t=Object(s.d)((()=>o.default.network)),{modalShow:a,closeModal:n,poolId:j,stakeVersion:p,farmType:u}=t,O=Object(s.d)((()=>o.default.system)),h=Object(s.d)((()=>"pump"===u?o.default.pumpFarmStore:o.default.farmStore)),[g,k]=Object(c.useState)(-2),[y,N]=Object(c.useState)(-2),[S,D]=Object(c.useState)("--"),[C,T]=Object(c.useState)(""),[L,M]=Object(c.useState)("--"),[A,P]=Object(c.useState)("--"),[I,H]=Object(c.useState)(!1),[Y,F]=Object(c.useState)(1),[B,E]=Object(c.useState)("--"),[R,U]=Object(c.useState)("--"),[Z,V]=Object(c.useState)("--"),[z,q]=Object(c.useState)("month"),[W,K]=Object(c.useState)(!1),{farmPools:G,kRate:Q,monthTime:X,dayTime:J}=r.a;let $=!1,ee=h.farmData;const{symbol:te,allowance:ae,token:ce,stakedBalanceNew:se,remainingTime:le,lockDuration:ne,multiple:ie}=ee[j],oe=I||g<0&&!C&&"month"===z||y<0&&!C&&"day"===z,re=()=>{n()},de=(e,t)=>{if("month"===t){k(e),-1===e&&(console.log(C),C||H(!1),console.log(C,222),D(C)),D(e);const t=Object(d.u)(ne/X),a=Object(d.u)(Number(e)+Number(t));-1!==e&&e<r.a.minLockDuration?(H(!0),F(2),T("")):-1!==e&&a>r.a.maxLockDuration?(H(!0),F(1),T("")):-1!==e&&(H(!1),T(""))}if("day"===t){N(e),-1===e&&(C||H(!1),D(C)),D(e);const t=ne/J,a=Object(d.u)(Number(e)+Number(t));-1!==e&&e<r.a.minLockDaysDuration?(H(!0),F(2),T("")):-1!==e&&a>r.a.maxLockDaysDuration?(H(!0),F(1),T("")):-1!==e&&(H(!1),T(""))}},je=e=>{const t=e.replace(/^[^1-9]+|[^0-9]/g,"");if(T(t),"month"===z){const e=Object(d.u)(ne/X),a=Object(d.a)(Number(t)+Number(e))._toFixed(2,1);t<r.a.minLockDuration&&t?(H(!0),F(2)):a>r.a.maxLockDuration?(H(!0),F(1)):H(!1)}else if("day"===z){const e=ne/J,a=Object(d.a)(Number(t)+Number(e))._toFixed(2,1);t<r.a.minLockDaysDuration&&t?(H(!0),F(2)):a>r.a.maxLockDaysDuration?(H(!0),F(1)):H(!1)}};Object(c.useEffect)((()=>{me()}),[g,S,C,z]);const me=()=>{if(oe)M("--"),P("--");else{const e=-1===g||-1===y?C:S;if("month"===z){const t=Object(d.u)(ne/X),a=Object(d.a)(Number(e)+Number(t))._toFixed(2,1);if(V(a),e<r.a.minLockDuration&&e)H(!0),F(2),M("--"),P("--");else if(a>r.a.maxLockDuration)H(!0),F(1),M("--"),P("--");else{H(!1);const t=1e3*parseInt(le);M(x()(t).format("YYYY-MM-DD HH:mm"));const c=Number(t)+Number(e*X*1e3);P(x()(c).format("YYYY-MM-DD HH:mm")),U(ie),E(1+Q*a*30)}}else if("day"===z){const t=ne/J,a=Object(d.a)(Number(e)+Number(t))._toFixed(2,1);if(V(a),e<r.a.minLockDaysDuration&&e)H(!0),F(2),M("--"),P("--");else if(a>r.a.maxLockDaysDuration)H(!0),F(1),M("--"),P("--");else{H(!1);const t=1e3*parseInt(le);M(x()(t).format("YYYY-MM-DD HH:mm"));const c=Number(t)+Number(e*J*1e3);P(x()(c).format("YYYY-MM-DD HH:mm")),U(ie),E(1+Q*a)}}}},be=async()=>{try{if(ae.lt(Object(d.ib)(se))&&!$){const e={action:"approve",title:"deposit.approve_token",obj:{value:te},continuous:!0};await O.toApproveLP(ce,G[j].lpStaker,e)&&($=!0,pe())}else pe()}catch(e){}},pe=async()=>{try{const e={title:"actions.stake_lp",obj:{value:Object(d.u)(Object(d.ib)(se)),symbol:te}};let a="";const c=-1===g||-1===y?C:S,s="month"===z?c*X:c*J,l=r.a.flexibleKeys.includes(G[j].id)?"depositLPFarmNoflexible":"depositLPFarm";a=await O[l](G[j].lpStaker,t.defaultAccount,0,s,e),a&&(n(),setTimeout((()=>{h.updateData(j)}),5e3))}catch(e){console.log(e)}},ue=e=>{T(),k(-2),N(-2),H(!1),q(e)};return Object(b.jsx)(s.a,{children:()=>Object(b.jsxs)(m.a,{open:"Sun3ExtendTimeModal"===a,title:i.a.get("farm.extened"),width:430,zIndex:999,footer:null,className:"farm-modal fixed-lock-modal",maskClosable:!1,onCancel:re,titleLeft:!0,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"lock-desc-title",children:i.a.get("farm.amount_locked")}),Object(b.jsxs)("div",{className:"big-amount",children:[Object(b.jsx)("span",{className:"mr-6",children:Object(d.u)(se,{dp:18,cutZero:18})}),Object(b.jsx)("span",{children:te})]})]}),Object(b.jsxs)("div",{className:"mt-30",children:[Object(b.jsx)("div",{className:"lock-desc-title",children:i.a.get("farm.extend_for")}),Object(b.jsxs)("div",{className:"lock-time flex aic jcsb",children:[Object(b.jsxs)("div",{className:"lm-radio-btn",children:[Object(b.jsx)("button",{className:"month"===z?"active":"",onClick:()=>ue("month"),children:Object(b.jsx)(f.a,{title:i.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:i.a.get("farm.by_month")})}),Object(b.jsx)("button",{className:"day"===z?"active":"",onClick:()=>ue("day"),children:i.a.get("farm.by_day")})]}),"month"===z&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(I?"errorWeek":""),onClick:e=>de(-1,"month"),children:Object(b.jsx)(l.a,{value:C,onChange:e=>je(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_month")})})}),"day"===z&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===y?"current last":"last"," ").concat(I?"errorWeek":""),onClick:e=>de(-1,"day"),children:Object(b.jsx)(l.a,{value:C,onChange:e=>je(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_day")})})})]}),Object(b.jsxs)("div",{className:"lc-date mt-16",children:["month"===z&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"lm-date jcsb",children:[Object(b.jsxs)("span",{className:1===g?"current":"",onClick:()=>de(1,"month"),children:["1 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:6===g?"current":"",onClick:()=>de(6,"month"),children:["6 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:12===g?"current":"",onClick:()=>de(12,"month"),children:["12 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:24===g?"current":"",onClick:()=>de(24,"month"),children:["24 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:36===g?"current":"",onClick:()=>de(36,"month"),children:["36 ",i.a.get("farm.suffix_month")]})]})}),"day"===z&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"lm-date jcsb",children:[Object(b.jsxs)("span",{className:30===y?"current":"",onClick:()=>de(30,"day"),children:["30 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:60===y?"current":"",onClick:()=>de(60,"day"),children:["60 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:90===y?"current":"",onClick:()=>de(90,"day"),children:["90 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:120===y?"current":"",onClick:()=>de(120,"day"),children:["120 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:150===y?"current":"",onClick:()=>de(150,"day"),children:["150 ",i.a.get("farm.suffix_day")]})]})}),I&&Object(b.jsx)("div",{className:"common-error",style:{textAlign:"left"},children:"month"===z?1===Y?i.a.getHTML("farm.extend_warning",{max_lock_duration:r.a.maxLockDuration,extend:-1===g?Object(d.u)(Object(d.a)(C).plus(ne/X),{cutZero:!0}):Object(d.u)(Object(d.a)(S).plus(ne/X),{cutZero:!0})}):i.a.getHTML("farm.text_10",{min_lock_duration:r.a.minLockDuration}):1===Y?i.a.getHTML("farm.extend_warning_day",{max_lock_duration_d:r.a.maxLockDaysDuration,extend_d:-1===y?Object(d.u)(Object(d.a)(C).plus(ne/J),{cutZero:!0}):Object(d.u)(Object(d.a)(S).plus(ne/J),{cutZero:!0})}):i.a.getHTML("farm.extend_warning_min_day",{min_lock_duration_d:r.a.minLockDaysDuration})})]}),Object(b.jsx)("div",{className:"lock-desc-title mt-30",children:i.a.get("farm.lock_overview")}),Object(b.jsxs)("div",{className:"lc-info",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_amount")}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"old-data",children:Object(d.u)(se,{dp:G[j].showDp,cutZero:!0,miniText:G[j].miniText})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:[i.a.get("farm.lock_duration"),Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:oe?Object(b.jsx)("span",{className:"old-data",children:"--"}):"month"===z?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"old-data",children:[Object(d.u)(ne/X,{cutZero:!0})," ",i.a.get("farm.month_unit"),Object(b.jsx)(w,{})]}),Object(b.jsxs)("span",{className:"new-data"+(I?"red":""),children:[Z," ",i.a.get("farm.month_unit")]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"old-data",children:[Object(d.u)(ne/J,{cutZero:!0})," ",i.a.get("farm.extend_day"),Object(b.jsx)(w,{})]}),Object(b.jsxs)("span",{className:"new-data"+(I?"red":""),children:[Z," ",i.a.get("farm.extend_day")]})]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:["APY",Object(b.jsx)(f.a,{title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:i.a.get("farm.text_12")}),Object(b.jsx)("p",{children:i.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:oe?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)(v,{speedRate:B,oldSpeedRate:R,data:ee[j]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.old_unlock_time")}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"old-data",children:L})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.new_unlock_time"),Object(b.jsx)(f.a,{title:i.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"--"===A?"old-data":"new-data",children:A})})]})]}),Object(b.jsx)("div",{className:"flex jcc",children:Object(b.jsx)("button",{className:"common-btn mt-30",disabled:oe,onClick:be,children:i.a.get("farm.confirm_extend")})})]})]})})};var P=e=>{const t=Object(s.d)((()=>o.default.system)),a=Object(s.d)((()=>o.default.network)),{modalShow:n,closeModal:j,poolId:p,farmType:u}=a,O=Object(s.d)((()=>"pump"===u?o.default.pumpFarmStore:o.default.farmStore)),[g,k]=Object(c.useState)(-2),[y,w]=Object(c.useState)(-2),[N,S]=Object(c.useState)(""),[D,C]=Object(c.useState)(!1),[T,M]=Object(c.useState)(1),[A,P]=Object(c.useState)(!0),[I,H]=Object(c.useState)(""),[Y,F]=Object(c.useState)(""),[B,E]=Object(c.useState)(""),[R,U]=Object(c.useState)(!1),{farmPools:Z,kRate:V,monthTime:z,dayTime:q}=r.a;let W=O.farmData;const{symbol:K,precision:G,decimal:Q,stakedBalanceNew:X,lockRewards:J,lockDuration:$,remainingTime:ee,governanceRewards:te}=W[p],[ae,ce]=Object(c.useState)(""),[se,le]=Object(c.useState)(""),[ne,ie]=Object(c.useState)("month"),oe=D||!N&&!I&&!A;Object(c.useEffect)((()=>{le(Object(d.u)(X,{dp:Q,cutZero:!0}))}),[W[p]]);const re=()=>{j()},de=(e,t)=>{"month"===t?(k(e),-1===e?H(N):e<r.a.minLockDuration?(C(!0),M(2),S("")):e>r.a.maxLockDuration?(C(!0),M(1),S("")):(C(!1),S("")),H(e)):"day"===t&&(w(e),-1===e?H(N):e<r.a.minLockDaysDuration?(C(!0),M(2),S("")):e>r.a.maxLockDaysDuration?(C(!0),M(1),S("")):(C(!1),S("")),H(e))},je=e=>{const t=e.replace(/^[^1-9]+|[^0-9]/g,"");S(t),"month"===ne?t<r.a.minLockDuration&&t?(C(!0),M(2)):t>r.a.maxLockDuration?(C(!0),M(1)):C(!1):"day"===ne&&(t<r.a.minLockDaysDuration&&t?(C(!0),M(2)):t>r.a.maxLockDaysDuration?(C(!0),M(1)):C(!1))};Object(c.useEffect)((()=>{me()}),[A,ae,N,I,ne]);const me=()=>{if(oe)F("--");else if(A){H(Object(d.u)($/z)),E(1+V*($/z)*30);const e=1e3*parseInt(ee);F(x()(e).format("YYYY-MM-DD HH:mm"))}else{const e=-1===g||-1===y?N:I;if(H(e),"month"===ne)if(e<r.a.minLockDuration&&e)C(!0),M(2),F("--");else if(e>r.a.maxLockDuration)C(!0),M(1),F("--");else{C(!1);const t=a.nowTime,c=Number(t)+Number(e*z*1e3);F(x()(c).format("YYYY-MM-DD HH:mm")),E(1+V*e*30)}else if("day"===ne)if(e<r.a.minLockDaysDuration&&e)C(!0),M(2),F("--");else if(e>r.a.maxLockDaysDuration)C(!0),M(1),F("--");else{C(!1);const t=a.nowTime,c=Number(t)+Number(e*q*1e3);F(x()(c).format("YYYY-MM-DD HH:mm")),E(1+V*e)}}},be=async()=>{if(Object(d.ib)(J).plus(te).gt(0)){const e={title:"actions.claim_lp",obj:{value:Object(d.u)(Object(d.ib)(Object(d.a)(J).plus(te))),symbol:"USDD"}};let a="";const c="month"===ne?I*z:I*q,s=r.a.flexibleKeys.includes(Z[p].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm";a=await t[s](Z[p].lpStaker,0,c,e),a&&(j(),setTimeout((()=>{O.updateData(p)}),5e3))}},pe=e=>{S(),H(),k(-2),w(-2),C(!1),ie(e)};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3ClaimAndExtendModal"===n,title:i.a.get("farm.claim_extend"),width:430,zIndex:999,footer:null,className:"farm-modal fixed-lock-modal",maskClosable:!1,onCancel:re,titleLeft:!0,children:Object(b.jsx)("div",{children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"lock-desc-title stake-tooltip flex aic mb-0",children:[i.a.get("farm.withdraw")," ",Object(b.jsx)(f.a,{title:i.a.get("farm.text_47"),placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsxs)("div",{className:"big-amount",children:[Object(b.jsx)("span",{children:Object(d.u)(Object(d.a)(J).plus(te),{cutZero:!0,miniText:.01})})," ",Object(b.jsx)("span",{children:"USDD"})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"mt-30",children:[Object(b.jsxs)("div",{className:"lock-desc-title mb-0",children:[i.a.get("farm.lock_duration_week"),!A&&Object(b.jsx)("span",{className:"link-text cp ml-4",onClick:e=>{P(!0),C(!1),S("")},children:i.a.get("farm.default")})]}),A&&Object(b.jsxs)("div",{className:"big-amount",children:[Object(b.jsx)("span",{children:Object(d.u)($/z)})," ",Object(b.jsx)("span",{children:i.a.get("farm.extend_week2")}),A&&Object(b.jsx)("img",{className:"cp ml-4",src:L,onClick:e=>{return t=!1,S(),H(),k(-2),w(-2),C(!1),void P(t);var t},alt:""})]})]}),!A&&Object(b.jsxs)("div",{className:"flex aic jcsb mt-20",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"lm-radio-btn",children:[Object(b.jsx)("button",{className:"month"===ne?"active":"",onClick:()=>pe("month"),children:Object(b.jsx)(f.a,{title:i.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:i.a.get("farm.by_month")})}),Object(b.jsx)("button",{className:"day"===ne?"active":"",onClick:()=>pe("day"),children:i.a.get("farm.by_day")})]})}),"month"===ne&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(D?"errorWeek":""),onClick:e=>de(-1,"month"),children:Object(b.jsx)(l.a,{value:N,onChange:e=>je(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_month")})})}),"day"===ne&&Object(b.jsx)("div",{className:"lm-input",style:{width:200},children:Object(b.jsx)("span",{className:"".concat(-1===y?"current last":"last"," ").concat(D?"errorWeek":""),onClick:e=>de(-1,"day"),children:Object(b.jsx)(l.a,{value:N,onChange:e=>je(e.target.value),placeholder:i.a.get("farm.define_myself"),suffix:i.a.get("farm.suffix_input_day")})})})]}),D&&Object(b.jsx)("div",{className:"common-error",children:"month"===ne?1===T?i.a.getHTML("farm.text_9",{max_lock_duration:r.a.maxLockDuration}):i.a.getHTML("farm.text_10",{min_lock_duration:r.a.minLockDuration}):1===T?i.a.getHTML("farm.text_9_day",{max_lock_duration_d:r.a.maxLockDaysDuration}):i.a.getHTML("farm.text_10_day",{min_lock_duration_d:r.a.minLockDaysDuration})}),!A&&Object(b.jsx)("div",{className:"detail",children:Object(b.jsxs)("div",{className:"lc-date mt-10",children:["month"===ne&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"mt-16 lm-date jcsb",children:[Object(b.jsxs)("span",{className:1===g?"current":"",onClick:()=>de(1,"month"),children:["1 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:6===g?"current":"",onClick:()=>de(6,"month"),children:["6 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:12===g?"current":"",onClick:()=>de(12,"month"),children:["12 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:24===g?"current":"",onClick:()=>de(24,"month"),children:["24 ",i.a.get("farm.suffix_month")]}),Object(b.jsxs)("span",{className:36===g?"current":"",onClick:()=>de(36,"month"),children:["36 ",i.a.get("farm.suffix_month")]})]})}),"day"===ne&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"mt-16 lm-date jcsb",children:[Object(b.jsxs)("span",{className:30===y?"current":"",onClick:()=>de(30,"day"),children:["30 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:60===y?"current":"",onClick:()=>de(60,"day"),children:["60 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:90===y?"current":"",onClick:()=>de(90,"day"),children:["90 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:120===y?"current":"",onClick:()=>de(120,"day"),children:["120 ",i.a.get("farm.suffix_day")]}),Object(b.jsxs)("span",{className:150===y?"current":"",onClick:()=>de(150,"day"),children:["150 ",i.a.get("farm.suffix_day")]})]})})]})})]}),Object(b.jsx)("div",{className:"lock-desc-title mt-30",children:i.a.get("farm.lock_overview")}),Object(b.jsxs)("div",{className:"lc-info",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_amount")}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"old-data",children:Object(d.u)(X,{dp:Z[p].showDp,cutZero:!0,miniText:Z[p].miniText})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:[i.a.get("farm.lock_duration"),Object(b.jsx)(f.a,{title:i.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:oe?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsxs)("span",{className:"old-data",children:[I," ","month"===ne?i.a.get("farm.month_unit"):i.a.get("farm.extend_day")]})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:"flex aic",children:["APY",Object(b.jsx)(f.a,{title:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:i.a.get("farm.text_12")}),Object(b.jsx)("p",{children:i.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:oe?Object(b.jsx)("span",{className:"old-data",children:"--"}):Object(b.jsx)("span",{className:"old-data",children:Object(b.jsx)(v,{speedRate:B,data:W[p]})})})]}),Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{children:[i.a.get("farm.unlock_time"),Object(b.jsx)(f.a,{title:i.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",children:Object(b.jsx)(_.a,{className:"ml-4"})})]}),Object(b.jsx)("span",{children:Object(b.jsx)("span",{className:"old-data",children:Y})})]})]}),Object(b.jsxs)("div",{className:"warning mt-20",children:[Object(b.jsxs)("div",{className:"flex aic warning-title ",children:[Object(b.jsx)("span",{children:i.a.get("farm.note")}),Object(b.jsx)("img",{className:"ml-4",src:h,alt:""})]}),Object(b.jsxs)("div",{className:"warning-content",children:[i.a.get("farm.text_34")," ",i.a.get("farm.text_35"),Object(b.jsx)("span",{className:"purple-color cp",onClick:()=>{a.setData({modalShow:"Sun3UnlockToClaimModal",poolId:p})},children:i.a.get("farm.text_36")})]})]}),Object(b.jsx)("div",{className:"flex jcc mt-30",children:Object(b.jsx)("button",{className:"common-btn",disabled:oe,onClick:be,children:i.a.get("farm.claim_extend")})})]})})})})},I=a.p+"static/media/warn_tip.d7af1784.svg";var H=e=>{const t=Object(s.d)((()=>o.default.system)),a=Object(s.d)((()=>o.default.network)),{modalShow:c,closeModal:l,poolId:n,farmType:j}=a,p=Object(s.d)((()=>"pump"===j?o.default.pumpFarmStore:o.default.farmStore)),u=p.farmData[n],{symbol:O,id:x,tokenAddress:f,tokenAddress2:h,version:_,lpStaker:g}=u,k=(window.localStorage.getItem("lang")||i.a.options.currentLocale,()=>{l()}),y=async()=>{let e="";e=await t.emergencyWithdraw(g,a.defaultAccount,{title:"farm.emergency_withdrawal"}),e&&(l(),setTimeout((()=>{p.updateData(n)}),5e3))};return Object(b.jsx)(s.a,{children:()=>Object(b.jsx)(m.a,{open:"Sun3EmergencyWithdrawModal"===c,title:i.a.get("farm.emergency_withdrawal"),width:430,zIndex:999,footer:null,className:"farm-modal",maskClosable:!1,onCancel:k,centered:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"flex mb-20",style:{justifyContent:"center"},children:Object(b.jsx)("img",{src:I,alt:""})}),Object(b.jsxs)("div",{className:"lc-info",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.withdraw_amount")}),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{className:"claim-amount",children:Object(d.u)(u.stakedBalanceNew,{dp:r.a.farmPools[n].showDp,cutZero:!0,miniText:r.a.farmPools[n].miniText})})," ",u.symbol]})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:i.a.get("farm.lock_rewards")}),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{className:"lock-rewards",children:Object(d.u)(u.lockRewards,{dp:r.a.farmPools[n].showDp,cutZero:!0,miniText:.01})})," ","USDD"]})]})]}),Object(b.jsx)("div",{className:"common-error mt-20",children:Object(b.jsx)("span",{children:i.a.get("farm.withdraw_warn")})}),Object(b.jsx)("div",{className:"flex jcc",children:Object(b.jsx)("button",{className:"common-btn mt-30",onClick:y,children:i.a.get("farm.withdraw_btn_text")})})]})})})};t.a=e=>Object(b.jsx)(s.a,{children:()=>Object(b.jsxs)(b.Fragment,{children:["Sun3AddLiqModal"===e.modalShow&&Object(b.jsx)(p,{cb:e.cb}),"Sun3RemoveLiqModal"===e.modalShow&&Object(b.jsx)(u,{cb:e.cb}),"Sun3LockModal"===e.modalShow&&Object(b.jsx)(N,{cb:e.cb}),"Sun3LockExtendModal"===e.modalShow&&Object(b.jsx)(D,{cb:e.cb}),"Sun3AutoExtendModal"===e.modalShow&&Object(b.jsx)(C,{cb:e.cb}),"Sun3DiffModal"===e.modalShow&&Object(b.jsx)(T,{cb:e.cb}),"Sun3UnlockToClaimModal"===e.modalShow&&Object(b.jsx)(M,{cb:e.cb}),"Sun3ExtendTimeModal"===e.modalShow&&Object(b.jsx)(A,{cb:e.cb}),"Sun3ClaimAndExtendModal"===e.modalShow&&Object(b.jsx)(P,{cb:e.cb}),"Sun3EmergencyWithdrawModal"===e.modalShow&&Object(b.jsx)(H,{cb:e.cb})]})})},1432:function(e,t,a){"use strict";var c=a(1),s=a(318),l=a(11),n=a.n(l),i=a(81),o=a(120),r=a(65),d=a.n(r),j=a(17),m=a.n(j),b=a(1297),p=a(1202),u=a(1204),O=a(1137),x=a(1112),f=a(1160),h=a(1332),_=a(110),g=a(3);var k=e=>{const{title:t,link:a,flexible:c,stakeTip1:s,stakeTip2:l,lockBtn:n,lockDisabled:i,flexibleBtn:o,flexibleDisabled:r}=e,d=Object(_.default)(_.isMobileOnlyMedia);return Object(g.jsxs)(O.a,{className:c?"":h.flex_card,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(f.a)(t,a)}),!c&&Object(g.jsxs)("div",{className:h.stake_tip+" mb-12",children:[Object(g.jsx)("div",{className:"mb-8 mt-8",children:s}),Object(g.jsx)("div",{onClick:()=>e.stakeTipClick&&e.stakeTipClick(),children:l})]})]}),Object(g.jsxs)("div",{className:h.flex_card_button,children:[!c&&Object(g.jsx)(x.a,{btnClsName:d?"":"mb-12",type:"primary",disabled:i,onClick:()=>e.lockClick&&e.lockClick(),text:n,size:"small"}),Object(g.jsx)(x.a,{type:"border",disabled:r,onClick:()=>e.flexibleClick&&e.flexibleClick(),text:o,size:"small"})]})]})},y=a(1294),w=a(87),v=a(5),N=a(43),S=a(0),D=a(29),C=a(1258),T=a(1259),L=a(1062),M=(a(1333),a(1072)),A=a(1071);L.a.extend(A);const P=e=>{const t=Object(i.d)((()=>w.default.network)),a=Object(i.d)((()=>w.default.farmStore)),[l,o]=Object(c.useState)((()=>{var c;const s=null===(c=a.farmData[e.id])||void 0===c?void 0:c.remainingTime;return parseInt(s)-parseInt(t.nowTime/1e3)}));!function(e,t){const a=Object(c.useRef)();Object(c.useEffect)((()=>{a.current=e}),[e]),Object(c.useEffect)((()=>{function e(){a.current()}if(null!==t){let a=setInterval(e,t);return()=>clearInterval(a)}}),[t])}((()=>{const c=a.farmData[e.id],s=null===c||void 0===c?void 0:c.remainingTime,l=parseInt(s),n=parseInt(t.nowTime/1e3),i=l-n>0?l-n:0;0==i&&a.updateData(e.id),o(i)}),1e3);return Object(g.jsx)("span",{className:"flex aic jcs",children:(e=>{if(e>=0){if(e>=N.a.monthTime){const t=Object(S.u)(e/N.a.monthTime);return Object(g.jsxs)("div",{className:"flex aic jcs",children:[t," ",n.a.get("farm.countdown_month")," ",Object(g.jsx)(s.a,{title:n.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",arrowPointAtCenter:!0,children:Object(g.jsx)("img",{className:"tooltip-img",src:M.a,alt:""})})]})}if(e>=86400){const t=Object(S.u)(e/86400);return Object(g.jsxs)(g.Fragment,{children:[t," ",n.a.get("farm.countdown_days")]})}const t=1e3*e;return Object(g.jsxs)(g.Fragment,{children:[L.a.duration(t).hours(),":",String(L.a.duration(t).minutes()).padStart(2,"0"),":",String(L.a.duration(t).seconds()).padStart(2,"0")]})}return""})(l)})};a(971),a(1334),a(1335);function I(e){const[t,a]=Object(c.useState)(!1),s=(t,a)=>{let c=e.reverse,s="next"==a,l=e[c?"min":"max"],n=e[c?"max":"min"];return s?t==l?n:t+(c?-1:1):t==n?l:t+(c?1:-1)};Object(c.useEffect)((()=>{a(!t)}),[e.now]);const l=e=>{let a=s(e,"prev"),c=[e,a,s(a,"prev")];return c[t?"push":"unshift"](t?s(a,"prev"):s(e,"next")),c};return Object(g.jsx)(i.a,{children:()=>Object(g.jsx)("div",{className:"cards",children:l(e.now).map(((t,a)=>Object(g.jsx)("div",{className:"card".concat(t==e.now?" now":""),children:Object(g.jsx)("div",{className:"sides",children:["front","back"].map((e=>Object(g.jsx)("div",{className:"side ".concat(e),children:Object(g.jsx)("div",{className:"side-num",children:"front"==e?t:s(t,"next")})},"side".concat(e))))})},"flip-card".concat(a))))})})}a(1336);let H=null;function Y(e){const t=Object(i.d)((()=>w.default.network)),a=Object(i.d)((()=>w.default.farmStore)),[s,l]=Object(c.useState)(a.farmData[e.id].start||e.start),[n,o]=Object(c.useState)(a.farmData[e.id].diff||{}),[r,d]=Object(c.useState)(a.farmData[e.id].end||e.end);Object(c.useEffect)((()=>{b(n)?j():H=window.setTimeout((()=>{m(),b()&&j()}),1e3)}),[s]);const j=()=>{window.clearTimeout(H),t.setData({isTimeOver:!0}),e.onStop&&e.onStop()},m=()=>{var t=Math.abs(r-s),c=Math.floor(t/1e3),n=Math.floor(c/60),i=Math.floor(n/60);Math.floor(i/24);const d={hours:i%24,minutes:n%60,seconds:c%60},j=s+1e3;Object(S.a)(r).isNaN()||Object(S.a)(s).isNaN()||(o(d),l(j),a.farmData[e.id].diff=d,a.farmData[e.id].start=j)},b=()=>r&&s>r;let p={days:[[0,9],[0,9]],hours:[[0,2],[0,4]],minutes:[[0,5],[0,9]],seconds:[[0,5],[0,9]]};return Object(g.jsx)(i.a,{children:()=>Object(g.jsx)("div",{className:"countdown",children:Object.keys(n).map((e=>Object(g.jsx)("div",{className:"countdown-".concat(e),children:Array(2).fill(0).map(((t,a)=>{return Object(g.jsx)(I,{reverse:!0,now:+(c=n[e],(c<10?"0"+c:c)+"")[a],min:p[e][a][0],max:p[e][a][1]},"".concat(e).concat(a));var c}))},e)))})})}function F(e){var t,a;Object(i.d)((()=>w.default.pool)),Object(i.d)((()=>w.default.network));const s=Object(i.d)((()=>w.default.farmStore)),[l,o]=Object(c.useState)((new Date).getTime()),[r,d]=Object(c.useState)(1e3*(null===(t=s.farmData[e.id])||void 0===t?void 0:t.remainingTime)+1e3*N.a.unfreezeTime),j=1e3*(null===(a=s.farmData[e.id])||void 0===a?void 0:a.remainingTime)+1e3*N.a.unfreezeTime;Object(c.useEffect)((()=>{m()}),[]);const m=async()=>{try{const t=await Object(D.B)();if(t.success){const a=t.time;o(a),d(j),s.farmData[e.id].start=a,s.farmData[e.id].end=r}}catch(t){console.log("get time error",t),setTimeout((()=>{m()}),3e3)}};return Object(g.jsx)(i.a,{children:()=>Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"count-down-wrap",children:[Object(g.jsx)("div",{className:"count",children:Object(g.jsx)(Y,{start:l,end:r,id:e.id,onStop:e.stopCount})}),Object(g.jsxs)("div",{className:"countdesc",children:[Object(g.jsx)("span",{className:"cd-hour",children:n.a.get("century.h")}),Object(g.jsxs)("span",{className:"cd-minute",children:[n.a.get("century.m")," "]}),Object(g.jsx)("span",{className:"cd-second",children:n.a.get("century.s")})]})]})})})}var B=a(71),E=a(1261),R=a(261),U=a(1203),Z=a.p+"static/media/suprise.dca394af.png",V=a(193),z=a(109);t.a=e=>{const{farmType:t}=e,a=Object(o.a)(window.navigator).any,l=Object(i.d)((()=>w.default.network)),r=Object(i.d)((()=>w.default.system)),j=Object(i.d)((()=>"pump"===t?w.default.pumpFarmStore:w.default.farmStore)),{tokens:h}=v.default,{setData:L,isConnected:M}=l,A=e.data;let I=window.localStorage.getItem("lang");const H=e.id,[Y,q]=Object(c.useState)(1),[W,K]=Object(c.useState)("");let G=null;const{disableDeposit:Q}=j,X=Object(z.useCurrentTheme)(),J=Object(_.default)(_.isMobileOnlyMedia),$=(null===A||void 0===A?void 0:A.gift[0])||"USDD";Object(c.useEffect)((()=>{Object(S.a)(A.stakedBalanceNew).isNaN()||Object(S.a)(A.stakedBalanceNew).lte(0)?q(1):Object(S.a)(A.stakedBalanceNew).gt(0)&&0!==A.lockDuration&&A.remainingTime>=l.nowTime/1e3?q(2):Object(S.a)(A.stakedBalanceNew).gt(0)&&0!==A.lockDuration&&A.remainingTime<l.nowTime/1e3?q(3):Object(S.a)(A.stakedBalanceNew).gt(0)&&0===A.lockDuration&&q(4)}),[A.stakedBalanceNew,A.lockDuration,A.remainingTime]);let ee=Object(S.a)(A.balance).isNaN();const te=async(t,a)=>{if("img"===t.target.tagName.toLowerCase())return;if(!M)return void L({loginModalVisible:!0,loginModalStep:1});const c={title:"actions.claim_lp",obj:{value:Object(S.u)(Object(S.a)(A.lockRewards).plus(A.governanceRewards)),symbol:A.gift[0].toUpperCase()}},s=N.a.flexibleKeys.includes(A.id)?"withdrawLPFarmNoflexible":"withdrawLPFarm";let l="";l=await r[s](A.lpStaker,0,0,c),l&&setTimeout((()=>{j.updateData(e.id)}),5e3),Object(B.a)({action:B.b.claim,event_category:B.j.farm})},ae=async()=>{var t;if(!M)return void L({loginModalVisible:!0,loginModalStep:1});const a={title:"actions.claim_lp",obj:{value:Object(S.u)(A.governanceRewards),symbol:null===(t=A.gift[0])||void 0===t?void 0:t.toUpperCase()}};await r.claimGovernanceRewards(A.lpStaker,l.defaultAccount,a)&&setTimeout((()=>{j.getGovernanceRewradsForSingle(e.id)}),5e3),Object(B.a)({action:B.b.claim,event_category:B.j.farm})},ce=()=>{L(M?{modalShow:"Sun3AddLiqModal",poolId:A.farmId,farmType:t}:{loginModalVisible:!0,loginModalStep:1}),Object(B.a)({action:B.b.flexible_staking,event_category:B.j.farm})},se=()=>{L(M?{modalShow:"Sun3ClaimAndExtendModal",poolId:A.farmId,farmType:t}:{loginModalVisible:!0,loginModalStep:1})},le=()=>{L(M?{modalShow:"Sun3EmergencyWithdrawModal",poolId:A.farmId,farmType:t}:{loginModalVisible:!0,loginModalStep:1})},ne=()=>{L(M?{modalShow:"Sun3LockModal",poolId:A.farmId,farmType:t}:{loginModalVisible:!0,loginModalStep:1}),Object(B.a)({action:B.b.fixed_staking,event_category:B.j.farm})},ie=()=>{L({modalShow:"Sun3ExtendTimeModal",poolId:A.farmId,farmType:t})},oe=()=>{L({modalShow:"Sun3RemoveLiqModal",poolId:A.farmId,farmType:t})},re=()=>{L({modalShow:"Sun3LockExtendModal",poolId:A.farmId,farmType:t}),Object(B.a)({action:B.b.more_staking,event_category:B.j.farm})},de=()=>{L({modalShow:"Sun3UnlockToClaimModal",poolId:A.farmId,farmType:t})},je=e=>{e.stopPropagation(),l.setData({modalShow:"CalculatorModal",poolId:A.farmId,farmType:t})},me=()=>{L(M?{modalShow:"LockModal",farmType:t}:{loginModalVisible:!0,loginModalStep:1})},be=()=>{return Object(g.jsxs)("div",{className:E.liq_title,children:[Object(g.jsx)(b.a,{stakeData:A,farmName:A.id&&h[A.id].symbol,lpName:h[A.id].lpTokens&&(e=h[A.id].lpTokens,"  ( "+e.join(" + ")+" )"),subtitle:A.id&&h[A.id].subtitle,version:A.version,flexText:n.a.get("farm.flex"),lockText:N.a.flexibleKeys.includes(A.id)?"":n.a.get("farm.lock"),endedText:"Ended",farmType:t}),!A.fromSunPump&&Object(g.jsx)(ue,{})]});var e},pe=()=>{const{currentSpeed:e,futureSpeed:a}=A;return l.isConnected&&1!==Y?Object(S.a)(e).lt(1.01)&&Object(S.a)(a).lt(1.01)?Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:"lock-speed-tip",onClick:e=>L({modalShow:"LockModal",farmType:t}),children:n.a.get("farm.lock_speed_tip1")})," ",n.a.get("farm.lock_speed_tip2")]}):Object(S.a)(a).gt(e)?Object(g.jsxs)("div",{children:[n.a.get("farm.current_speed_tip"),Object(g.jsx)("span",{className:"speed-to",children:n.a.getHTML("farm.repeed1",{future_boost:Object(S.a)(a)._toFixed(2,1)})})]}):Object(S.a)(a).lte(e)?Object(g.jsxs)("div",{children:[n.a.get("farm.current_speed_tip"),Object(g.jsx)("span",{className:"speed-to",children:n.a.getHTML("farm.repeed2",{future_boost:Object(S.a)(a)._toFixed(2,1)})})]}):void 0:n.a.get("farm.current_speed_tip")},ue=()=>{const e=Object(S.a)(A.multiple),t=Object(S.a)(A.currentSpeed);Object(S.a)(A.futureSpeed).toFixed(2);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:E.speed_info,children:[[2].includes(Y)&&!N.a.flexibleKeys.includes(A.id)&&Object(g.jsxs)("div",{className:"flex start",children:[Object(g.jsx)(R.a,{toolClass:E.speed_info_tip,left:!0,tip:n.a.getHTML("farm.text_2",{max_boost:N.a.maxBoost}),needMargin:!1,children:Object(g.jsxs)("span",{className:"ml-4",children:[n.a.get("farm.fixed_speed_up")," : "]})}),Object(g.jsx)("span",{className:"mr-16",children:Object(S.a)(A.stakedBalanceNew).gt(0)?Object(S.u)(e,{dp:2}):"--"})]}),Object(g.jsxs)("div",{className:"flex start",children:[Object(g.jsx)(R.a,{toolClass:E.speed_info_tip,left:!0,tip:pe(),needMargin:!1,children:Object(g.jsxs)("span",{className:"ml-4",children:[n.a.get("farm.gov_speed_up")," : "]})}),Object(g.jsx)("span",{children:Object(S.a)(A.stakedBalanceNew).gt(0)?Object(S.u)(t,{dp:2}):"--"}),Object(g.jsx)("img",{src:"dark"===X?C.a:T.a,onClick:je,alt:"",style:{margin:"0 16px",cursor:"pointer"}})]}),Object(g.jsx)("div",{className:E.pc_show,children:Object(g.jsx)(x.a,{type:"primary",onClick:me,disabled:Q,text:n.a.get("newStake.mint_tips.to_lock")})})]}),Object(g.jsx)("div",{className:E.mobile_show+" mt-16",children:Object(g.jsx)(x.a,{btnClsName:E.w_100,type:"primary",onClick:me,disabled:Q,text:n.a.get("newStake.mint_tips.to_lock")})})]})},Oe=()=>{var e,t,a,c;let s=Object(S.a)(A.lockRewards).times(A.usddPrice).plus(A.stakedBalancePrice);(null===(e=A.gift)||void 0===e?void 0:e.length)>0&&(s=Object(S.a)(s).plus(Object(S.a)(A.governanceRewards).times(A.usddPrice))),j.updateTotalBlance(A.id,s);let l=A.thisWeekApyV3?Object(S.a)(A.thisWeekApyV3).gte(0)?"".concat(Object(S.t)(Object(S.a)(A.thisWeekApyV3).times(.4)),"%~").concat(Object(S.t)(A.thisWeekApyV3),"%"):"<0.00%":"--",i=(A.extraRewardApy&&(Object(S.a)(A.extraRewardApy).gte(0)&&"".concat(Object(S.t)(A.extraRewardApy),"%")),l);if(!Object(S.a)(A.extraRewardApy).isNaN()&&!Object(S.a)(A.thisWeekApyV3).isNaN()){let e=Object(S.a)(A.extraRewardApy).plus(Object(S.a)(A.thisWeekApyV3).times(.4));const t=Object(S.a)(A.extraRewardApy).plus(A.thisWeekApyV3);i=Object(S.a)(e).gte(0)?"".concat(Object(S.t)(e),"%~").concat(Object(S.t)(t),"%"):"<0.00%"}return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:E.liq_info,onClick:e=>xe(e),children:[Object(g.jsx)(p.a,{clsName:E.w_60,left:!0,infoList:[{title:n.a.get("stakes.my_position"),titleTip:n.a.get("stakes.total_value"),value:Object(S.u)(s,{dp:0,rm:1,miniText:1,needDolar:!0})},{title:n.a.get("farm.highest_apy"),titleTip:n.a.get("farm.text_1"),value:Object(S.t)(A.totalApy)+"%",valueTip:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Object(g.jsxs)("div",{className:"apy-summary",children:[!N.a.flexibleKeys.includes(A.id)&&Object(g.jsxs)("div",{children:[$," ",n.a.get("farm.fixed_apy")," :"," ",Object(g.jsx)("span",{className:"tip-fix-apy",children:Object(S.a)(e).gte(0)?"".concat(Object(S.t)(s),"% ~ ").concat(Object(S.t)(e),"%"):"<0.00%"})]}),Object(g.jsxs)("div",{children:[$," ",n.a.get("farm.flex_apy")," :"," ",Object(g.jsx)("span",{className:"tip-flex-apy",children:Object(S.a)(t).gte(0)?"".concat(Object(S.t)(t),"%"):"<0.00%"})]}),Object(g.jsxs)("div",{children:[$," ",n.a.get("farm.gov_apy")," :"," ",Object(g.jsx)("span",{className:"tip-gov-apy",children:Object(S.a)(a).gte(0)?"".concat(Object(S.t)(c),"% ~ ").concat(Object(S.t)(a),"%"):"<0.00%"})]}),!N.a.flexibleKeys.includes(A.id)&&Object(g.jsxs)("div",{children:[n.a.getHTML("farm.text_3")," "]})]})}(null===A||void 0===A?void 0:A.fixApy,null===A||void 0===A?void 0:A.flexApy,null===A||void 0===A?void 0:A.govApy,null===A||void 0===A?void 0:A.minGovApy,null===A||void 0===A?void 0:A.minFixApy),hide:N.a.flexibleKeys.includes(A.id),isHotValue:!0},{title:n.a.get("stake.apy"),titleTip:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=A.thisWeekApyV3?Object(S.a)(A.thisWeekApyV3).gte(0)?"".concat(Object(S.t)(Object(S.a)(A.minGovApy)),"%~").concat(Object(S.t)(A.thisWeekApyV3),"%"):"<0.00%":"--";return Object(g.jsxs)("div",{className:"apy-summary",children:[Object(g.jsxs)("div",{children:[$," ",n.a.get("farm.flex_apy")," :"," ",Object(g.jsx)("span",{className:"tip-flex-apy",children:Object(S.a)(t).gte(0)?"".concat(Object(S.t)(t),"%"):"<0.00%"})]}),Object(g.jsxs)("div",{children:[$," ",n.a.get("farm.gov_apy")," : ",Object(g.jsx)("span",{className:"tip-gov-apy",children:a})]})]})}(null===A||void 0===A?void 0:A.fixApy,null===A||void 0===A?void 0:A.flexApy),value:i,hide:!N.a.flexibleKeys.includes(A.id)},{title:n.a.get("newStake.liquidity.earn"),titleTip:v.default.tokens[A.id].giftEndTime?n.a.getHTML("stakes.earned_tip",{token:null===(t=A.gift[0])||void 0===t?void 0:t.toUpperCase(),time:v.default.tokens[A.id].giftEndTime}):n.a.get("stakes.earned_tip_1"),value:(null===(a=A.gift)||void 0===a?void 0:a.length)>0?null===(c=A.gift[0])||void 0===c?void 0:c.toUpperCase():"",showRightBorder:!0}]}),Object(g.jsx)(p.a,{clsName:E.w_40,center:!0,infoList:A.fromSunPump?[{title:n.a.get("newStake.liquidity.stake_total"),value:Object(S.u)(Object(S.a)(A.totalStakePriceNew),{dp:0,rm:1,miniText:1,needDolar:!0})}]:[{title:n.a.get("newStake.liquidity.stake_total"),value:Object(S.u)(Object(S.a)(A.totalStakePriceNew),{dp:0,rm:1,miniText:1,needDolar:!0})},{title:n.a.get("farm.gov_weight"),titleTip:n.a.get("governance.pool_weight_tips"),value:0==A.thisWeekWeight?"0.00":A.thisWeekWeight<.01?"<0.01":A.thisWeekWeight}]}),Object(g.jsx)("div",{className:E.pc_show,children:Object(g.jsx)(y.a,{show:A.show,onClick:e=>xe(e)})})]})})},xe=t=>{if(t.target.className.includes("question_icon")||t.target.className.includes("hover_icon"))return!1;t.stopPropagation(),e.slide(A.farmId)},fe=()=>{j.updateData(H),q(2)};Object(c.useEffect)((()=>{let e=new Date(d()(1e3*A.remainingTime+1e3*N.a.unfreezeTime).format("YYYY-MM-DD HH:mm:ss")).getTime(),t=e-l.nowTime;if(t<8646e4&&t>=864e5)G=setInterval((async()=>{const t=await Object(D.B)();let a=e-t.time;K(a/864e5)}),1e3);else{clearInterval(G),K(t/864e5)}return()=>{clearInterval(G)}}),[A.remainingTime,l.nowTime]);const he=e=>{var a;let c=(null===(a=A.gift)||void 0===a?void 0:a.length)>0;const l=Object(S.a)(A.lockRewards).times(A.usddPrice),i=Object(S.a)(Object(S.a)(A.lockRewards).plus(A.governanceRewards)).times(A.usddPrice),o=Object(S.a)(A.governanceRewards).times(A.usddPrice),r=()=>Object(g.jsxs)("div",{className:E.farm_status3_text2,children:[n.a.get("farm.time_left")," ",Object(g.jsx)("span",{className:E.farm_status3_text3,children:W>1?Object(S.u)(W)+" "+n.a.get("pool_config.day"):Object(g.jsx)(F,{id:H,stopCount:fe},H)})]});return 1===Y||4===Y?Object(g.jsxs)(O.a,{start:!0,children:[Object(g.jsx)(u.a,{title:n.a.get("newStake.liquidity.earned"),rewards:Object(S.u)(Object(S.a)(A.lockRewards).plus(A.governanceRewards),{miniText:.01})+A.gift[0].toUpperCase(),subRewards:(Object(S.a)(i).gt(1)?"\u2248 ":"")+Object(S.u)(i,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsx)("div",{children:Object(S.a)(A.lockRewards).gt(0)||Object(S.a)(A.governanceRewards).gt(0)?A.flexibleCanClaim?Object(g.jsx)(s.a,{title:A.fromSunPump?n.a.getHTML("farm.total_claim_pump"):n.a.getHTML("farm.total_claim"),children:Object(g.jsx)(x.a,{type:"primary",onClick:te,text:n.a.get("claim.claim_btn"),size:"small"})}):Object(g.jsx)(s.a,{title:n.a.getHTML("farm.text_41"),children:Object(g.jsx)(x.a,{type:"primary",disabled:!0,text:n.a.get("claim.claim_btn"),size:"small"})}):Object(g.jsx)(x.a,{type:"primary",onClick:te,disabled:!Object(S.a)(A.lockRewards).gt(0)&&!Object(S.a)(A.governanceRewards).gt(0),text:n.a.get("claim.claim_btn"),size:"small"})})]}):2===Y?Object(g.jsx)(O.a,{top:!0,children:Object(g.jsxs)("div",{style:{width:"100%"},children:[Object(g.jsx)("div",{className:"mb-6",children:n.a.get("newStake.liquidity.earned")}),Object(g.jsxs)("div",{className:E.farm_card_flex,children:[Object(g.jsxs)("div",{className:"flex-1",children:[Object(g.jsx)(u.a,{title:n.a.get("farm.gov_mining_rewards"),rewards:Object(S.u)(A.governanceRewards,{miniText:.01})+A.gift[0].toUpperCase(),subRewards:(Object(S.a)(o).gt(1)?"\u2248 ":"")+Object(S.u)(o,{dp:0,rm:1,miniText:1,needDolar:!0})}),A.fixCanClaim?Object(g.jsx)(x.a,{type:"primary",onClick:ae,disabled:!Object(S.a)(A.governanceRewards).gt(0),text:n.a.get("claim.claim_btn"),size:"small"}):Object(g.jsx)(s.a,{title:n.a.getHTML("farm.text_39",{time_window:N.a.windowDuration}),children:Object(g.jsx)("span",{children:Object(g.jsx)(x.a,{type:"primary",disabled:!0,text:n.a.get("claim.claim_btn"),size:"small"})})})]}),c&&Object(g.jsxs)("div",{className:"flex-1",children:[Object(g.jsx)(u.a,{title:n.a.get("farm.lock_rewards"),rewards:Object(S.u)(A.lockRewards,{miniText:.01})+A.gift[0].toUpperCase(),subRewards:Object(S.u)(l,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsx)(s.a,{title:n.a.getHTML("farm.text_39",{time_window:N.a.windowDuration}),children:Object(g.jsx)("span",{children:Object(g.jsx)(x.a,{type:"primary",disabled:!0,text:n.a.get("claim.claim_btn"),size:"small"})})})]})]})]})}):3===Y?Object(g.jsx)(O.a,{noCargBg:!0,children:Object(g.jsxs)("div",{className:E.farm_status3,children:[Object(g.jsxs)("div",{className:E.farm_status3_top,children:[Object(g.jsx)("img",{src:Z,alt:""}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:E.farm_status3_text1+" mb-10 mt-12",children:n.a.getHTML("farm.lock_end")}),Object(g.jsx)("div",{className:E.pc_show,children:Object(g.jsx)(r,{})})]})]}),Object(g.jsxs)("div",{className:E.farm_status3_bottom,children:[Object(g.jsx)("div",{className:E.mobile_show+" mb-16",children:Object(g.jsx)(r,{})}),Object(g.jsx)("div",{className:E.farm_status3_text2,children:n.a.getHTML("farm.unclock_your_asset",{unlock_time:d()(1e3*A.remainingTime+1e3*N.a.unfreezeTime).format("YYYY-MM-DD HH:mm")})}),Object(g.jsxs)("div",{className:E.farm_status3_text2,children:[n.a.get("farm.unclock_your_asset3"),Object(g.jsxs)(V.a,{onClick:()=>{L({modalShow:"Sun3AutoExtendModal",farmType:t})},children:[" ",n.a.get("farm.unclock_your_asset1")," "]}),n.a.get("farm.unclock_your_asset2")]})]})]})}):Object(g.jsx)(g.Fragment,{})},_e=e=>{const c=Object(S.I)(A,I),l=Object(S.a)(A.governanceRewards).times(A.usddPrice),i=Object(S.a)(A.lockRewards).times(A.usddPrice),o=()=>Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.a,{title:Object(f.a)(n.a.get("farm.available_flexible"),c),rewards:(2===A.version?Object(S.a)(A.stakedBalanceNew).eq(0)?"0.00":Object(S.u)(A.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(S.u)(A.stakedBalanceNew,{miniText:.01}))+" "+("USDCOLD Old LP"===A.symbol&&"zh-CN"===I?"Old USDCOLD LP":A.symbol),subRewards:(Object(S.a)(A.stakedBalancePrice).gt(1)?"\u2248 ":"")+Object(S.u)(A.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsx)(u.a,{style:{marginTop:a?"10px":0},title:n.a.get("stake.apy"),titleTip:n.a.get("farm.text_12"),rewards:Object(S.t)(Object(S.a)(Object(S.a)(A.flexApy)._toFixed(2,1)).plus(Object(S.a)(Object(S.a)(A.currentSpeed).times(A.minGovApy)._toFixed(2,1))))+"%",rewardsTip:ke()})]});if(1===Y)return Object(g.jsx)(k,{title:n.a.getHTML("farm.stale_lp",{LP_Name:null===A||void 0===A?void 0:A.symbol}),link:c,flexible:N.a.flexibleKeys.includes(A.id),stakeTip1:n.a.getHTML("farm.stake_tip1"),stakeTip2:n.a.get("farm.stake_tip2"),stakeTipClick:()=>L({modalShow:"Sun3DiffModal",farmType:t}),lockBtn:Object(g.jsxs)(g.Fragment,{children:[n.a.get("farm.lock_mining"),Object(g.jsx)("img",{src:U.a,alt:"",style:{marginLeft:5}})]}),lockDisabled:ee,lockClick:ne,flexibleBtn:n.a.get("farm.flexible_stake"),flexibleDisabled:ee,flexibleClick:ce});if(2===Y){const{multiple:e,currentSpeed:t,flexApy:a,fixApy:s,minGovApy:l}=A;let i=Object(S.a)(e).times(a)._toFixed(2,1),o=Object(S.a)(t).times(l).times(e)._toFixed(2,1),r=Object(S.a)(i).plus(o);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{className:E.liq_card_260,children:Object(g.jsxs)("div",{className:E.column_between,children:[Object(g.jsx)(u.a,{title:Object(f.a)(n.a.get("farm.available_fixed"),c),rewards:(2===A.version?Object(S.a)(A.stakedBalanceNew).eq(0)?"0.00":Object(S.u)(A.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(S.u)(A.stakedBalanceNew,{miniText:.01}))+("USDCOLD Old LP"===A.symbol&&"zh-CN"===I?"Old USDCOLD LP":A.symbol),subRewards:(Object(S.a)(A.stakedBalancePrice).gt(1)?"\u2248 ":"")+Object(S.u)(A.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsx)(x.a,{type:"primary",onClick:re,text:n.a.get("farm.add"),size:"small"}),Object(g.jsx)(x.a,{btnClsName:"ml-10",type:"link",onClick:le,text:n.a.get("farm.emergency_withdrawal"),size:"small"})]})]})}),Object(g.jsxs)(O.a,{center:!1,children:[Object(g.jsxs)("div",{className:E.column_between,children:[Object(g.jsx)(u.a,{title:n.a.get("farm.lock_duration_left"),rewards:Object(g.jsx)(P,{id:H},H),subRewards:n.a.getHTML("farm.unlock_on",{unlock_time:A.remainingTime>0?d()(1e3*A.remainingTime).format("YYYY-MM-DD HH:mm"):"--"})}),Object(g.jsx)("div",{className:"mt-16",children:Object(g.jsx)(x.a,{type:"primary",onClick:ie,text:n.a.get("farm.extened"),size:"small"})})]}),Object(g.jsx)(u.a,{title:"APY",titleTip:n.a.get("farm.text_12"),rewards:Object(S.t)(r)+"%",rewardsTip:ge()})]})]})}return 3===Y?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{className:E.liq_card_260,children:Object(g.jsxs)("div",{className:E.column_between,children:[Object(g.jsx)(u.a,{title:n.a.get("farm.available_asset"),rewards:(2===A.version?Object(S.a)(A.stakedBalanceNew).eq(0)?"0.00":Object(S.u)(A.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(S.u)(A.stakedBalanceNew,{miniText:.01}))+("USDCOLD Old LP"===A.symbol&&"zh-CN"===I?"Old USDCOLD LP":A.symbol),subRewards:(Object(S.a)(A.stakedBalancePrice).gt(1)?"\u2248 ":"")+Object(S.u)(A.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsx)("div",{className:"mt-16",children:Object(g.jsx)(x.a,{type:"primary",onClick:de,text:n.a.get("farm.unlocked"),size:"small"})})]})}),Object(g.jsxs)(O.a,{children:[Object(g.jsxs)("div",{className:E.column_between,children:[Object(g.jsx)(u.a,{title:n.a.get("farm.lock_rewards"),titleTip:n.a.get("farm.lock_rewards_tip"),rewards:Object(S.u)(A.lockRewards,{miniText:.01})+A.gift[0].toUpperCase(),subRewards:(Object(S.a)(i).gt(1)?"\u2248 ":"")+Object(S.u)(i,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsx)("div",{className:"mt-16",children:A.fixCanClaim?Object(g.jsx)(x.a,{type:"primary",onClick:se,text:n.a.get("farm.claim_locked_rewards"),size:"small"}):Object(g.jsx)(s.a,{title:n.a.getHTML("farm.text_41"),children:Object(g.jsx)("div",{children:Object(g.jsx)(x.a,{type:"primary",disabled:!0,text:n.a.get("farm.claim_locked_rewards"),size:"small"})})})})]}),Object(g.jsxs)("div",{className:E.column_between,children:[Object(g.jsx)(u.a,{title:n.a.get("farm.gov_mining_rewards"),rewards:Object(S.u)(A.governanceRewards,{miniText:.01})+A.gift[0].toUpperCase(),subRewards:(Object(S.a)(l).gt(1)?"\u2248 ":"")+Object(S.u)(l,{dp:0,rm:1,miniText:1,needDolar:!0})}),Object(g.jsx)("div",{className:"mt-16",children:A.fixCanClaim?Object(g.jsx)(x.a,{type:"primary",onClick:ae,text:n.a.get("header.claim"),size:"small"}):Object(g.jsx)(s.a,{title:n.a.getHTML("farm.text_41"),children:Object(g.jsx)("div",{children:Object(g.jsx)(x.a,{type:"primary",disabled:!0,text:n.a.get("header.claim"),size:"small"})})})})]})]})]}):4===Y?Object(g.jsxs)(O.a,{top:!0,children:[a?Object(g.jsx)("div",{children:Object(g.jsx)(o,{})}):Object(g.jsx)(o,{}),Object(g.jsxs)("div",{className:"flex column stretch",children:[Object(g.jsx)(x.a,{btnClsName:"mb-12",type:"primary",onClick:ce,text:n.a.get("stakes.btn_add"),size:"small"}),Object(g.jsx)(x.a,{type:"border",onClick:oe,text:n.a.get("stakes.btn_remove"),size:"small"})]})]}):Object(g.jsx)(g.Fragment,{})},ge=()=>{const{multiple:e,currentSpeed:t,flexApy:a,fixApy:c,minGovApy:s}=A;let l=Object(S.a)(e).times(a),i=Object(S.a)(t).times(s).times(e);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:[$," ",n.a.get("farm.fixed_apy")," : ",Object(S.t)(l),"%"]}),Object(g.jsxs)("p",{children:[$," ",n.a.get("farm.gov_apy")," : ",Object(S.t)(i),"%"]})]})},ke=()=>{const{multiple:e,currentSpeed:t,flexApy:a,fixApy:c,minGovApy:s}=A;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:[$," ",n.a.get("farm.flex_apy")," : ",Object(S.t)(a),"%"]}),Object(g.jsxs)("p",{children:[$," ",n.a.get("farm.gov_apy")," : ",Object(S.t)(Object(S.a)(t).times(s)),"%"]})]})},ye=()=>Object(g.jsx)(g.Fragment,{children:A.show&&Object(g.jsxs)("div",{className:E.farm_flex+" "+E.farm_margin,style:{padding:J?"0 10px 16px 10px":"0 0 16px 0"},children:[Object(g.jsx)(he,{}),Object(g.jsx)(_e,{})]})}),we=()=>Object(g.jsx)(i.a,{children:()=>Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:m()({[E.liquidity_card]:!0,[e.myClass]:!0}),children:[Object(g.jsx)(be,{}),Object(g.jsx)(Oe,{}),Object(g.jsx)(ye,{}),Object(g.jsx)("div",{className:E.mobile_show,children:Object(g.jsx)(y.a,{show:A.show,type:"text",onClick:e=>xe(e)})})]})})});return Object(g.jsx)(i.a,{children:()=>A?Object(g.jsx)(we,{}):Object(g.jsx)(g.Fragment,{})})}},1434:function(e,t,a){"use strict";var c=a(11),s=a.n(c),l=a(1),n=a.n(l),i=(a(17),a(1338),a(3));var o=a.p+"static/media/search-icon.64d170dc.svg",r=a(1339),d=a(1164),j=a(1013);s.a.get("stakes.all"),s.a.get("farm.only_locked");const m=e=>{const{stakeTabIndex:t,hasLocking:a,stakeSwitch:c,stakeSwitchLocking:l,switchChangeLocking:n,stakeTabChange:m,switchChange:b,myPoolList:p,stakeSearch:u,searchChange:O,totalBalance:x}=e;return Object(i.jsxs)("div",{className:r.pool_flex,children:[Object(i.jsxs)("div",{className:r.pool_flex,children:[Object(i.jsx)("div",{className:r.pool_btn_line,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:r.stake_switch_label,children:s.a.get("stakes.only_stake")}),Object(i.jsx)(d.b,{checked:c,onChange:b,containerType:d.a.purpleAndGray})]})}),Object(i.jsx)("div",{className:r.pool_btn_line,children:Object(i.jsx)("div",{children:(null===p||void 0===p?void 0:p.length)>0&&Object(i.jsxs)("a",{className:r.pool_setting+' "mb-16',href:"/?lang=".concat(window.localStorage.getItem("lang"),"#/pool_settings"),children:[Object(i.jsx)("img",{src:"data:image/png;base64,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",alt:"",style:{height:"36px"}}),s.a.get("pool_config.my_pool_config")]})})}),c&&Object(i.jsxs)("div",{className:r.pool_margin,children:[Object(i.jsx)("span",{className:r.stake_label,children:s.a.get("farm.total_balance")}),Object(i.jsxs)("span",{className:r.stake_balance,children:[" ",x]})]})]}),Object(i.jsxs)("div",{className:r.pool_flex,children:[a&&Object(i.jsxs)("div",{className:r.pool_margin+" mr-10",children:[Object(i.jsx)("span",{className:r.stake_switch_label,children:s.a.get("farm.only_locking")}),Object(i.jsx)(d.b,{checked:l,onChange:n,containerType:d.a.purpleAndGray})]}),Object(i.jsx)(j.a,{className:r.pool_search_input,prefix:Object(i.jsx)("img",{src:o,alt:""}),placeholder:s.a.get("stakes.input_token"),onChange:e=>O(e.target.value),value:u})]})]})};t.a=n.a.memo(m)},1436:function(e,t,a){"use strict";var c=a.p+"static/media/more_arrow_up.5e1a92ef.svg",s=a.p+"static/media/more_arrow_up_dark.5965a24f.svg",l=a(1337),n=a(109),i=a(3);t.a=e=>{const{toogleMorePoolState:t,text:a,morePoolStatus:o}=e,r=Object(n.useCurrentTheme)();return Object(i.jsxs)("div",{className:l.more_pool,onClick:()=>{t()},children:[Object(i.jsx)("span",{children:a}),Object(i.jsx)("img",{className:"ml-8",src:"dark"===r?s:c,alt:"",srcSet:"",style:{transform:o?"rotate(0deg)":"rotate(180deg)"}})]})}},1567:function(e,t,a){e.exports={poster:"style_poster__2nOHN",pump_wrap:"style_pump_wrap__3tZYz"}},2267:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ae}));var c=a(1),s=a(11),l=a.n(s),n=a(81),i=a(120),o=a(50),r=a.n(o),d=a(17),j=a.n(d),m=a(971),b=a(1147),p=a(1431),u=a(87),O=a(1432),x=a(993),f=a(981),h=a(193),_=a(1434),g=a(1436),k=a(0),y=a(5),w=a(1340),v=a(1341),N=a(1342),S=a(29),D=a(360),C=(a(1123),a(1343)),T=a(1344),L=a(1345),M=a(109),A=a(43);var P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"pump"===e?A.a.pumpPoolsConfigs.map((e=>e.id)):"pumpShow"===e?A.a.pumpPoolsConfigs.filter((e=>!e.collapse)).map((e=>e.id)):"pumpEnded"===e?A.a.pumpPoolsConfigs.filter((e=>e.collapse)).map((e=>e.id)):"sun"===e?A.a.sunPoolsConfigs.map((e=>e.id)):"sunShow"===e?A.a.sunPoolsConfigs.filter((e=>!e.collapse)).map((e=>e.id)):"sunEnded"===e?A.a.sunPoolsConfigs.filter((e=>e.collapse)).map((e=>e.id)):[...A.a.pumpPoolsConfigs,...A.a.sunPoolsConfigs].map((e=>e.id))},I=a(1063),H=a(1096),Y=a.p+"static/media/pump_farm_poster_light.a9b08ef3.png",F=a.p+"static/media/pump_farm_poster.2d51c316.png",B=a.p+"static/media/pump_farm_poster.2369f266.webp",E=a.p+"static/media/pump_farm_poster_light.f4b29880.webp",R=a.p+"static/media/pump_farm_poster_m.11d0a8a4.png",U=a.p+"static/media/pump_farm_poster_m_light.91826df7.png",Z=a.p+"static/media/pump_farm_poster_m.12360487.webp",V=a.p+"static/media/pump_farm_poster_m_light.b1a469fd.webp",z=a(1567),q=a.n(z),W=a(3);function K(){const{webp:e,png:t}=Object(I.c)(Object(c.useMemo)((()=>[[F,"pc","dark","en|tc|zh","png"],[Y,"pc","light","en|tc|zh","png"],[B,"pc","dark","en|tc|zh","webp"],[E,"pc","light","en|tc|zh","webp"],[R,"m","dark","en|tc|zh","png"],[U,"m","light","en|tc|zh","png"],[Z,"m","dark","en|tc|zh","webp"],[V,"m","light","en|tc|zh","webp"]]),[]));return Object(W.jsx)("a",{href:y.default.pump.homeLink,target:"_blank",children:Object(W.jsx)(H.a,{src:t,webpSrc:e,className:q.a.poster})})}var G=Object(c.memo)(K);const{stakeKeys3:Q,tokens:X}=y.default,J=P("pumpShow"),$=P("pumpEnded");let ee=null,te=null;function ae(e){let t=null;const a=Object(i.a)(window.navigator).any,s=Object(n.d)((()=>u.default.pool)),o=Object(n.d)((()=>u.default.network)),d=Object(n.d)((()=>u.default.pumpFarmStore)),[A,P]=Object(c.useState)(J),[I,H]=Object(c.useState)($),[Y,F]=Object(c.useState)(!1),[B,E]=Object(c.useState)(!0),[R,U]=Object(c.useState)("--"),[Z,V]=Object(c.useState)(!1),[z,K]=Object(c.useState)(s.stakeSwitch),[ae,ce]=Object(c.useState)(s.stakeSwitchLocking),[se,le]=Object(c.useState)(s.stakeTabIndex),ne=Object(D.c)(),ie=Object(D.b)();s.setData({disableDeposit:ie,notAllow:ne}),d.setData({disableDeposit:ie,notAllow:ne});const oe=Object(M.useCurrentTheme)(),{getLockStakeData:re,getStakeData:de,getStakeApyData:je,getStakePoolData:me,getStakeApyDataNew:be,getClaimableRewardNew:pe,getClaimableRewardNew1:ue,getTotalStakeNotLogin:Oe,getTotalStakeLogin:xe,getClaimReward:fe,getApyDataV2New:he}=s,_e=window.location.hash.slice(window.location.hash.indexOf("?")+1).split("&").reduce(((e,t)=>({...e,[t.split("=")[0]]:t.split("=")[1]})),{}),[ge,ke]=Object(c.useState)(_e.search||s.stakeSearch);const ye=Q.map((e=>X[e])).sort(((e,t)=>e.index-t.index)).map((e=>e.lpStaker)),we=async()=>{Se()};Object(c.useEffect)((()=>()=>{s.setData({stakeSwitch:!1}),s.setData({stakeTabIndex:"-1"})}),[]),Object(c.useEffect)((()=>{z&&Le(!1)}),[z]),Object(c.useEffect)((()=>{ae&&Te(!1)}),[ae]),Object(c.useEffect)((()=>{let e=[...J],t=[...$];const a={...d.farmData,...s.stakeData3};z&&(e=e.filter((e=>Object(k.j)(a[e]))),t=t.filter((e=>Object(k.j)(a[e])))),Z&&ae&&(e=e.filter((e=>Object(k.l)(a[e],o.nowTime))),t=[]),ge&&(e=e.filter((e=>{var t,c,s;return r.a.includes(r.a.toUpper(null===(t=a[e])||void 0===t?void 0:t.symbol),r.a.toUpper(ge))||r.a.includes(r.a.toUpper(null===(c=a[e])||void 0===c?void 0:c.token),r.a.toUpper(ge))||r.a.includes(r.a.toUpper(null===(s=a[e])||void 0===s?void 0:s.lpStaker),r.a.toUpper(ge))})),t=t.filter((e=>{var t,c,s;return r.a.includes(r.a.toUpper(null===(t=a[e])||void 0===t?void 0:t.symbol),r.a.toUpper(ge))||r.a.includes(r.a.toUpper(null===(c=a[e])||void 0===c?void 0:c.token),r.a.toUpper(ge))||r.a.includes(r.a.toUpper(null===(s=a[e])||void 0===s?void 0:s.lpStaker),r.a.toUpper(ge))}))),P(e),H(t),1===e.length&&(d.farmData[e[0]].show=!0,d.farmData[e[0]].mobileShow=!0)}),[d.farmData,Z,o.nowTime,s.stakeData3,ge,z,ae]),Object(c.useEffect)((()=>{const e=Object(k.k)(d.farmData,o.nowTime);V(e)}),[d.farmData,o.nowTime,s.stakeData3]),Object(c.useEffect)((()=>{const e=d.totalFarmBlanceMap.size,t=s.totalPoolBlanceMap.size;if(A.length||I.length){if(e+t<A.length+I.length)return U("--"),!1;let a=Object(k.a)(0);for(const[e,t]of d.totalFarmBlanceMap)A.includes(e)&&(a=a.plus(t)),I.includes(e)&&(a=a.plus(t));for(const[e,t]of s.totalPoolBlanceMap)A.includes(e)&&(a=a.plus(t)),I.includes(e)&&(a=a.plus(t));const c=Object(k.v)(a,{dp:2,needDolar:!0,cutZero:!1,miniText:.01});U(c)}else o.isConnected?U("$0.00"):U("--")}),[d.totalFarmBlance,s.totalPoolBlance,A,I]);const ve=async()=>{De(),t||(t=setInterval((async()=>{De(),Se()}),o.defaultIntervalSec))};Object(c.useEffect)((()=>()=>{clearInterval(t)}),[]),Object(c.useEffect)((()=>((async()=>{const e=(await Object(S.B)()).time;o.setData({nowTime:e}),Ne()})(),()=>{clearInterval(ee),clearInterval(te)})),[]);const Ne=async()=>{null===o.nowTime?await Object(S.B)():o.setData({nowTime:o.nowTime+1e3}),null===ee&&(ee=setInterval((async()=>{Ne()}),1e3)),null===te&&(te=setInterval((async()=>{const e=(await Object(S.B)()).time;o.setData({nowTime:e})}),3e4))},Se=async function(){"3"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.stakeVersion)&&(await d.getFarmStakeApyData(),await d.getTotalSupply(),await Oe(ye)),await be(),await je(),await re()},De=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.stakeVersion;const{isConnected:t,stakeVersion:a}=o;t&&("3"===e&&(await d.getUserInfo(),await d.getStakeBalanceInfo(),await d.calculateBoosted(),await d.getGovernanceRewrads()),await de(e),await me(e),"3"===e&&(await he(),await fe(),await pe(),await ue(),await xe(ye)))};Object(c.useEffect)((()=>{Ce()}),[]);const Ce=()=>{let e=Object(k.K)("modalShow"),t=Object(k.K)("tab")||"3";t&&o.setData({modalShow:e,tabValue:t,stakeVersion:t})},Te=e=>{K(e),s.setData({stakeSwitch:e})},Le=e=>{ce(e),s.setData({stakeSwitchLocking:e})},Me=e=>{le(e),s.setData({stakeTabIndex:e})},Ae=e=>{e=r.a.trim(e),ke(e),s.setData({stakeSearch:e})};Object(c.useEffect)((()=>{ae||z||ge?(E(!1),F(!0)):(E(!0),F(!1))}),[ae,z,ge]);const Pe=()=>Object(W.jsxs)("div",{className:"no-data",children:[Object(W.jsx)("img",{className:"no-data-spin",src:N.a,alt:""}),Object(W.jsx)("div",{children:l.a.get("loading")})]}),Ie=()=>Object(W.jsx)(x.a,{onClick:()=>{Me("-1"),Te(!1),ke(""),s.setData({stakeSearch:""})},emptyText:l.a.get("stake.has_no_stake"),btnText:l.a.get("stake.to_stake"),img:T.a}),He=()=>Object(W.jsx)(x.a,{onClick:()=>o.setData({loginModalVisible:!0,loginModalStep:1}),emptyText:l.a.get("stake.not_connect_wallet"),btnText:l.a.get("stake.to_connect"),img:C.a}),Ye=()=>{E(!B),F(!Y)},Fe=e=>{try{d.farmData[e].show=!d.farmData[e].show}catch(t){console.log(t)}},Be=async()=>{await de(),await me();const{stakeVersion:e}=o;"3"===e&&(await fe(),await pe(),await ue(),await xe(ye),await be())},Ee=Object(c.useMemo)((()=>Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("span",{children:l.a.get("newStake.banner.desc")}),Object(W.jsxs)(h.a,{href:"".concat(y.default.learnMoreLink,"/hc/en-us/articles/37307638110873"),rel:"noopener noreferrer",target:"stakeRules",style:Object(i.a)().any?{marginLeft:0,fontSize:12,display:"block"}:{marginLeft:12,fontSize:14},children:[l.a.get("newStake.tab.tab_3"),Object(W.jsx)("img",{src:"dark"===oe?w.a:v.a,alt:""})]})]})),[oe]);return Object(W.jsx)(n.a,{children:()=>Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(m.a,{routeName:"stake",mountedActions:ve,instantActions:we}),Object(W.jsxs)("div",{className:"main-page-content",children:[Object(W.jsx)(f.a,{title:l.a.get("header.pump_farm"),subTitle:Ee}),Object(W.jsx)("div",{className:j()(L.farm_wrap,q.a.pump_wrap),children:Object(W.jsx)("div",{children:Object(W.jsxs)("div",{children:[Object(W.jsx)(_.a,{stakeTabIndex:se,hasLocking:Z,stakeSwitch:z,stakeSwitchLocking:ae,myPoolList:s.myPoolList,stakeSearch:ge,totalBalance:R,switchChangeLocking:Le,stakeTabChange:Me,switchChange:Te,searchChange:Ae}),Object(W.jsxs)("div",{className:"mt-20",children:[A.length>0?A.map((e=>Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(O.a,{myClass:d.farmData[e]&&(a?d.farmData[e].mobileShow:d.farmData[e].show)?"current mb-16":"mb-16",id:e,data:d.farmData[e],slide:Fe,isCurrent:d.farmData[e],farmType:"pump"},"")}))):I.length>0?Object(W.jsx)(W.Fragment,{}):o.isConnected?Object(k.h)({},d.farmData)?Object(W.jsx)(Ie,{}):Object(W.jsx)(Pe,{}):Object(W.jsx)(He,{}),!ge&&!Z&&!z&&Object(W.jsx)(g.a,{text:l.a.get("farm.more"),toogleMorePoolState:Ye,morePoolStatus:Y}),Object(W.jsx)(W.Fragment,{children:Y&&Object(W.jsx)(W.Fragment,{children:I.length>0&&I.map((e=>Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(O.a,{myClass:d.farmData[e]&&(a?d.farmData[e].mobileShow:d.farmData[e].show)?"current mb-16":"mb-16",id:e,data:d.farmData[e],slide:Fe,isCurrent:d.farmData[e],farmType:"pump"},"")})))})})]})]})})}),Object(W.jsx)(G,{})]}),Object(W.jsx)(b.a,{modalShow:o.modalShow,cb:Be}),Object(W.jsx)(p.a,{modalShow:o.modalShow,cb:Be})]})})}},981:function(e,t,a){"use strict";var c=a(1),s=a(17),l=a.n(s),n=a(984),i=a(3);const o=e=>{const{title:t,subTitle:a,isRevert:c}=e,s="string"===typeof t;return Object(i.jsxs)("div",{className:n.page_title_wrap,children:[c&&a&&Object(i.jsx)("div",{className:n.page_title_sub,children:a}),t&&Object(i.jsx)("div",{className:l()({[n.page_title]:!0,[n.page_title_revert]:c,[n.page_title_ele]:!s}),children:s?t.split("").map(((e,t)=>Object(i.jsx)("span",{className:n.page_title_ele,children:e},t))):t}),a&&!c&&Object(i.jsx)("div",{className:n.page_title_sub,children:a})]})};t.a=Object(c.memo)(o)},982:function(e,t,a){"use strict";a.p},984:function(e,t,a){e.exports={"page-head":"style_page-head__1_76J",link:"style_link__JVBBX","gradient-title":"style_gradient-title__14115",animateTitle:"style_animateTitle__1W1A5","dim-content":"style_dim-content__1MZ32",uppercase:"style_uppercase__2R_0z","window-for-tabs-pane":"style_window-for-tabs-pane__3S1zF","dark-btn":"style_dark-btn__VnSQD","purple-btn":"style_purple-btn__3Ez4v","cur-input":"style_cur-input__1VPh5","max-btn":"style_max-btn__2ujF3",page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}}}]);