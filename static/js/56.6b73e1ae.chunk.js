(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[56],{1015:function(e,t,a){"use strict";a(1030);var n=a(11),s=a.n(n),c=a(4);t.a=e=>Object(c.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((t=>Object(c.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:()=>t.handler(t),children:t.label},t.value)))})},1018:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(7),s=a.n(n);const c={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},l={1:{title:s.a.get("banner.title_deposit"),content:s.a.get("banner.desc_deposit"),tabTitle:s.a.get("header.deposit")},2:{title:s.a.get("banner.title_withdraw"),content:s.a.get("banner.desc_withdraw"),tabTitle:s.a.get("header.withdraw")},3:{title:s.a.get("banner.title_1"),content:s.a.get("banner.desc_1"),tabTitle:s.a.get("header.swap")}},i=[{label:l[1].tabTitle,value:"1"},{label:l[2].tabTitle,value:"2"},{label:l[3].tabTitle,value:"3"}]},1021:function(e,t,a){"use strict";var n=a(11),s=a.n(n),c=a(1048),l=a(4);t.a=e=>{const{checked:t,tokenLogo:a,symbol:n="",onChange:i,id:o=""}=e;return Object(l.jsxs)("div",{className:s()({[c.sun_check_button]:!0,[c.sun_check_active_button]:t}),onClick:()=>{i&&i(!t,o)},children:[a&&Object(l.jsx)("img",{src:a,alt:"",className:"token-logo"}),Object(l.jsx)("span",{children:n})]})}},1022:function(e,t,a){"use strict";var n=a(7),s=a.n(n),c=a(11),l=a.n(c),i=a(283),o=a(1028),r=a(4);const b=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],j=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=e=>{const{slippage:t,customSlippage:a,CUSTOM_SLIPPAGE:n,type:c="withdraw"}=e,u="withdraw"===c?b:j;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"mr-10",children:s.a.get("withdraw.slippage")}),Object(r.jsxs)("div",{className:l()(o.setting_btns),children:[Object(r.jsx)("div",{className:o.setting_btn_wrap,children:u.map((a=>Object(r.jsx)("span",{className:l()(o.setting_item,t===a.key?o.active:""),onClick:()=>{return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})))}),Object(r.jsx)(i.a,{className:l()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(String(u[0].key))},onChange:t=>{e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},1028:function(e,t,a){e.exports={"page-head":"style_page-head__1vdv7",link:"style_link__1gfSr","gradient-title":"style_gradient-title__UDoMs",animateTitle:"style_animateTitle__2zU_Z","dim-content":"style_dim-content__1LeiT",uppercase:"style_uppercase__Jhzo4","window-for-tabs-pane":"style_window-for-tabs-pane__3E-mr","dark-btn":"style_dark-btn__2vZ_n","purple-btn":"style_purple-btn__3V5jL","cur-input":"style_cur-input__2s9we","max-btn":"style_max-btn__32jEQ",setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_item:"style_setting_item__1VwnL",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw",flex_right:"style_flex_right__3aanL"}},1030:function(e,t,a){},1044:function(e,t,a){"use strict";a(0);var n=a(7),s=a.n(n),c=a(88),l=a(6),i=a(97),o=a(1),r=(a(1038),a(1065)),b=a(1064),j=a(4);const{Fee:u,A:d,ADMIN_FEE:p,poolKeys:_,pools:O}=l.default;t.a=e=>{const t=Object(c.d)((()=>i.default.pool)),a=Object(c.d)((()=>i.default.network)),n=(e,t)=>{const a=Object(o.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(o.v)(a,2)},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(o.a)(0);for(let n in e){const{userSwapBalance:s,priceKey:c}=e[n],l=t?t[c]:"--";a=a.plus(Object(o.a)(s).times(l))}return Object(o.v)(a)}catch(a){return console.log(a),"--"}},g=_.map((e=>t.poolData[e])).filter((e=>e)),m=t.volData?t.volData["3pvol24Hours"]:"",h="Old 3Pool ".concat(s.a.get("pool.pool2_contract")),v="3SUN ".concat(s.a.get("pool.token_contract2"));return Object(j.jsx)(c.a,{children:()=>Object(j.jsxs)("div",{children:[Object(j.jsx)(r.a,{poolTokens:g,totalSwapBalance:t.totalSwapBalance,adminFee:p,fee:u,virtualPrice:t.virtualPrice,dailyVol:m,poolContract:l.default.stablePool,poolName:h,lpTokenAddress:l.default.stableLp,lpTokenName:v,aValue:d}),a.isConnected&&Object(o.a)(t.sharePer).gt(0)&&Object(j.jsx)(b.a,{sharePer:t.sharePer,usdBalance:O(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:g})]})})}},1048:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},1090:function(e,t,a){},1106:function(e,t,a){"use strict";var n=a(2),s=a(0),c=a(7),l=a.n(c),i=a(1381),o=a(1383),r=a(104),b=a(997),j=a(356),u=a(88),d=a(97),p=a(25),_=a(6),O=a(8),g=a(1),m=a(1044),h=a(1013),v=a(1026),w=(a(1034),a(1020)),f=(a(46),a(1021)),x=a(1014),y=a(1022),S=a(1018),k=a(1015),N=a(1017),L=a(1027),C=a(4);const{pools:T,poolKeys:P,stableLp:D,ALL_FEE:B,stablePool:I,tokens:A}=_.default,E="---",U="CUSTOM",F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return P.map((a=>{t[a]=e})),t};t.a=e=>{const{pageList:t,tabPaneKey:a}=e,[c=F("--"),_]=Object(s.useState)(),[H,M]=Object(s.useState)("100.00"),[V,q]=Object(s.useState)(.2),[K,z]=Object(s.useState)(""),[J,G]=Object(s.useState)(!0),[Q,R]=Object(s.useState)(!1),[Z,X]=Object(s.useState)("--"),[W=F(!1),Y]=Object(s.useState)(),[$,ee]=Object(s.useState)(!1),[te,ae]=Object(s.useState)(!1),ne=Object(u.d)((()=>d.default.system)),se=Object(u.d)((()=>d.default.pool)),ce=Object(u.d)((()=>d.default.network));let le=null;Object(s.useEffect)((async()=>{te&&ie()}),[c,H,V,K,W]),Object(s.useEffect)((()=>{ge(c,Q)}),[c]);const ie=()=>H!==E&&Object(g.jb)(H).gt(100)?(ee(l.a.get("error.e3")),!0):(()=>{for(let e in c)if(Object(g.jb)(c[e]).gt(0)||"--"===c[e])return!1;return!0})()?(ee(l.a.get("error.e4")),!0):V===U&&(je()||H===E)&&(Object(g.a)(K).lt(.1)||Object(g.a)(K).gt(50)||Object(g.a)(K).isNaN())?(ee(l.a.get("error.e5")),!0):(ee(!1),!1),oe=async(e,t)=>{try{const a=e.length,n=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[],s=await Object(O.e)(n,!1);if(!s.success)return;let l=s.value.times(Object(g.a)(1).plus(Object(g.a)(B).times(a).div(4*(a-1))));const i=Object(g.a)(100).plus(t).div(100);if(l=l.times(i)._toIntegerDown(),J&&Object(g.a)(se.userLpAllowance).lt(l)){if(!await ne.approveToken(D,I,{title:"deposit.approve_token",obj:{value:A.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;G(!1)}const o=l._toHex(),r={title:"actions.remove",obj:{detail:Object(g.E)(c)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.E)(c)}};await ne.removeLiqImBalance(n,o,r,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},re=async(e,t)=>{try{const a=await ue(t,e,Object(g.jb)(H));if(!a)return;const{userLpBalance:n,lpTotalSupply:s,balances:l,userLpAllowance:i,minAmounts:o}=a,r=Object(g.jb)(H).div(100).times(n)._toIntegerDown();if(J&&Object(g.a)(i).lt(r._toIntegerDown())){if(!await ne.approveToken(D,I,{title:"deposit.approve_token",obj:{value:A.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;G(!1)}const b={title:"actions.remove",obj:{detail:Object(g.E)(c)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.E)(c)}},j=r._toHex();await ne.removeLiquidity(j,o,b,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},be=async(e,t,a)=>{try{const n=await Object(O.vb)(t,e);if(!n.success)return;const{userLpBalance:s,userLpAllowance:l}=n,i=Object(g.jb)(H).div(100).times(s)._toIntegerDown();if(J&&Object(g.a)(l).lt(i._toIntegerDown())){if(!await ne.approveToken(D,I,{title:"deposit.approve_token",obj:{value:A.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;G(!1)}const o=i._toHex();let r=!1;for(let e in W)!0===W[e]&&(r=T[e].index);const b=await Object(O.q)(o,r);if(!b.success)return;const j=b.value,u=e.length,d=j.times(Object(g.a)(1).minus(Object(g.a)(B).times(u).div(4*(u-1)).div(1e10))),p=Object(g.a)(100).div(Object(g.a)(100).plus(a)),_=d.times(p)._toIntegerDown()._toHex(),m={title:"actions.remove",obj:{detail:Object(g.E)(c)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.E)(c)}};await ne.removeLiqOneCoin(o,r,_,m,[["pool/updateCurrencyData"]])}catch(n){console.log(n)}},je=()=>{for(let e in W)if(W[e])return e;return!1},ue=async function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.vb)(e,t);if(!s.success)return;const{userLpBalance:c,lpTotalSupply:l,balances:i,userLpAllowance:o}=s,r=[],b={};return t.map((e=>{const{index:t,id:s,decimal:o,precision:j}=e;let u=Object(g.jb)(a).div(100).times(i[t]);n||(u=Object(g.a)(.98).times(u)),r[t]=u.times(c).div(l)._toIntegerDown()._toHex(),b[s]=Object(g.c)(u.times(c).div(l).div(j)._toFixed(o,1))})),{userLpBalance:c,lpTotalSupply:l,balances:i,userLpAllowance:o,minAmounts:r,amountsStr:b}}catch(s){console.log(s)}},de=async(e,t)=>{try{await se.getUserLp();const{userLpBalance:a}=se,{precision:n,decimal:s}=T[e],c=Object(g.jb)(t).div(100).times(a)._toIntegerDown(),l=T[e].index,i=c._toHex(),o=await Object(O.q)(i,l);if(!o.success)return!1;const r=o.value;return Object(g.a)(r).div(n)._toFixed(s,1)}catch(a){console.log(a)}},pe=()=>{se.getSwapBalance(),se.getVirtualPrice(),se.getVolData()},_e=async()=>{await Promise.all([se.getUserLp(),se.getBalanceInfo()]);const e={};P.map((t=>{const{userSwapBalance:a,decimal:n}=se.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(n,1))})),_(e),le||(le=setInterval((async()=>{pe(),await se.getUserLp()}),ce.defaultIntervalSec))};Object(s.useEffect)((()=>(_e(),pe(),()=>{clearInterval(le)})),[]);const Oe=async(e,t)=>{!te&&ae(!0);let a=Object(g.jb)(H);const s={},l={};if(e){R(!0);for(let e in W)e!==t&&(s[e]=!1,l[e]=0);Y(Object(n.a)(Object(n.a)(Object(n.a)({},W),s),{},{[t]:e})),(H===E||Object(g.jb)(H).lte(0))&&(a="100.00",M(a)),Object(g.a)(a).gt(100)&&(a=100);const i=await de(t,a);i&&_(Object(n.a)(Object(n.a)(Object(n.a)({},c),l),{},{[t]:Object(g.c)(i)}))}else M(E),R(!1),Y(Object(n.a)(Object(n.a)({},W),{},{[t]:e}))},ge=async(e,t)=>{const a=await se.calcInclPrice(e,!1,t);X(a)},me=async e=>{var t;!te&&ae(!0);let a=e.target.value,s=a.split(".");if((null===(t=s[1])||void 0===t?void 0:t.length)>2&&(a="".concat(s[0]+"."+s[1].substr(0,2))),Object(g.a)(a).gt(100))return;const{valid:l,str:i}=Object(g.ab)(a,10);if(H===E)return(()=>{const e={},t={};P.map((a=>{e[a]=0,t[0]=!1})),_(e),Y(W),M(0)})();if(""===a)return M(""),(()=>{const e={};P.map((t=>{e[t]=0})),_(e)})();if(l){M(Object(g.c)(i));const t=Object(g.a)(i).gt(100)?Object(g.a)(100):Object(g.a)(i);if(t.isNaN())return;if(!ce.defaultAccount)return;const s=ce.defaultAccount,l=je();if(l){const e=await de(l,t);return e&&_(Object(n.a)(Object(n.a)({},c),{},{[l]:Object(g.c)(e)}))}if(i!==E){const t=[];P.map((e=>{t.push(Object(n.a)({},T[e]))}));const c=t.sort(((e,t)=>e.index-t.index)),l=await ue(s,c,i,!0);if(a===e.target.value){const{amountsStr:e={}}=l;l&&_(e)}}}},he=e=>{!te&&ae(!0),q(e),e!==E&&z("")},ve=e=>{const{valid:t,str:a}=Object(g.ab)(e,10);if(t)if(""===a)z("");else if(Object(g.a)(a).lte(100)){var n;let e=a,t=a.split(".");(null===(n=t[1])||void 0===n?void 0:n.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),z(e)}},we=e=>je()||H===E?Object(C.jsx)("div",{className:"flex start mt-20",children:Object(C.jsx)(y.a,{slippage:e,customSlippage:K,CUSTOM_SLIPPAGE:U,onChangeSlippage:he,onChangeCustomSlippage:ve})}):Object(C.jsx)(C.Fragment,{});return Object(C.jsx)(u.a,{children:()=>Object(C.jsxs)(i.a,Object(n.a)(Object(n.a)({},S.a.row),{},{children:[Object(C.jsxs)(o.a,Object(n.a)(Object(n.a)({},S.a.colLeft),{},{children:[Object(C.jsx)(k.a,{list:t,activeKey:a[0]}),Object(C.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{routeName:"3pool/withdraw",mountedActions:_e,instantActions:pe}),Object(C.jsx)(v.a,{title:"3pool "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(C.jsx)(w.a,{})]}):null,ce.isConnected?Object(C.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(C.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(C.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(C.jsx)(L.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:H,onChange:me})]}),Object(C.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(C.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(C.jsx)("ul",{children:P.map((e=>{const t=T[e],{symbol:a=""}=t;return Object(C.jsxs)("li",{children:[Object(C.jsx)("div",{className:"cur-label",children:Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("img",{src:p.c[e]?p.c[e]:j.default,alt:"",className:"token-logo"}),a]})}),Object(C.jsx)(L.a,{showMax:!1,value:c[e],onChange:t=>{(async(e,t)=>{!te&&ae(!0);const{decimal:a}=T[t],{valid:s,str:l}=Object(g.ab)((""+e.target.value).replace(/,/g,""),a);s&&_(Object(n.a)(Object(n.a)({},c),{},{[t]:Object(g.c)(l)})),M(E),R(!1);const i={};for(let n in W)i[n]=!1;Y(i)})(t,e)}})]},e)}))})]}),Object(g.eb)(Z),Object(C.jsxs)("fieldset",{children:[Object(C.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(C.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(C.jsx)(r.a,{title:l.a.get("withdraw.tip"),children:Object(C.jsx)(b.a,{})})]}),Object(C.jsx)("div",{className:"withdraw-one",children:P.map((e=>{const{symbol:t=""}=T[e];return Object(C.jsx)(f.a,{id:e,checked:W[e],tokenLogo:p.c[e]?p.c[e]:j.default,symbol:t,onChange:Oe})}))})]}),we(V),$?Object(C.jsx)(x.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(C.jsx)(x.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!ce.defaultAccount)return;if(!te&&ae(!0),!$&&ie(t))return;if($)return;const a=ce.defaultAccount,s=[];P.map((e=>{s.push(Object(n.a)(Object(n.a)({},T[e]),{},{inputValue:Object(g.jb)(t[e]).times(T[e].precision)}))}));const c=s.sort(((e,t)=>e.index-t.index)),l=V===U?K:V;return e.onSubmit&&e.onSubmit(),Q?await be(c,a,l):H!==E?await re(c,a):await oe(c,l)}catch(a){console.log(a)}})(c),disabled:$}),$&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:$})})]})}):Object(C.jsx)(N.a,{})]})]})),Object(C.jsx)(o.a,Object(n.a)(Object(n.a)({},S.a.colRight),{},{children:Object(C.jsx)(m.a,{className:ce.isConnected?null:"window-for-tabs-pane"})}))]}))})}},2830:function(e,t,a){"use strict";a.r(t);a(0),a(1013),a(1090),a(1038);var n=a(1106),s=a(4);t.default=()=>Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(n.a,{isSinglePage:!0})})}}]);