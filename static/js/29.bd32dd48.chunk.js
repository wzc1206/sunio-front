(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[29],{1014:function(e,t,a){e.exports={"page-head":"style_page-head__1vdv7",link:"style_link__1gfSr","gradient-title":"style_gradient-title__UDoMs",animateTitle:"style_animateTitle__2zU_Z","dim-content":"style_dim-content__1LeiT",uppercase:"style_uppercase__Jhzo4","window-for-tabs-pane":"style_window-for-tabs-pane__3E-mr","dark-btn":"style_dark-btn__2vZ_n","purple-btn":"style_purple-btn__3V5jL","cur-input":"style_cur-input__2s9we","max-btn":"style_max-btn__32jEQ",setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_item:"style_setting_item__1VwnL",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw",flex_right:"style_flex_right__3aanL"}},1033:function(e,t,a){"use strict";var o=a(0),s=a(45),n=a(375),i=a(10),c=a.n(i),l=a(1040),r=a.n(l),d=a(117),p=a(77),u=a(12),b=a.n(u),m=a(3);const j=e=>{const{showMax:t,onMaxClick:a,className:o,themes:i,...l}=e,u=Object(d.useCurrentThemeConfig)();return Object(m.jsx)(s.a,{theme:{token:{colorBgContainer:u["color-input-bg"],colorBorder:"transparent",colorPrimaryHover:u["color-a"],colorText:u["color-text-default"],controlOutline:"none",colorIcon:u["color-text-default"],colorFillAlter:u["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:u["color-text-default"],colorBgContainerDisabled:Object(p.a)(u["color-input-bg"],.5),colorTextDisabled:Object(p.a)(u["color-text-default"],.5),colorTextPlaceholder:u["color-text-default-3"],...i}},children:Object(m.jsx)(n.a,{className:c()("pure-comp",o),size:"large",suffix:t?Object(m.jsx)("span",{className:r.a.max_btn,onClick:()=>a&&a(),children:b.a.get("swap.input_from_max")}):null,...l})})};t.a=Object(o.memo)(j)},1040:function(e,t,a){e.exports={"page-head":"style_page-head__3Df8R",link:"style_link__13CUf","gradient-title":"style_gradient-title__2a8zy",animateTitle:"style_animateTitle__3AmLh","dim-content":"style_dim-content__33wh4",uppercase:"style_uppercase__3nmXo","window-for-tabs-pane":"style_window-for-tabs-pane__19SGv","dark-btn":"style_dark-btn__3l8ji","purple-btn":"style_purple-btn__37XNP","cur-input":"style_cur-input__3Kzlm","max-btn":"style_max-btn__WydB3",max_btn:"style_max_btn__29JsD"}},1044:function(e,t,a){"use strict";var o=a(532),s=a(530),n=(a(529),a(531)),i=a(216),c=a(533),l=a(538),r=a(541),d=a(535),p=a(542),u=a(539),b=a(537),m=a(540),j=a(536),g=a(534),v=a(74);const h=[{poolAddress:"THJCvwFmu6uDqKY59JbULHDgfddy2Zojty",poolIcon:u.default,fontName:"USDD 2pool",poolTokens:["USDD","USDT"],routeName:"usdd_usdt_v2",stableLp:"TW3HmNk2FHVPMw2JwqBk7F9JT9JkTTZEbn",decimals:18,category:v.j.liquidity_usddusdtv2},{poolAddress:"TS8d3ZrSxiGZkqhJqMzFKHEC1pjaowFMBJ",poolIcon:p.default,fontName:"2pool",poolTokens:["TUSD","USDT"],routeName:"usdt_tusd",stableLp:"TW1UvgYQZdZmHaT3UeWiJ9owNw2xffVnA5",decimals:18,category:v.j.liquidity_usdttusd},{poolAddress:"TLssvTsY4YZeDPwemQvUzLdoqhFCbVxDGo",poolIcon:b.default,fontName:"USDDOLD Pool",poolTokens:["USDDOLD","TUSD","USDT"],routeName:"usdd_usdt_tusd_2pool",stableLp:"THiz24TyXvyUXRjZHW3gW2PMBRzfNLuJdT",decimals:18,category:v.j.liquidity_oldusdc},{poolAddress:"TKBqNLyGJRQbpuMhaT49qG7adcxxmFaVxd",poolIcon:m.default,fontName:"USDJ Pool",poolTokens:["USDJ","TUSD","USDT"],routeName:"usdj_usdt_tusd_2pool",stableLp:"TM9UdzBnK7iETZie4H9moTojDXSBfqi12d",decimals:18,category:v.j.liquidity_oldusdc},{poolAddress:"TE7SB1v9vRbYRe5aJMWQWp9yfE2k9hnn3s",poolIcon:j.default,fontName:"USDCOLD Pool",poolTokens:["USDCOLD","TUSD","USDT"],routeName:"usdc_usdt_tusd_2pool",stableLp:"THPuVJt3oa67Erk6Akg5pjEaSN91FExqMT",decimals:18,category:v.j.liquidity_oldusdc},{poolAddress:"TExeaZuD5YPi747PN5yEwk3Ro9eT2jJfB6",poolIcon:i.default,fontName:"USDCOLD 2pool",poolTokens:["USDCOLD","USDT"],routeName:"usdc_2pool",stableLp:"TYEsj7fELLVwj85ZUMge227Af7iySk11zg",decimals:18,category:v.j.liquidity_usdc2pool},{poolAddress:"TNTfaTpkdd4AQDeqr8SGG7tgdkdjdhbP5c",poolIcon:s.default,fontName:"USDDOLD 2pool",poolTokens:["USDDOLD","USDT"],routeName:"usdd_2pool",stableLp:"TYKoYhjEpqazFLyQzn6BCigLnDL9c8Nhz8",decimals:18,category:v.j.liquidity_2pool},{poolAddress:"TNU9LfegfzLcJo2ZxTQXDYE2uh7JuxZfnP",poolIcon:l.default,fontName:"Old USDDOLD Pool",poolTokens:["USDDOLD","USDCOLD","USDT"],routeName:"usdd_usd_2pool",stableLp:"TXAqvHp8qojeKDkKagGhmB3e9VyEH9qjMj",decimals:18,category:v.j.liquidity_usdd2pool},{poolAddress:"TLZacPrPKfrfbsimu5dDdrgMT16m9cnpL9",poolIcon:d.default,fontName:"Old TUSD Pool",poolTokens:["TUSD","USDCOLD","USDT"],routeName:"tusd_2pool",stableLp:"TVjLZhmYbJ9zJiDL4ti2nWC44149J9toYa",decimals:18,category:v.j.liquidity_tusd2pool},{poolAddress:"TSbahrnT5sJwjCzN6LPa1pE5d9pdVwRQ1E",poolIcon:r.default,fontName:"Old USDJ Pool",poolTokens:["USDJ","USDCOLD","USDT"],routeName:"usdj_2pool",stableLp:"TJxb5j38qc6PexwodjisvRvR7Uo6fJoq9A",decimals:18,category:v.j.liquidity_usdj2pool},{poolAddress:"TGG5AWMNjssDtLgsHg2QSN8CTwVTCHQMF6",poolIcon:c.default,fontName:"Old BUSDOLD Pool",poolTokens:["BUSDOLD","USDCOLD","USDT"],routeName:"busd_2pool",stableLp:"TK5DFyaudUAjKP9iFscf4eNnjUDHSe9umC",decimals:18,category:v.j.liquidity_busd2pool},{poolAddress:"TKcEU8ekq2ZoFzLSGFYCUY6aocJBX9X31b",poolIcon:o.default,fontName:"Old 3pool",poolTokens:["USDJ","TUSD","USDT"],routeName:"3pool",stableLp:"TD3et9gS2pYz46ZC2mkCfYcKQGNwrnBLef",decimals:18,category:v.j.liquidity_old3pool},{poolAddress:"TQx6CdLHqjwVmJ45ecRzodKfVumAsdoRXH",poolIcon:g.default,fontName:"Old USDCOLD",poolTokens:["USDCOLD","USDJ","TUSD","USDT"],routeName:"usdc",stableLp:"TQ4i5sdj1VGYGFcivyqFW9NXqzpaP6X8BA",decimals:18,category:v.j.liquidity_oldusdc},{poolAddress:"TKVsYedAY23WFchBniU7kcx1ybJnmRSbGt",poolIcon:n.default,fontName:"3pool",poolTokens:["USDDOLD","TUSD","USDT"],routeName:"usdd_3pool",stableLp:"TA1TVZdERDRDGi9QXNdLVfPxbymmi8xFyc",decimals:18,category:v.j.liquidity_3pool},{poolAddress:"TAUGwRhmCP518Bm4VBqv7hDun9fg8kYjC4",poolIcon:s.default,fontName:"Old 2pool",poolTokens:["USDDOLD","USDT"],routeName:"usdd_old_2pool",stableLp:"TXcJ6pCEGKeLEYXrVnLhqpCVuKfV6wgsfC",decimals:18,category:v.j.liquidity_old2pool}];u.default,v.j.liquidity_usddusdtv2,p.default,v.j.liquidity_usdttusd,b.default,v.j.liquidity_oldusdc,m.default,v.j.liquidity_oldusdc,j.default,v.j.liquidity_oldusdc,i.default,v.j.liquidity_usdc2pool,s.default,v.j.liquidity_2pool,l.default,v.j.liquidity_usdd2pool,d.default,v.j.liquidity_tusd2pool,r.default,v.j.liquidity_usdj2pool,c.default,v.j.liquidity_busd2pool,o.default,v.j.liquidity_old3pool,g.default,v.j.liquidity_oldusdc,n.default,v.j.liquidity_3pool,s.default,v.j.liquidity_old2pool;let _;_=h,t.a=_},1063:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return u}));var o=a(117),s=a(118),n=a(0),i=a(1);const c=(e,t,a)=>"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),l=(e,t,a,o)=>o&&"en"!==o?"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a,"_").concat(o):"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),r=e=>{const{imgMaps:t,currentTheme:a,isMobile:o,imgSuffix:s,rules:i,useWebp:l}=e;return Object(n.useMemo)((()=>{if(!l&&"webp"===s)return"";const e=c(o?"m":"pc",a,s);if(t[e])return e;if(i&&i[e])return i[e]||"";const n=[c("m","light",s),c("m","dark",s),c("pc","light",s),c("pc","dark",s)];let r=[];r=o?"dark"===a?[1,3]:[0,1,2,3]:"dark"===a?[3]:[2,3];let d=r.find((e=>!!t[n[e]]));return void 0===d?"":n[d]}),[o,a,t,s,l,i])},d=e=>{const{imgMaps:t,useWebp:a}=e,n=Object(o.useCurrentTheme)(),i=Object(s.default)(s.isMobileOnlyMedia),c=r({imgMaps:t,currentTheme:n,isMobile:i,imgSuffix:"webp",useWebp:a}),l=r({imgMaps:t,currentTheme:n,isMobile:i,imgSuffix:"png"});return{webp:c&&t[c]?t[c]:"",png:l&&t[l]?t[l]:""}},p=e=>{var t;const{imgMaps:a}=e,n=Object(o.useCurrentTheme)(),c=window.localStorage.getItem("lang"),r=(null===(t=i.V[c||"en-US"])||void 0===t?void 0:t.k)||"en",d=Object(s.default)(s.isMobileOnlyMedia),p=l(d?"m":"pc",n,"webp",r),u=l(d?"m":"pc",n,"png",r);return{webp:p&&a[p]?a[p]:"",png:u&&a[u]?a[u]:""}},u=e=>{var t;const a=window.localStorage.getItem("lang"),c=(null===(t=i.V[a||"en-US"])||void 0===t?void 0:t.k)||"en",l=Object(s.default)(s.isMobileOnlyMedia)?"m":"pc",r=Object(o.useCurrentTheme)();return Object(n.useMemo)((()=>{let t="",a="";return e.forEach((e=>{let[o,s,n,i,d]=e;s.split("|").includes(l)&&n.split("|").includes(r)&&i.split("|").includes(c)&&("webp"===d&&(t=o),"png"===d&&(a=o))})),{png:a,webp:t}}),[e,l,r,c])}},1081:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var o=a(0),s=a(117),n=a(118),i=a(1063),c=a(3);const l=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"webp";try{var n;return e?null===(n=e("./".concat(t).concat(a?"_m":"").concat(o?"":"_light",".").concat(s)))||void 0===n?void 0:n.default:""}catch(i){return""}},r=["pc","m"],d=["dark","light"],p=["webp","png"],u=(e,t,a)=>"".concat("m"===e?"m":"pc").concat("light"===t?"_light":"","_").concat(a),b=e=>{const{src:t,pictureStyle:a,className:b,useWebp:m=!1,imgContext:j,imgName:g,rules:v,...h}=e,_=Object(s.useCurrentTheme)(),O=Object(n.default)(n.isMobileOnlyMedia),[f,w]=(null===g||void 0===g?void 0:g.split("."))||[],x=Object(o.useMemo)((()=>{const e={m_light_png:"",m_light_webp:"",m_png:"",m_webp:"",pc_light_png:"",pc_light_webp:"",pc_png:"",pc_webp:""};for(const t of r)for(const a of d)for(const o of p)e[u(t,a,o)]=l(j,f,"m"===t,"dark"===a,"webp"===o?"webp":w);return e}),[f,j,w]),k=Object(i.d)({imgMaps:x,currentTheme:_,isMobile:O,imgSuffix:"webp",useWebp:m,rules:v}),T=Object(i.d)({imgMaps:x,currentTheme:_,isMobile:O,imgSuffix:"png",rules:v});return Object(c.jsxs)("picture",{"data-img-id":"sun-img",className:b,style:a,children:[Object(c.jsx)("source",{"data-render-key":k,type:"image/webp",srcSet:k?x[k]:""}),Object(c.jsx)("img",{"data-render-key":T,src:T?x[T]:t,alt:"",...h})]})},m=Object(o.memo)((e=>{const{className:t,webpSrc:a,src:o,renderChildren:s,...n}=e;return Object(c.jsxs)("picture",{"data-img-id":"sun-img-webp",className:t,children:[Object(c.jsx)("source",{type:"image/webp",srcSet:a}),Object(c.jsx)("img",{src:o,alt:"",...n}),s]})}));t.b=Object(o.memo)(b)},1082:function(e,t,a){"use strict";var o=a(0),s=a(12),n=a.n(s),i=a(375),c=a(10),l=a.n(c),r=a(277),d=a(1),p=a(1014),u=(a(1033),a(3));t.a=e=>{const{showType:t="",slippage:a,deadline:s}=e,[c,b]=Object(o.useState)("0.5"),[m,j]=Object(o.useState)("1"),[g,v]=Object(o.useState)("0.5"),[h,_]=Object(o.useState)("1"),[O,f]=Object(o.useState)("");Object(o.useEffect)((()=>{w(a,s)}),[]),Object(o.useEffect)((()=>{(g||h)&&x()}),[g,h]);const w=(e,t)=>{b(e),j(t),v(e),_(t),T()},x=()=>{b(c),j(m),T(),e.onChange&&e.onChange(g,h)},k=e=>{const t=e.target.value,{valid:a,str:o}=Object(d.Z)(t,2);a&&v(o)},T=()=>{g&&(Number(g)<.5?f(n.a.get("settings.slippage_info_1")):Number(g)>5&&Number(g)<50?f(n.a.get("settings.slippage_info_2")):Number(g)>=50?f(n.a.get("settings.slippage_info_3")):f(""))};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:l()({"flex start wrap":""===t}),children:[Object(u.jsx)(r.a,{toolClass:p.setting_wrap,tip:e.slippate_tip||n.a.get("settings.slippage_tip"),children:Object(u.jsx)("span",{className:p.setting_label,children:n.a.get("settings.slippage")})}),Object(u.jsxs)("div",{className:l()(p.setting_btns),children:[Object(u.jsxs)("div",{className:p.setting_btn_wrap,children:[Object(u.jsx)("span",{className:l()(p.setting_item,"0.1"===g?p.active:""),onClick:()=>k({target:{value:"0.1"}}),children:"0.1%"}),Object(u.jsx)("span",{className:l()(p.setting_item,"0.5"===g?p.active:""),onClick:()=>k({target:{value:"0.5"}}),children:"0.5%"}),Object(u.jsx)("span",{className:l()(p.setting_item,"1"===g?p.active:""),onClick:()=>k({target:{value:"1"}}),children:"1%"})]}),Object(u.jsx)(i.a,{className:l()(p.setting_input,p.module_important,["ml-20"]),suffix:"%",value:g,onChange:k,onBlur:()=>{Number(g)>=50?v(g.slice(0,1)):0!==Number(g)||v("0.01")}})]})]}),O?Object(u.jsx)("div",{className:p.info_text,children:O}):null,Object(u.jsxs)("div",{className:l()({"flex start wrap":""===t}),children:[Object(u.jsx)("div",{style:{marginBottom:"popover"===t?"12px":0},children:Object(u.jsx)(r.a,{toolClass:p.setting_wrap,tip:n.a.get("settings.deadline_tip"),children:Object(u.jsx)("span",{className:p.setting_label,children:n.a.get("settings.deadline")})})}),Object(u.jsxs)("div",{className:l()(p.flex_right),children:[Object(u.jsx)(i.a,{className:l()(p.setting_input,p.module_important),value:h,onChange:e=>{const t=e.target.value,{valid:a,str:o}=Object(d.Z)(t,0);if(t){if(a){let e=o;Number(o)>1e4&&(e=1e4),_(e)}}else _(t)},onBlur:()=>{let e=Number(h);0===+h&&(e=1),_(e)}}),Object(u.jsx)("div",{className:l()(p.setting_minutes,["ml-10"]),children:n.a.get("settings.deadline_minutes")})]})]})]})}},1091:function(e,t,a){"use strict";var o=a(527),s=a(1082),n=(a(1142),a.p+"static/media/ico_settingoutlined.01f4eb42.svg"),i=a.p+"static/media/ico_settingoutlined_light.0c30c5eb.svg",c=a(3);const l={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=e=>{const{onChange:t,network:a={},version:r="v1",placement:d="bottomRight"}=e,p=a["settingSlippage".concat(l[r])],u=a["settingDeadline".concat(l[r])];return Object(c.jsx)(o.a,{trigger:"click",overlayClassName:"setting_popover",placement:d,content:Object(c.jsx)(s.a,{showType:"popover",slippage:p,deadline:u,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(c.jsxs)("div",{className:"new_setting_icon",children:[Object(c.jsx)("img",{className:"base-dark-show new_setting_icon_dark",src:n,alt:""}),Object(c.jsx)("img",{className:"base-light-show new_setting_icon_light",src:i,alt:""})]})})}},1097:function(e,t,a){"use strict";var o=a(0),s=a.n(o),n=a(12),i=a.n(n),c=a(590),l=a(173),r=(a(1),a(5)),d=a(1145),p=a.n(d),u=a(3);class b extends s.a.Component{constructor(e){super(e),this.changeCheckStatus=e=>{this.setState({checkStatus:e})},this.comfirmContinue=()=>{const{checkStatus:e}=this.state;e&&this.props.cb&&this.props.cb()},this.componentDidMount=()=>{},this.state={checkStatus:!1}}render(){const{visible:e,dealWarningSymbol:t}=this.props,{checkStatus:a}=this.state;console.log("dealWarningSymbol",t);let{symbol:o,slippage:s}=t?r.default.deflationToken[t]:{symbol:"",slippage:""};return Object(u.jsxs)(l.a,{title:i.a.getHTML("list.deal_warning_title",{value:o}),closable:!1,open:e,width:400,centered:!0,onOk:this.comfirmContinue,okText:i.a.get("list.continue"),okButtonProps:{disabled:!a},showCancel:!1,children:[Object(u.jsx)("div",{className:p.a.tip_head,children:i.a.getHTML("list.deal_warning_content_1",{value:o})}),Object(u.jsx)("div",{className:p.a.tip_warning,children:i.a.getHTML("list.deal_warning_content_2",{value:s})}),Object(u.jsx)("div",{className:p.a.tip_footer,children:i.a.getHTML("list.deal_warning_content_3",{value:o})}),Object(u.jsx)("div",{className:"check-box"+(a?" checked":""),children:Object(u.jsx)(c.a,{onChange:e=>this.changeCheckStatus(e.target.checked),children:i.a.get("list.i_understand")})})]})}}t.a=b},1106:function(e,t,a){},1122:function(e,t,a){},1142:function(e,t,a){},1145:function(e,t,a){e.exports={tip_head:"warning_tip_head__2GHlV",tip_warning:"warning_tip_warning__2qLxu",tip_footer:"warning_tip_footer__7xi3G"}},1251:function(e,t,a){},1322:function(e,t,a){"use strict";var o=a(0),s=a(12),n=a.n(s),i=a(137),c=a(86),l=a(132),r=a(173),d=a(10),p=a.n(d),u=a(96),b=a(118),m=a(174),j=(a(1323),a(381)),g=a(3);const v=[n.a.get("trade.price_1"),n.a.get("trade.price_2"),n.a.get("trade.price_3")],h=Object(i.a)(window.navigator).any;t.a=e=>{const{transRoutePath:t,activePathIndex:a,showVersion:s=!0}=e,[i,d]=Object(o.useState)(!1),_=Object(b.default)("(max-width: 1080px)"),O=Object(c.d)((()=>u.default.themeStore)),f=()=>{d(!0)},w=()=>{d(!1)},x=(e,t)=>{var a,o;let s="-0.04%",n=e.version[t];switch(n){case"v1":s="-0.3%";break;case"v2":let n=e.path[t+1].tokenSymbol,i=e.path[t].tokenSymbol;s="-0.3%",("TRX"===i&&"WTRX"===n||"WTRX"===i&&"TRX"===n)&&(s="");break;case"v3":s=(null===(a=e.poolFees)||void 0===a?void 0:a[t])>0?"-".concat((null===(o=e.poolFees)||void 0===o?void 0:o[t])/1e4,"%"):"";break;default:s="-0.04%"}return n.includes("psm")&&(s="0%"),s},k=(e,t)=>{let a=!1;if("v2"===e.version[t]){let o=e.path[t+1].tokenSymbol,s=e.path[t].tokenSymbol;("TRX"===s&&"WTRX"===o||"WTRX"===s&&"TRX"===o)&&(a=!0)}return a},T=e=>Object(g.jsxs)("div",{className:"renderRoutrOuter",children:[!h&&Object(g.jsx)("span",{className:"trade-router-txt",children:n.a.get("swap.trans_route")}),Object(g.jsx)("div",{className:"renderRoutrOuter-r",children:e.map(((t,a)=>Object(g.jsxs)("span",{children:[Object(g.jsx)("img",{src:t.tokenLogoUrl||m.a,onError:e=>{e.target.onerror=null,e.target.src=m.a},alt:""}),Object(g.jsx)("span",{children:Object(g.jsx)("span",{className:"token",children:null===t||void 0===t?void 0:t.tokenSymbol})}),a!==e.length-1&&Object(g.jsx)("span",{className:"tr-arrow"})]},a)))})]}),y=()=>Object(g.jsx)("div",{className:"tr-content",children:Object(g.jsx)("ul",{children:e.tradeRouterPathArr.map(((t,a)=>Object(g.jsxs)("li",{className:p()({"tr-content-li":!0,active:e.activePathIndex===a}),onClick:()=>(t=>{const a=e.tradeRouterDataArr[t]||{};e.onChangeRouteIndex&&e.onChangeRouteIndex(t),e.onChangeRoutePath&&e.onChangeRoutePath(a)})(a),children:[Object(g.jsxs)("div",{className:"tr-content-li-top",children:[Object(g.jsx)("span",{className:"tr-content-li-title",children:v[a]}),Object(g.jsxs)("div",{className:"tr-content-li-top-r",children:[Object(g.jsx)("span",{className:"tr-content-li-top-r-swap",children:n.a.get("trade.swap")}),Object(g.jsx)("span",{className:"tr-content-li-top-r-num",children:t.amount}),Object(g.jsx)("span",{children:t.symbol})]})]}),Object(g.jsx)("div",{className:"tr-content-li-down",children:t.path.map(((e,a)=>Object(g.jsxs)("div",{className:"tr-content-li-pair",children:[Object(g.jsxs)("div",{className:"tr-content-li-pair-op",children:[Object(g.jsx)("img",{src:e.tokenLogoUrl||m.a,onError:e=>{e.target.onerror=null,e.target.src=m.a},alt:""}),Object(g.jsx)("span",{className:"token",children:null===e||void 0===e?void 0:e.tokenSymbol}),a!==t.path.length-1&&Object(g.jsx)("span",{children:x(t,a)})]}),a<t.version.length&&Object(g.jsxs)("div",{className:"flex path-pool",children:[s?!k(t,a)&&Object(g.jsx)("span",{className:"tr-pool",children:t.version[a]}):null,Object(g.jsx)(j.b,{type:"1",color:"dark"===O.theme?"rgba(255, 255, 255, 0.5)":"rgba(51, 51, 51, 0.5)"})]})]},e.tokenAddress)))})]},a)))})}),S=t=>Object(g.jsx)(g.Fragment,{children:t.length?Object(g.jsx)(l.a,{align:{offset:h?[0,0]:e.offset||[60,-10]},getPopupContainer:e=>e.parentElement||document.body,title:y(),overlayClassName:"tr-tooltip",placement:h?"bottomRight":"rightTop",color:"#403858",arrow:!1,overlayInnerStyle:{padding:0},children:T(t)}):Object(g.jsx)("span",{})}),N=e=>Object(g.jsx)(g.Fragment,{children:e.length?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{onClick:f,children:T(e)}),Object(g.jsx)(r.a,{closeIcon:Object(g.jsx)(g.Fragment,{}),title:"",closable:!0,open:i,onCancel:w,footer:null,className:"trade-router-modal",width:630,centered:!0,mask:!0,children:y()})]}):Object(g.jsx)("span",{})});return Object(g.jsx)(c.a,{children:()=>Object(g.jsx)("div",{className:"trade-router",children:_?N(t):S(t)})})}},1323:function(e,t,a){},1704:function(e,t,a){},1709:function(e,t,a){var o={"./3pool.svg":564,"./btc.svg":565,"./btt.svg":566,"./eth.svg":567,"./jst.svg":568,"./nft.svg":569,"./s3p.svg":570,"./sun.svg":571,"./sun3.svg":572,"./trx.svg":573,"./tusd.svg":574,"./usdc.svg":575,"./usdd.svg":576,"./usddv2.svg":577,"./usdj.svg":578,"./usdt.svg":579,"./usdtv2.svg":580,"./wbtt.svg":581,"./win.svg":582};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=n,e.exports=s,s.id=1709},1710:function(e,t,a){e.exports={"page-head":"style_page-head__1FqOU",link:"style_link__3htUZ","gradient-title":"style_gradient-title__eq5m5",animateTitle:"style_animateTitle__3plyX","dim-content":"style_dim-content__2W6jx",uppercase:"style_uppercase__18bZV","window-for-tabs-pane":"style_window-for-tabs-pane__1PAuT","dark-btn":"style_dark-btn__SSq1x","purple-btn":"style_purple-btn__3cVso","cur-input":"style_cur-input__3p3yg","max-btn":"style_max-btn__osyNa",dropdown:"style_dropdown__2LXG9",dropdown_choose:"style_dropdown_choose__3wmWz",dropdown_disabled:"style_dropdown_disabled__22sYB",dropdown_symbol:"style_dropdown_symbol__2SGjE"}},1711:function(e,t,a){},1712:function(e,t,a){},2261:function(e,t,a){"use strict";a.r(t);var o=a(86),s=a(0),n=a.n(s),i=a(5),c=a(96),l=a(998),r=a(12),d=a.n(r),p=(a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a(1468),a(24)),u=(a(1072),a(3));var b=a(45),m=a(2276),j=a(10),g=a.n(j),v=(a(1704),a(1705)),h=a(1706),_=a(1081),O=a(1063);var f=a.p+"static/media/m_refer_png.46e32bf0.png",w=a.p+"static/media/m_refer_png_tc.9db32c01.png",x=a.p+"static/media/m_refer_png_zh.0b961880.png",k=a.p+"static/media/pc_refer_png.5a4f7759.png",T=a.p+"static/media/pc_refer_png_tc.a7104515.png",y=a.p+"static/media/pc_refer_png_zh.7dbc4bcd.png",S=a.p+"static/media/pc.bfc15ba7.png",N=a.p+"static/media/pc_tc.5a922c11.png",D=a.p+"static/media/pc_zh.46a4a252.png",A=a.p+"static/media/m.d7a64968.png",C=a.p+"static/media/m_tc.e50ca011.png",P=a.p+"static/media/m_zh.3a333938.png",U=a.p+"static/media/pc.bfc15ba7.webp",L=a.p+"static/media/pc_tc.5a922c11.webp",M=a.p+"static/media/pc_zh.46a4a252.webp",R=a.p+"static/media/m.d7a64968.webp",I=a.p+"static/media/m_tc.e50ca011.webp",F=a.p+"static/media/m_zh.3a333938.webp";var q=()=>{const e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=Object(s.useRef)(null),{png:a}=Object(O.b)({imgMaps:{m_light_png:f,m_light_png_tc:w,m_light_png_zh:x,m_png:f,m_png_tc:w,m_png_zh:x,pc_light_png:k,pc_light_png_tc:T,pc_light_png_zh:y,pc_png:k,pc_png_tc:T,pc_png_zh:y}}),{webp:o,png:n}=Object(O.c)(Object(s.useMemo)((()=>[[S,"pc","dark|light","en","png"],[N,"pc","dark|light","tc","png"],[D,"pc","dark|light","zh","png"],[A,"m","dark|light","en","png"],[C,"m","dark|light","tc","png"],[P,"m","dark|light","zh","png"],[U,"pc","dark|light","en","webp"],[L,"pc","dark|light","tc","webp"],[M,"pc","dark|light","zh","webp"],[R,"m","dark|light","en","webp"],[I,"m","dark|light","tc","webp"],[F,"m","dark|light","zh","webp"]]),[])),i=[{id:"pump",png:a,jumpUrl:"https://sunpump.meme/referral"}];return Object(u.jsxs)("div",{className:"home-base-banner",children:[i.length>1&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:g()("home-base-banner-switch-btn","home-base-banner-prev"),onClick:()=>{t.current.prev()},children:Object(u.jsx)(v.a,{})}),Object(u.jsx)("div",{className:g()("home-base-banner-switch-btn","home-base-banner-next"),onClick:()=>{t.current.next()},children:Object(u.jsx)(h.a,{})})]}),Object(u.jsx)(b.a,{theme:{components:{Carousel:{autoplaySpeed:5e3,dotActiveWidth:50,dotHeight:12,dotGap:10,dotOffset:20,dotWidth:20}}},children:Object(u.jsx)(m.a,{autoplaySpeed:5e3,ref:t,dots:i.length>1,autoplay:!0,infinite:!0,adaptiveHeight:!0,style:{cursor:"pointer",position:"relative"},children:i.map((t=>Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(_.a,{webpSrc:t.webpSrc,src:t.png,onClick:()=>(t=>{let a="";if(a="zh-CN"===e?t.jumpUrlCn:"zh-TC"===e?t.jumpUrlTc:t.jumpUrl,a=a||t.jumpUrl,a)return window.open(a,t.target||"_blank")})(t),renderChildren:t.render,className:"home-banner-img"})})))})})]})},V=(a(1251),a(1)),E=a.p+"static/media/ico_hot.3df94fdf.svg",B=a.p+"static/media/ico_new_pool.1ce2849e.svg",H=(a(1044),a(118));const X=["pusstrx","vikitatrx","psyoptrx","rocktrx","suncattrx","sundogtrx"],z=["pusstrx","vikitatrx","psyoptrx","rocktrx","suncattrx","sundogtrx"],W=()=>{const e=Object(H.useMobileOnly)();return Object(u.jsxs)("div",{className:"slogan",children:[Object(u.jsx)("div",{className:"title",children:e?d.a.getHTML("home.section.liquidity_farm"):d.a.get("home.section.liquidity_farm").replace("<br/>","")}),Object(u.jsx)("div",{className:"content ".concat("en-US"===window.localStorage.getItem("lang")?" en ":""),children:d.a.get("home.section.featured_pools")})]})},J=()=>Object(u.jsxs)("div",{className:"token-icons",children:[Object(u.jsx)("img",{style:{marginRight:"-8px"},src:Object(p.g)("default"),alt:"default icon"}),Object(u.jsx)("img",{src:Object(p.g)("default"),alt:"default icon"})]}),K=e=>{let{id:t,version:a}=e;const o=p.f[t];return Object(u.jsx)("div",{className:"token-icons",children:Object(u.jsx)("img",{src:o,alt:"".concat(t," icon")})})},Z=(e,t)=>z.includes(e);var G=()=>{const e=Object(o.d)((()=>c.default.pool)),t=Object(o.d)((()=>c.default.farmStore)),a=Object(o.d)((()=>c.default.pumpFarmStore)),s=Object(o.d)((()=>c.default.network)),[i,l]=n.a.useState({}),[r,p]=n.a.useState({}),[b,m]=n.a.useState(!0);n.a.useEffect((()=>{!async function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.stakeVersion;try{await e.getStakeApyDataNew(),l({...e["stakeData"+o]}),await t.getFarmStakeApyData();const s=t.farmData;await a.getFarmStakeApyData();const n=a.farmData;p({...s,...n})}finally{m(!1)}}()}),[]);const j=()=>{const e=e=>{let{flexApy:t,fixApy:a,govApy:o}=e;return{minApy:t,maxApy:Object(V.a)(a).plus(o)}};let t=Object.values(i).map((t=>{let{id:a,symbol:o,version:s,token:n,lpStaker:i,fromSunPump:c,...l}=t;const r=e(l).maxApy;return"twopoollpNew"===a||"usddusdt"===a?"":{id:a,symbol:o,version:s,maxApy:r,apyText:Object(V.t)(r)+"%",token:n,lpStaker:i,fromSunPump:c}})).filter((e=>{let{maxApy:t,id:a}=e;return!!t&&"twopoollpNew"!==a})).sort(((e,t)=>t.maxApy.minus(e.maxApy)));t=[...Object.values(r).map((t=>{let{id:a,symbol:o,version:s,token:n,lpStaker:i,fromSunPump:c,...l}=t;const r=e(l).maxApy||Object(V.a)(0);return{id:a,symbol:o,version:s,maxApy:r,apyText:Object(V.t)(r)+"%",token:n,lpStaker:i,fromSunPump:c}})).filter((e=>{let{id:t}=e;return X.includes(t)})).sort(((e,t)=>t.maxApy.minus(e.maxApy))),...t],t=t.slice(0,5);return Object(u.jsx)("div",{className:"farm-apy-wrapper",children:t&&5===t.length&&t.map((e=>{let{apyText:t,symbol:a,id:o,version:s,token:n,lpStaker:i,fromSunPump:c}=e;return Object(u.jsxs)("div",{className:g()("farm-apy-item",{"farm-apy-hot":Z(o)}),children:[Object(u.jsxs)("div",{className:"pc-wrap",children:[Object(u.jsx)("img",{className:"hot-img",src:B,alt:"newPool"}),Object(u.jsx)("div",{className:"farm-apy-name",children:"SunBoost"}),Object(u.jsxs)("div",{className:"apy-upper-part",children:[b?Object(u.jsx)(J,{}):Object(u.jsx)(K,{id:o,version:s}),Object(u.jsxs)("div",{className:"symbol-text",children:["twopoollpNew"===o||"usddusdt"===o?Object(u.jsx)("img",{className:"apy-hot-icon",src:E,alt:"hot"}):"",b?null:a]})]}),Object(u.jsxs)("div",{className:"apy-lower-part",children:[Object(u.jsxs)("div",{className:"apy-up-to-text",children:[Object(u.jsx)("div",{className:"apy-up-to",children:d.a.get("home.section.apy_up_to")}),Object(u.jsx)("div",{className:"apy-text",children:b?null:t})]}),Object(u.jsx)("a",{className:"apy-btn",href:c?"/#/pump_stake?search=".concat(i):"/#/stake/two?search=".concat(i),children:d.a.get("home.section.stake_to_earn")})]})]}),Object(u.jsxs)("div",{className:"mobile-wrap",children:[Object(u.jsx)("img",{className:"hot-img",src:B,alt:"newPool"}),Object(u.jsxs)("div",{className:"farm-apy-header",children:[b?Object(u.jsx)(J,{}):Object(u.jsx)(K,{id:o,version:s}),Object(u.jsxs)("div",{className:"symbol-text",children:[b?null:a,"twopoollpNew"===o||"usddusdt"===o?Object(u.jsx)("img",{className:"apy-hot-icon",src:E,alt:"hot"}):""]}),Object(u.jsx)("div",{className:"farm-pool-version",children:"SunBoost"})]}),Object(u.jsxs)("div",{className:"farm-apy-btm",children:[Object(u.jsxs)("div",{className:"farm-apy-btm-l",children:[Object(u.jsx)("div",{className:"apy-up-to",children:d.a.get("home.section.apy_up_to")}),Object(u.jsx)("div",{className:"apy-text",children:b?null:t})]}),Object(u.jsx)("div",{className:"farm-apy-btm-r",children:Object(u.jsx)("a",{className:"apy-btn",href:c?"/#/pump_stake?search=".concat(i):"/#/stake/two?search=".concat(i),children:d.a.get("home.section.stake_to_earn")})})]})]})]},o)}))})};return Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)("div",{className:"apy-section",children:[Object(u.jsx)(W,{}),Object(u.jsx)(j,{})]})})},Y=a.p+"static/media/bg_gov.72291deb.png",Q=a.p+"static/media/bg_gov_light.bb13873a.png";var $=()=>{const e=Object(o.d)((()=>c.default.themeStore)),t=window.localStorage.getItem("lang")||d.a.options.currentLocale;return Object(u.jsx)(o.a,{children:()=>Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"gov",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"box-l",children:Object(u.jsx)("img",{src:"dark"===e.theme?Y:Q,alt:"earch"})}),Object(u.jsxs)("div",{className:"box-r",children:[Object(u.jsx)("div",{className:"title",children:d.a.get("home.section.participate_in_governance")}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"content-row",children:d.a.get("home.section.mining_speed")}),Object(u.jsx)("div",{className:"content-row",dangerouslySetInnerHTML:{__html:d.a.get("home.section.by_locking_sun")}})]}),Object(u.jsx)("a",{className:"gov-btn",href:"/?lang=".concat(t,"#/governance"),children:d.a.get("toast.warning_tip_more")})]})]})})})})},ee=a(1052),te=a.n(ee),ae=a(375),oe=a(132),se=a(14),ne=a(40),ie=a.n(ne),ce=a(59),le=a.n(ce),re=a(137),de=a(1322);var pe=e=>{const t=Object(o.d)((()=>c.default.network)),a=Object(o.d)((()=>c.default.homeTokens)),s=Object(o.d)((()=>c.default.pool)),{swapToken:n}=s,{toToken:i}=n,l=Object(V.ib)(a.inUsd),r=Object(V.ib)(e.fromValue),p=Object(V.ib)(t.liquidityProviderFee),b=l.dividedBy(r),m=Object(V.v)(b.multipliedBy(p),{dp:2});return Object(u.jsx)(o.a,{children:()=>Object(u.jsx)("div",{className:"description-card",children:Object(u.jsxs)("ul",{className:"description-list",children:[Object(u.jsxs)("li",{className:"description-list-item",children:[Object(u.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_min_received"),"\uff1a"]}),Object(u.jsx)("span",{className:"text",children:Object(V.v)(t.dependentValue,{dp:i.tokenDecimal})+" "+i.tokenSymbol})]}),Object(u.jsxs)("li",{className:"description-list-item",children:[Object(u.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_price_impact"),"\uff1a"]}),Object(u.jsx)("span",{className:"text",children:String(t.priceImpact).indexOf("NaN")>-1?"--":(0===+t.priceImpact?t.priceImpact:"-"+Math.abs(t.priceImpact))+"%"})]}),Object(u.jsxs)("li",{className:"description-list-item",children:[Object(u.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_liquidity_fee"),"\uff1a"]}),Object(u.jsxs)("span",{className:"text",children:[(t.liquidityProviderFee||0)+" "+s.swapToken.fromToken.tokenSymbol," / ".concat("--"!==m?m:0," ").concat(d.a.get("swap.usd"))]})]})]})})})},ue=a(382),be=a(1091),me=a(1055),je=a(1121),ge=a(175),ve=a(1074),he=a.n(ve);var _e=e=>{const{swapData:t}=e,a=Object(o.d)((()=>c.default.network)),s=Object(o.d)((()=>c.default.pool)),n=Object(o.d)((()=>c.default.homeTokens)),{swapToken:l}=s,{dependentValue:r}=a,{fromToken:p,toToken:b}=l,{fromValue:m,toValue:j,priceStr:g,priceInverseStr:v,priceImpactColor:h}=t,_=()=>{e.hideSwapModal&&e.hideSwapModal()},O=()=>{e.onRetryAction&&e.onRetryAction()},f=()=>{e.beforeSwapToken&&e.beforeSwapToken()},w=()=>{e.beforeHideSwapModal&&e.beforeHideSwapModal()},x=(n.actionState,n.actionState,{start:"process",default:"wait",pending:"process",success:"finish",failed:"error",error:"error"}),k=Object(H.default)(H.isMobileOnlyMedia);return Object(u.jsx)(o.a,{children:()=>Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(je.a,{title:"success"===n.actionState?d.a.get("action.swapSuccessTitle"):n.swapPopTitle,closable:"success"!==n.actionState,open:e.visible,onCancel:w,centered:!0,fromToken:{logo:s.swapToken.fromToken.tokenLogoUrl,symbol:s.swapToken.fromToken.tokenSymbol,amount:m,price:"1 ".concat(s.swapToken.fromToken.tokenSymbol," =\n              ").concat(Object(V.v)(v,{dp:s.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:i.default.minPrice}),"\n              ").concat(s.swapToken.toToken.tokenSymbol," ")},toToken:{logo:s.swapToken.toToken.tokenLogoUrl,symbol:s.swapToken.toToken.tokenSymbol,amount:j,price:"1 ".concat(s.swapToken.toToken.tokenSymbol," =\n              ").concat(Object(V.v)(g,{dp:s.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:i.default.minPrice}),"\n              ").concat(s.swapToken.fromToken.tokenSymbol," ")},infoList:[{label:d.a.get("swap.detail_slippage"),value:(Object(V.a)(a.settingSlippage).lt(.01)?"<0.01":a.settingSlippage)+"%",hide:"0.5"===a.settingSlippage},{label:d.a.get("swap.detail_min_received"),value:Object(V.v)(r,{dp:b.tokenDecimal})+" "+s.swapToken.toToken.tokenSymbol,hide:!!n.swapTRXState||!n.receivedFlag,tip:d.a.get("swap.detail_min_received_tip")},{label:d.a.get("swap.detail_max_sold"),value:Object(V.v)(r,{dp:p.tokenDecimal})+" "+s.swapToken.fromToken.tokenSymbol,hide:!!n.swapTRXState||n.receivedFlag,tip:d.a.get("swap.detail_max_sold_tip")},{label:d.a.get("swap.detail_price_impact"),value:String(a.priceImpact).indexOf("NaN")>-1?"--":(0===+a.priceImpact?"":"-")+Math.abs(a.priceImpact)+"%",hide:!!n.swapTRXState,tip:d.a.get("swap.detail_price_impact_tip"),valueType:"orange"===h?"warning":"red"===h?"error":"default"},{label:d.a.get("swap.detail_liquidity_fee"),value:a.liquidityProviderFee+" "+s.swapToken.fromToken.tokenSymbol,hide:!!n.swapTRXState,tip:d.a.getHTML("swap.detail_liquidity_fee_tip_v2")}],tip:n.receivedFlag?d.a.get("swap.confirm_warning_output",{amount:Object(V.v)(r,{dp:b.tokenDecimal}),token:s.swapToken.toToken.tokenSymbol}):d.a.get("swap.confirm_warning_input",{amount:Object(V.v)(r,{dp:p.tokenDecimal}),token:s.swapToken.fromToken.tokenSymbol}),actionStatus:n.actionState,approveItems:[{status:x[n.approveActionState||"default"],title:["error","failed"].includes(n.approveActionState)?n.approveActionError:"pending"===n.approveActionState?d.a.get("sunSwap.action.doingAct"):n.approveActionTitle},{status:x[n.swapActionState||"default"],title:["error","failed"].includes(n.swapActionState)?n.swapActionError:"pending"===n.swapActionState?d.a.get("sunSwap.action.doingAct"):n.swapActionTitle}],successFromValue:n.successFromValue,successToValue:n.successToValue,footer:null,children:Object(u.jsxs)("div",{style:{marginTop:30},children:[n.swapErrorInfo&&Object(u.jsxs)("div",{className:"home-swap-error-text",children:[Object(u.jsx)("span",{className:he.a.error_icon,children:"!"}),n.swapErrorInfo]}),"line"===n.actionState&&Object(u.jsx)(ge.a,{block:!0,onClick:O,size:k?"middle":"large",disabled:n.actionDisabled,children:n.actionInfo}),"info"===n.actionState&&Object(u.jsx)(ge.a,{onClick:f,size:k?"middle":"large",disabled:n.swapPopBtnDisabled,type:"orange"===h?"warning":"red"===h?"error":void 0,block:!0,children:n.swapPopBtn}),"success"===n.actionState&&Object(u.jsx)(ge.a,{onClick:_,size:k?"middle":"large",block:!0,type:"orange"===h?"warning":"red"===h?"error":void 0,children:d.a.get("action.closeBtn")})]})})})})},Oe=a(1470),fe=a(1471);var we=e=>{const[t,a]=Object(s.useState)(!1),n=Object(o.d)((()=>c.default.pool)),{swapToken:l}=n,{fromToken:r,toToken:p}=l,{priceInverseStr:b,priceStr:m}=e,j=async()=>{a(!t)};return Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)("div",{className:"swap-rate",children:[Object(u.jsxs)("span",{className:"swap-rate-label swap-rate-label1",children:[d.a.get("scan.chart.price"),"\uff1a"]}),t?d.a.getHTML("swap.input_from_per",{toToken:r.tokenSymbol,price:Object(V.v)(b,{miniText:i.default.minPrice,miniTextNoZero:!0,separator:!1,dp:p.tokenDecimal,cutZero:!0}),fromToken:p.tokenSymbol}):d.a.getHTML("swap.input_from_per",{toToken:p.tokenSymbol,price:Object(V.v)(m,{miniText:i.default.minPrice,miniTextNoZero:!0,separator:!1,dp:r.tokenDecimal,cutZero:!0}),fromToken:r.tokenSymbol}),Object(u.jsx)("img",{src:Oe.a,className:"purple-switch base-dark-show",onClick:j,alt:""}),Object(u.jsx)("img",{src:fe.a,className:"purple-switch base-light-show",onClick:j,alt:""})]})})};var xe=e=>{const t=Object(o.d)((()=>c.default.network)),a=Object(o.d)((()=>c.default.homeTokens)),{errorTip:s,priceImpactColor:l}=e,r=()=>s===d.a.get("trade.tip_1")?Object(u.jsx)("div",{className:"submit-btn",onClick:()=>(()=>{let e=window.localStorage.getItem("lang");window.open("".concat(i.default.sunSwapV2,"?lang=").concat(e),"_blank")})(),children:s}):Object(u.jsx)("div",{className:"submit-btn disabled",children:s||d.a.get("buysell.swap")}),p=()=>Object(u.jsx)("div",{className:"submit-btn ".concat(l," ").concat(a.isRequesting&&"disabled"),onClick:()=>{e.showSwapModal&&e.showSwapModal()},children:"red"===l?d.a.get("swap.action_high"):d.a.get("buysell.swap")});return Object(u.jsx)(o.a,{children:()=>Object(u.jsx)(n.a.Fragment,{children:t.isConnected?s?Object(u.jsx)(r,{}):Object(u.jsx)(p,{}):Object(u.jsx)("div",{className:"submit-btn",onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),children:d.a.get("header.connect_wallet")})})})};var ke=e=>{const t=Object(o.d)((()=>c.default.pool)),a=Object(o.d)((()=>c.default.homeTokens)),{swapToken:s}=t,{fromToken:n}=s,l=a.swapPool||[],r=e.fromValue;let p=0;l.includes("v1")&&(p+=i.default.swapFeeAmount),l.includes("v2")&&(p+=i.default.swapFeeAmountV2);return Object(u.jsx)(o.a,{children:()=>Object(u.jsx)("div",{children:"TRX"===n.tokenSymbol&&r?Object(V.ib)(n.balance).lt(p)?Object(u.jsx)("div",{className:"safe-amount-tip safe-amount",children:d.a.getHTML("list.trx_tip_3",{value:p})}):Object(V.ib)(n.balance).minus(p).lt(Object(V.ib)(r))?Object(u.jsxs)("div",{className:"safe-amount-tip safe-amount",children:[Object(u.jsxs)("span",{className:"safe-word",children:[d.a.getHTML("list.trx_tip_1",{value:p})," "]}),Object(u.jsx)("span",{className:"safe-btn",onClick:()=>((t,a)=>{e.onSafeMax&&e.onSafeMax(t,a)})("from",p),children:d.a.get("list.trx_tip_2")})]}):null:null})})},Te=a(1710),ye=a.n(Te),Se=a(174);class Ne extends n.a.Component{constructor(e){super(e)}render(){const{token:e={}}=this.props;return Object(u.jsx)("div",{className:g()({[ye.a.dropdown_choose]:!(null!==e&&void 0!==e&&e.tokenAddress)}),children:Object(u.jsx)("p",{className:g()({[ye.a.dropdown]:!0,[ye.a.dropdown_disabled]:this.props.disabled}),onClick:()=>{this.props.showModal()},children:e.tokenAddress?Object(u.jsxs)("div",{className:"selector",children:[Object(u.jsx)("img",{src:e.tokenLogoUrl||Se.a,alt:"",onError:e=>{e.target.onerror=null,e.target.src=Se.a}}),Object(u.jsx)("span",{className:ye.a.dropdown_symbol,children:e.tokenSymbol})]}):Object(u.jsxs)("div",{className:"selector",children:[d.a.get("swap.add_choose_select")," "]})})})}}var De=Ne,Ae=a(1069),Ce=a.p+"static/media/ico_view_token.5cfb5e2f.svg",Pe=a.p+"static/media/ico_view_token_light.96eeb3fe.svg";var Ue=e=>{const t=Object(o.d)((()=>c.default.pool)),{swapToken:a}=(Object(o.d)((()=>c.default.network)),t),{fromToken:s,toToken:n}=a,{isFrom:l,errorTip:r}=e,p=()=>{window.open("".concat(i.default.tronscanUrl,"/address/").concat(e.token.tokenAddress),"_blank")};return Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"info-row",children:[Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"from-text",children:Object(u.jsx)(De,{showModal:e.showModal,token:e.token})}),e.token.tokenAddress!==i.default.trxFakeAddress?Object(u.jsxs)("div",{className:"view-token",children:[Object(u.jsx)("img",{className:"base-dark-show",onClick:p,src:Ce,alt:"viewToken"}),Object(u.jsx)("img",{className:"base-light-show",onClick:p,src:Pe,alt:"viewToken"})]}):""]}),Object(u.jsx)(Ae.a,{tokenAddress:e.token.tokenAddress,style:{marginLeft:20}})]}),Object(u.jsxs)("div",{className:"balance-wrap",children:[Object(u.jsx)("span",{className:"balance-text",children:d.a.get("buysell.balance")}),Object(u.jsxs)("span",{className:"balance-value",children:[l?Object(V.v)(s.balance,{dp:6,cutZero:!0}):Object(V.v)(n.balance,{dp:6,cutZero:!0}),"\xa0",e.token.tokenSymbol]})]})]})})};var Le=e=>{const t=Object(o.d)((()=>c.default.homeTokens)),{isFrom:a}=e,s=()=>{let e=Object(V.ib)(t.inUsd);const a=Object(V.ib)(t.outUsd).minus(e).div(e).times(100),o=Object(V.v)(a);return Object(u.jsxs)("span",{children:["\uff08","Infinity"===o?"--":o,"%\uff09"]})};return Object(u.jsx)(o.a,{children:()=>Object(u.jsx)("div",{className:"input-usd",children:a?Object(u.jsxs)("div",{children:["$",Object(V.v)(t.inUsd)]}):Object(u.jsxs)("div",{children:["$",Object(V.v)(t.outUsd),s()]})})})},Me=(a(1106),a(6)),Re=a(30);a(71);const Ie=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tokenAddress,a=e.tokenAddress,{trxFakeAddress:o,wtrxAddress:s}=i.default;return t===o&&a===s||t===s&&a===o};var Fe=a(1324);const{usdcPools:qe,usddPools:Ve,twoKeyPools:Ee,twoKeyPoolContracts:Be,twoKeyNewPoolContracts:He}=i.default;var Xe=()=>{const e=Object(o.d)((()=>c.default.homeTokens)),[t,a]=Object(s.useState)(!1),[n,l]=Object(s.useState)({}),[r,d]=Object(s.useState)(""),[p,u]=Object(s.useState)(""),b=async(t,o,s,n)=>{try{const i=ie()(10).pow(t.tokenDecimal),c=ie()(10).pow(o.tokenDecimal),r=Object(V.ib)(s).gt(0)?Object(V.ib)(s).times(i).div(c)._toFixed(Number(o.tokenDecimal),1):"";l({timestamp:n,amountOut:Object(V.c)(r),fee:"",impact:"",pool:["v2"],tokens:[t.tokenAddress,o.tokenAddress],roadForName:[t.tokenSymbol.toUpperCase(),o.tokenSymbol.toUpperCase()],inUsd:ie()(e.trxPrice).times(ie()(r)),outUsd:ie()(e.trxPrice).times(ie()(r))}),a(!1),d("success")}catch(i){console.log("get token price error: ",i)}},m=async(t,a,o)=>{if(!o)return{};const s=ie()(10).pow(t.tokenDecimal);try{let n="";e.fromTokenPrice||(n=await Object(Fe.a)(t),e.setData({fromTokenPrice:n}));const c=g(o);let l=await Object(Re.o)({fromToken:"TRX"===t.tokenSymbol?i.default.trxFakeAddress:t.tokenAddress,toToken:"TRX"===a.tokenSymbol?i.default.trxFakeAddress:a.tokenAddress,amountIn:Object(V.v)(Object(V.ib)(o).times(s),{separator:!1,cutZero:!0}),typeList:c});if(0===l.code){const e=le.a.cloneDeep(null===l||void 0===l?void 0:l.data),t=(null===l||void 0===l?void 0:l.data[0])||{};return t.roadPathArr=e||[],t||{}}d("failed")}catch(n){console.log("get routing error: ",n)}},j=async(e,t,a,o,s)=>{var n,i;if(!o)return{};let c=e.tokenSymbol.toLowerCase(),l=t.tokenSymbol.toLowerCase(),r=a;if(r=Object(V.ib)(r),!r.gt(0))return;let d=w(c,l)?Ee:f(c,l)?Ve:qe;const p=null===(n=d[c])||void 0===n?void 0:n.index,u=null===(i=d[l])||void 0===i?void 0:i.index;try{var b;const{result:o,dx_precision:n,dy_precision:i,pools:d,type:m}=await v(c,l,r)||{};if(null===o||void 0===o||!o.success)return;const j=a,g=Object(V.c)(null===o||void 0===o?void 0:o.value.div(i)._toFixed(null===(b=d[l])||void 0===b?void 0:b.decimal,1)),h=await O(m,j,g,p,u,n,i);return{amountOut:g,fee:s?Object(V.ib)(a).times(4).div(1e4)._toFixed(Number(e.tokenDecimal),1):0,impact:h,pool:m,roadForAddr:[p,u],roadForName:[e.tokenSymbol,t.tokenSymbol]}}catch(m){console.log("get dy error: ",m)}},g=t=>Object(V.ib)(e.fromTokenPrice).times(Object(V.ib)(t)).gt(0)?"":"PSM,CURVE,CURVE_COMBINATION,WTRX,SUNSWAP_V1,SUNSWAP_V2",v=async(e,t,a)=>{if([e,t].includes("usdd")){if([e,t].includes("usdc"));else if([e,t].includes("usdt")){return await h("2pool",e,t,a)}}else if([e,t].includes("usdt")){if([e,t].includes("tusd")){let o=await h("old3pool",e,t,a),s=await h("oldusdcpool",e,t,a);return _([o,s])}if([e,t].includes("usdj"))return await h("old3pool",e,t,a);if([e,t].includes("usdc")){return await h("oldusdcpool",e,t,a)}}else if([e,t].includes("tusd")){if([e,t].includes("usdj"))return await h("old3pool",e,t,a);if([e,t].includes("usdc"))return await h("oldusdcpool",e,t,a)}else if([e,t].includes("usdc")&&[e,t].includes("usdj"))return await h("oldusdcpool",e,t,a)},h=async function(){var e,t,a,o,s,n,i,c,l,r,d,p,u,b,m,j,g,v,h,_,O,f,w,x,k,T,y,S,N;let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"old3pool",A=arguments.length>1?arguments[1]:void 0,C=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0;try{if(Object(V.ib)(P).isNaN())return;let U=null,L=null,M=null,R=null,I=null,F=null;switch(D){case"old3pool":D="old3pool",I=qe,M=null===(e=I[A])||void 0===e?void 0:e.precision,L=null===(t=I[C])||void 0===t?void 0:t.precision,R=null===(a=Object(V.ib)(P))||void 0===a||null===(o=a.times(M))||void 0===o||null===(s=o._toIntegerDown())||void 0===s?void 0:s._toHex(),U=await Object(Me.rb)(null===(n=I[A])||void 0===n?void 0:n.index,null===(i=I[C])||void 0===i?void 0:i.index,R);break;case"3pool":D="3pool",I=Ve,M=null===(c=I[A])||void 0===c?void 0:c.precision,L=null===(l=I[C])||void 0===l?void 0:l.precision,R=null===(r=Object(V.ib)(P))||void 0===r||null===(d=r.times(M))||void 0===d||null===(p=d._toIntegerDown())||void 0===p?void 0:p._toHex(),U=await Object(Me.V)(null===(u=I[A])||void 0===u?void 0:u.index,null===(b=I[C])||void 0===b?void 0:b.index,R);break;case"old2pool":D="old2pool",I=Ee,M=null===(m=I[A])||void 0===m?void 0:m.precision,L=null===(j=I[C])||void 0===j?void 0:j.precision,R=null===(g=Object(V.ib)(P))||void 0===g||null===(v=g.times(M))||void 0===v||null===(h=v._toIntegerDown())||void 0===h?void 0:h._toHex(),U=await Object(Me.U)(I[A].index,I[C].index,R,Be.stablePool);break;case"2pool":D="2pool",I=Ee,M=null===(_=I[A])||void 0===_?void 0:_.precision,L=null===(O=I[C])||void 0===O?void 0:O.precision,R=null===(f=Object(V.ib)(P))||void 0===f||null===(w=f.times(M))||void 0===w||null===(x=w._toIntegerDown())||void 0===x?void 0:x._toHex(),U=await Object(Me.U)(I[A].index,I[C].index,R,He.stablePool);break;case"oldusdcpool":D="oldusdcpool",I=qe,M=null===(k=I[A])||void 0===k?void 0:k.precision,L=null===(T=I[C])||void 0===T?void 0:T.precision,R=null===(y=Object(V.ib)(P))||void 0===y||null===(S=y.times(M))||void 0===S||null===(N=S._toIntegerDown())||void 0===N?void 0:N._toHex(),U=await Object(Me.rb)(I[A].index,I[C].index,R)}return{result:U,dx_precision:M,dy_precision:L,pools:I,type:D,poolData:F}}catch(U){console.log("getAllDy error: "+U)}},_=e=>e.reduce((function(e,t){return ie()(e.result.value).div(e.dy_precision).gte(ie()(t.result.value).div(t.dy_precision))?e:t})),O=async(e,t,a,o,s,n,i)=>{var c,l,r,d,p,u,b,m,j,g,v,h,_,O,f;let w=ie()(1),x=null,k=null;switch(e){case"old3pool":for(3!==s&&0!==s||(w=3===o&&0===s||0===o&&3===s?ie()("1"):ie()("1000000000000")),x=null===(c=Object(V.ib)(1))||void 0===c||null===(l=c.times(w))||void 0===l||null===(r=l._toIntegerDown())||void 0===r?void 0:r._toHex(),k=await Object(Me.rb)(o,s,x);ie()(0).eq(k.value);){var T,y,S;w=w.times(ie()(10)),x=null===(T=Object(V.ib)(1))||void 0===T||null===(y=T.times(w))||void 0===y||null===(S=y._toIntegerDown())||void 0===S?void 0:S._toHex(),k=await Object(Me.rb)(o,s,x)}break;case"3pool":for(2===s&&(w=ie()("1000000000000")),x=null===(d=Object(V.ib)(1))||void 0===d||null===(p=d.times(w))||void 0===p||null===(u=p._toIntegerDown())||void 0===u?void 0:u._toHex(),k=await Object(Me.V)(o,s,x);ie()(0).eq(k.value);){var N,D,A;w=w.times(ie()(10)),x=null===(N=Object(V.ib)(1))||void 0===N||null===(D=N.times(w))||void 0===D||null===(A=D._toIntegerDown())||void 0===A?void 0:A._toHex(),k=await Object(Me.V)(o,s,x)}break;case"old2pool":for(1===s&&(w=ie()("1000000000000")),x=null===(b=Object(V.ib)(1))||void 0===b||null===(m=b.times(w))||void 0===m||null===(j=m._toIntegerDown())||void 0===j?void 0:j._toHex(),k=await Object(Me.U)(o,s,x,Be.stablePool);ie()(0).eq(k.value);){var C,P,U;w=w.times(ie()(10)),x=null===(C=Object(V.ib)(1))||void 0===C||null===(P=C.times(w))||void 0===P||null===(U=P._toIntegerDown())||void 0===U?void 0:U._toHex(),k=await Object(Me.U)(o,s,x,Be.stablePool)}break;case"2pool":for(1===s&&(w=ie()("1000000000000")),x=null===(g=Object(V.ib)(1))||void 0===g||null===(v=g.times(w))||void 0===v||null===(h=v._toIntegerDown())||void 0===h?void 0:h._toHex(),k=await Object(Me.U)(o,s,x,He.stablePool);ie()(0).eq(k.value);){var L,M,R;w=w.times(ie()(10)),x=null===(L=Object(V.ib)(1))||void 0===L||null===(M=L.times(w))||void 0===M||null===(R=M._toIntegerDown())||void 0===R?void 0:R._toHex(),k=await Object(Me.U)(o,s,x,He.stablePool)}break;case"oldusdcpool":for(3!==s&&0!==s||(w=3===o&&0===s||0===o&&3===s?ie()("1"):ie()("1000000000000")),x=null===(_=Object(V.ib)(1))||void 0===_||null===(O=_.times(w))||void 0===O||null===(f=O._toIntegerDown())||void 0===f?void 0:f._toHex(),k=await Object(Me.rb)(o,s,x);ie()(0).eq(k.value);){var I,F,q;w=w.times(ie()(10)),x=null===(I=Object(V.ib)(1))||void 0===I||null===(F=I.times(w))||void 0===F||null===(q=F._toIntegerDown())||void 0===q?void 0:q._toHex(),k=await Object(Me.rb)(o,s,x)}}const E=Object(V.ib)(t),B=Object(V.ib)(a),H=Object(V.ib)("9996"),X=Object(V.ib)("10000"),z=Object(V.ib)("1000000000000000000"),W=Object(V.ib)("100000"),J=E.times(H).times(W).times(z).times(n).div(B).div(i),K=w.times(X).times(W).times(z).div(k.value),Z=E.times(X).times(z).times(n).div(B).div(i),G=J.minus(K).div(Z);return Object(V.v)(G.div(ie()(10)).div(ie()(100)))},f=(e,t)=>[e,t].includes("usdd")&&![e,t].includes("usdc"),w=(e,t)=>i.default.twoKeyPoolKeys.includes(e)&&i.default.twoKeyPoolKeys.includes(t);return{sendRequest:t=>{const{fromToken:o,toToken:s,fromValue:n,receivedFlag:i,timestamp:c}=t;a(!0);const r=Ie(o,s);if(e.setData({swapTRXState:r}),r)return b(o,s,n,c);Promise.allSettled([m(o,s,n),j(o,s,n,!1,i)]).then((e=>{var t;let o=(null===(t=(e.filter((e=>"fulfilled"===e.status&&Object.keys(e.value||{}).length))||[]).sort(((e,t)=>{var a,o;return Object(V.ib)(null===t||void 0===t||null===(a=t.value)||void 0===a?void 0:a.amount)-Object(V.ib)(null===e||void 0===e||null===(o=e.value)||void 0===o?void 0:o.amount)}))[0])||void 0===t?void 0:t.value)||"";o&&(o.timestamp=c,d("success")),l(o||{}),a(!1)}))},loading:t,result:n,requestStatus:r,debugStr:p}},ze=(a(1122),a.p+"static/media/icon_swap.85053dec.svg"),We=a.p+"static/media/icon_swap_to_light.b1e17ef5.svg",Je=a.p+"static/media/icon_swap_active.b9641109.svg",Ke=a.p+"static/media/icon_swap_active_light.770ec4a4.svg";a(1472),a(1711),a(2231),a(165);var Ze=a(74),Ge=a(84),Ye=a(1097);let Qe=null;var $e=()=>{const e=Object(o.d)((()=>c.default.network)),t=Object(o.d)((()=>c.default.pool)),a=Object(o.d)((()=>c.default.homeTokens)),n=Object(o.d)((()=>c.default.themeStore)),[l,r]=Object(s.useState)(d.a.get("swap.action_enter_amount")),[p,b]=Object(s.useState)(!1),m="en-US"===window.localStorage.getItem("lang"),[j,v]=Object(s.useState)(""),[h,_]=Object(s.useState)(""),[O,f]=Object(s.useState)(!0),[w,x]=Object(s.useState)("-"),[k,T]=Object(s.useState)("-"),[y,S]=Object(s.useState)(""),N=Object(s.useRef)(null),[D,A]=Object(s.useState)(!1),[C,P]=Object(s.useState)(!1),[U,L]=Object(s.useState)(!1),[M,R]=Object(s.useState)(!1),[I,F]=Object(s.useState)([]),[q,E]=Object(s.useState)(""),B=Object(re.a)(window.navigator).any,H=Object(s.useRef)(null),{dealWarningVisible:X,dealWarningTokens:z}=t,{allEnableTokens:W,byUrl:J,enableLists:K,yourAddTokens:Z,showModal:G,hideModal:Y,showModalKeys:Q}=Object(ue.d)();Object(s.useEffect)((()=>{t.setData({allEnableTokens:W,byUrl:J,enableLists:K,yourAddTokens:Z}),t.setTokenList(1)}),[W,J,K,t,Z]),Object(s.useEffect)((()=>($(),()=>{Qe&&clearInterval(Qe)})),[]),Object(s.useEffect)((()=>{const e=Object(se.p)((()=>t.swapToken.fromToken.tokenAddress),((e,t,a)=>{L(!0)})),o=Object(se.p)((()=>t.swapToken.toToken.tokenAddress),((e,t,a)=>{L(!0)})),s=Object(se.p)((()=>a.swapTxid),(e=>{e&&setTimeout((()=>{const o=e.fromValue,s=e.toValue;v(""),_(""),a.setData({successFromValue:o,successToValue:s,actionRetry:"",actionState:"success",actionStarted:!1}),t.getBalanceAndApprove(),ce()}),5e3)}));return()=>{e(),o(),s()}}),[]);const $=async()=>{Object(V.cb)(),e.getSettingsData(),t.setData({swapRef:N});try{ee(),t.getBalanceAndApprove(),Qe=setInterval((()=>{t.getBalanceAndApprove(),ee()}),6e3),ne()}catch(a){}},ee=async()=>{try{var e,t,o;const{data:s}=await Object(Re.G)(["TRX"]),n=(null===(e=s.TRX)||void 0===e||null===(t=e.quote)||void 0===t||null===(o=t.USD)||void 0===o?void 0:o.price)||"";a.setData({trxPrice:n})}catch(s){console.log("get trx price error",s)}},te=async e=>{a.setData({fromTokenPrice:""});const t=await Object(Fe.a)(e);a.setData({fromTokenPrice:t})},ne=function(){if(a.isRequesting)return!1;let o="";const s=t.swapToken.fromToken,n=t.swapToken.toToken,i=s.tokenAddress,c=n.tokenAddress,l=ie()(s.balance),p=e.dependentValue;if(!i&&!Object(V.K)("t0")||!c&&!Object(V.K)("t1"))return o=d.a.get("swap.action_select_token"),r(o);if(!j)return!a.receivedFlag&&h?ie()(h).lte(0)?(o=d.a.get("swap.action_enter_amount"),r(o)):(o=d.a.get("swap.action_insufficient_liquidity"),r(o)):(o=d.a.get("swap.action_enter_amount"),r(o));if(Object(V.ib)(j).lte(0))return o=d.a.get("swap.action_enter_amount"),r(o);if(a.swapTRXState&&l&&l.lt(Object(V.ib)(j)))return o=d.a.get("swap.action_insufficient",{token:s.tokenSymbol}),r(o);if(a.receivedFlag){if(!h)return o=d.a.get("swap.action_insufficient_liquidity"),r(o);if(l&&l.lt(Object(V.ib)(j)))return o=d.a.get("swap.action_insufficient",{token:s.tokenSymbol}),r(o);if(Object(V.ib)(j).gt(s.approvedAmount))return o="",f(!0),r(o)}else{if(!a.swapTRXState&&l.lt(Object(V.ib)(p)))return o=d.a.get("swap.action_insufficient",{token:s.tokenSymbol}),r(o);if(!a.swapTRXState&&ie()(p).gt(s.approvedAmount))return o="",f(!0),r(o)}r(o),f(!1)},ce=async()=>{try{const{fromToken:e,toToken:o}=t.swapToken,s=Ie(e,o);if(s)return a.setData({swapTRXState:s}),x(1),T(1),!1;a.setData({swapTRXState:!1}),Se(),Ne(),De(),ne()}catch(e){console.error(e)}};Object(s.useEffect)((()=>{setTimeout((()=>{ce()}),0),ne(),!j&&h&&_(""),h||(a.setTransRoutePath([]),e.setData({priceImpact:""}),e.setData({liquidityProviderFee:""}),a.setData({swapPool:[]}),a.setData({roadForAddr:[]}),a.setData({inUsd:""}),a.setData({outUsd:""}),a.setData({poolFees:[]}),x(""),T(""))}),[h]);const{loading:je,result:ge,requestStatus:ve,sendRequest:he,debugStr:Oe}=Xe();Object(s.useEffect)((()=>{if(!je){if(F(Oe),Object.keys(ge).length&&"success"===ve&&q===ge.timestamp){if(a.setData({isRequesting:!1}),!a.swapTRXState)return a.setData({activePathIndex:0}),a.setTransRoutePathArr(ge.roadPathArr),fe(ge.roadPathArr[0]||[]),!1;fe(ge)}"failed"===ve&&(v(""),_(""))}}),[je,ge,ve,q]);const fe=t=>{a.setTransRoutePath(t.tokens||[]),e.setData({priceImpact:t.impact}),e.setData({liquidityProviderFee:t.fee+""}),a.setData({swapPool:t.poolVersions||[]}),a.setData({roadForAddr:t.tokens||[]}),a.setData({inUsd:t.inUsd}),a.setData({outUsd:t.outUsd}),a.setData({poolFees:t.poolFees}),_(t.amountOut||""),Se(),Ne(),De(),ne(!0)},Te=e=>{a.setData({activePathIndex:e})},ye=async e=>{const{fromToken:o,toToken:s}=t.swapToken;if(!o.tokenAddress||!s.tokenAddress||!e||0===+e)return _(""),void ne();const n=(new Date).getTime();E(n),_(""),he({fromToken:o,toToken:s,fromValue:e,receivedFlag:a.receivedFlag,timestamp:n})},Se=()=>{if(!j||!h)return!1;const{fromToken:e,toToken:a}=t.swapToken;let o="-",s="-",n=Object(V.ib)(j),i=Object(V.ib)(h);const c=n.div(i),l=i.div(n);o=c._toFixed(Number(e.tokenDecimal),1),s=l._toFixed(Number(a.tokenDecimal),1),x(o),T(s)},Ne=()=>{const{fromToken:o,toToken:s}=t.swapToken,n=Ie(o,s),c=new ie.a(e.settingSlippage).div(100);let l=new ie.a(0),r=i.default.trxDecimal;l=n?Object(V.ib)(h):Object(V.ib)(h).times(ie()(1).minus(c)),r=t.swapToken.toToken.tokenDecimal,l=l._toFixed(Number(r),1),e.setData({dependentValue:l}),a.setData({dependentValueSunBig:new ie.a(l).times(new ie.a(10).pow(r))})},De=()=>{const t=e.priceImpact,a=ie()(t).abs().times(-1);let o="--",s="";o=ie()(t).lte(0)&&ie()(t).gt(-.01)?"0.00":"".concat(ie()(t)._toFixed(2)),e.setData({priceImpact:o}),s=ie()(a).lte(-15)?"red":ie()(a).gt(-15)&&ie()(a).lte(-5)?"orange":"",S(s)},Ae=Object(s.useCallback)(le.a.debounce((e=>{(async e=>{e&&a.setData({isRequesting:!0}),await t.getBalanceAndApprove(),await ye(e)})(e)}),200,{leading:!1,trailing:!0}),[]);Object(s.useEffect)((()=>{Ae(j)}),[j]);const Ce=()=>{const{swapToken:e}=t,{fromToken:o}=e,s=ie()(o.balance);if(!ie()(s).gte(0))return;let n=s;const i=n.gt(0)?n._toFixed(Number(6),1):"0";v(Object(V.c)(i)),0===+i&&_(""),a.setData({receivedFlag:!0})},Pe=(e,o)=>{const{swapToken:s}=t,{fromToken:n}=s;if("from"===e){const e=Object(V.c)(Object(V.ib)(n.balance).minus(o));v(e),a.setData({receivedFlag:!0}),ce()}},qe=async()=>{const e={...t.swapToken.fromToken},a={...t.swapToken.toToken};t.swapToken.fromToken=a,t.swapToken.toToken=e,te(a),v(h),_(""),f(!1)},Ve=Object(s.useCallback)((e=>({tokenSymbol:e.symbol,tokenAddress:e.address,tokenDecimal:e.decimals,balance:"--",tokenLogoUrl:e.logoURI,address:null,addressV1:null,addressV2:null,tokenName:e.name||""})),[]),Ee=Object(s.useCallback)((async e=>{try{const{swapToken:o}=t;if(e.tokenDecimal=Number(e.tokenDecimal),e.tokenAddress===o.fromToken.tokenAddress)return;if(t.showModal(1,!1),e.tokenAddress===o.toToken.tokenAddress)return qe();let s=j;s&&e.tokenDecimal!=o.fromToken.tokenDecimal&&(s=Object(V.ib)(s)._toFixed(Number(e.tokenDecimal),1)),o.fromToken={...e},t.setData({swapToken:o}),t.getBalanceAndApprove(),te(o.fromToken),v(Object(V.c)(s)),f(!1);const n=Ie(o.fromToken,o.toToken);a.setData({swapTRXState:n})}catch(o){t.showModal(1,!1),console.log(o)}}),[j,te,a,t,qe]);Object(s.useEffect)((()=>{!async function(){U&&j&&(a.setData({isRequesting:!0}),await t.getBalanceAndApprove(),await ye(j),L(!1))}()}),[j,O,U]);const Be=Object(s.useCallback)((async e=>{const{swapToken:o}=t;if((null===e||void 0===e?void 0:e.tokenAddress)!==o.toToken.tokenAddress){t.showModal(2,!1);try{if(e.tokenAddress===o.fromToken.tokenAddress)return qe();e.tokenDecimal=Number(e.tokenDecimal);let s=h;s&&e.tokenDecimal!=o.toToken.tokenDecimal&&(s=new ie.a(s)._toFixed(Number(e.tokenDecimal),1)),o.toToken={...e},t.setData({swapToken:o}),t.getBalanceAndApprove();const n=Ie(o.fromToken,o.toToken);a.setData({swapTRXState:n})}catch(s){t.showModal(2,!1),console.error(s)}}}),[a,t,qe,h]),He=Object(s.useCallback)((e=>{const a=Ve(e);"from"===t.currentSelect?Ee(a):"to"===t.currentSelect&&Be(a),t.showDealWarningModal(e.address)}),[Ee,Be,t,Ve]),$e=e=>{let o=e.target.value,s=h;if(o){const{valid:e,str:a}=Object(V.Z)(o.replace(/,/g,""),t.swapToken.fromToken.tokenDecimal);if(!e)return;o=a,t.swapToken.fromToken.tokenAddress&&t.swapToken.toToken.tokenAddress||(s="")}else s="";v(Object(V.c)(o)),a.setData({receivedFlag:!0})},et=()=>{const e=t.swapToken.fromToken,o=t.swapToken.toToken;a.swapTRXState&&f(!1);const s=d.a.get("swap.action_swap"),n=["orange","red"].includes(y)?d.a.get("swap.action_swapStill"):d.a.get("swap.confirm_swap"),i=d.a.get("action.swapAct",{from:e.tokenSymbol,to:o.tokenSymbol}),c=d.a.get("action.swapActErr"),l=!a.swapTRXState&&O;a.setData({swapPopTitle:s,swapPopBtn:n,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:d.a.get("action.approveAct",{token:e.tokenSymbol}),approveActionError:d.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:i,swapActionError:c,swapActionState:"",actionInfo:d.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:l?"line":"info",actionStarted:!1,successFromValue:"",successToValue:""}),A(!1)},tt=()=>{if(a.isRequesting)return!1;et(),R(!0),P(!1)};Object(s.useEffect)((()=>{M&&nt()}),[M]);const at=()=>{a.actionStarted?A(!0):ot()},ot=()=>{R(!1),setTimeout((()=>{et()}),1e3)},st=()=>{a.setData({actionStarted:!0,swapPopBtn:d.a.get("action.startBtn"),swapPopBtnDisabled:!0}),a.swapToken(j,h)},nt=()=>{let e=O,o=a.actionRetry;switch(a.swapTRXState&&(e=!1),!o&&e&&(o="approveToken"),o){case"approveToken":a.setData({approveActionState:"start",actionInfo:d.a.get("action.startBtn"),actionDisabled:!0}),(async()=>{const{fromToken:e,toToken:o}=t.swapToken;if(e&&o&&(e.tokenAddress===i.default.trxFakeAddress&&o.tokenAddress===i.default.wtrxAddress||o.tokenAddress===i.default.trxFakeAddress&&e.tokenAddress===i.default.wtrxAddress))return;const s=t.swapToken.fromToken.tokenAddress,n=await Object(Ge.h)(e.tokenAddress,o.tokenAddress)?i.default.v3Contract.homePumpRouter:i.default.v3Contract.router;await Object(Me.c)(s,n,{title:"swap.pop_title_approve",obj:{token:t.swapToken.fromToken.tokenSymbol}})?(f(!1),a.setData({approveActionState:"pending",actionInfo:d.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0}),setTimeout((()=>{a.setData({approveActionState:"success",actionState:"info"})}),5e3)):a.setData({approveActionState:"error",actionRetry:"approveToken",actionInfo:d.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0})})();break;case"swapToken":a.setData({swapActionState:"start",actionInfo:d.a.get("action.startBtn"),actionDisabled:!0}),a.swapToken(j,h)}},it=()=>{A(!1),P(!0)},ct=()=>{A(!1)};Object(s.useEffect)((()=>{if(!D&&C){async function e(){O&&await t.getBalanceAndApprove()}ot(),e()}return()=>{}}),[D,C]);const lt=Object(u.jsx)(o.a,{children:()=>Object(u.jsx)("div",{className:"box-tools",children:Object(u.jsx)("p",{className:"box-tool-item",children:Object(u.jsx)(be.a,{network:e,version:"home",onChange:(t,a)=>{e.saveSettings(t,a),ce()}})})})}),rt=e=>{Object(Ze.a)({action:e,event_category:Ze.j.home})};Object(s.useEffect)((()=>{const e=Object(V.K)("t0"),t=Object(V.K)("t1"),a=e||i.default.trxFakeAddress;H.current.importTokens([a,t])}),[]);const dt=Object(s.useCallback)((e=>{const[a,o]=e;a&&a.address&&(Ee(Ve(a)),t.showDealWarningModal(a.address)),o&&o.address&&(Be(Ve(o)),t.showDealWarningModal(o.address))}),[Ee,Ve]);return Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)("div",{className:"home-swap-box",id:"swap-box",ref:N,children:[Object(u.jsxs)("div",{className:"hero-swap-box-card",children:[Object(u.jsxs)("div",{className:"header-box",children:[Object(u.jsx)("div",{className:"box-header",children:d.a.get("header.swap")}),Object(u.jsx)("div",{className:"header-advanced",children:lt})]}),Object(u.jsx)("div",{className:"box-body",children:Object(u.jsxs)("div",{className:"swap-body",children:[Object(u.jsxs)("div",{className:"input-part from-input",children:[Object(u.jsx)(Ue,{showModal:()=>{t.handleCurrentSelect("from"),G(ue.a.TokenSelectModalKey),rt(Ze.h.from_token)},isFrom:!0,errorTip:l,setMaxFrom:Ce,token:t.swapToken.fromToken}),Object(u.jsxs)("div",{className:g()("swap-input-wrap",{"max-input-wrap":e.isConnected}),children:[Object(u.jsx)(ae.a,{placeholder:p?"":d.a.get("buysell.enter_amount"),className:"from-input ".concat(m?"en":""),onFocus:()=>{b(!0)},onBlur:()=>!j&&!(null!==j&&void 0!==j&&j.length)&&b(!1),value:j,onChange:$e}),e.isConnected?Object(u.jsx)("span",{className:"max-btn ".concat(l?" disabled ":""),onClick:Ce,children:d.a.get("buysell.max")}):null,je?Object(u.jsxs)("div",{className:"bottom-price-loading",children:[d.a.get("swap.calc_usd_loading"),Object(u.jsx)("span",{className:"price-loading-img"})]}):""!==a.inUsd&&Object(u.jsx)(Le,{isFrom:!0})]})]}),a.swapPool&&a.swapPool.some((e=>i.default.safePoolConfig.includes(e)))?Object(u.jsx)(ke,{fromValue:j,onSafeMax:Pe}):"",Object(u.jsxs)("div",{className:"box-control",children:[Object(u.jsxs)("div",{className:"swap-ico-wrap",children:[Object(u.jsx)("img",{src:"dark"===n.theme?ze:We,className:"swap-ico swap-ico-default",onClick:()=>qe(),alt:"switch"}),Object(u.jsx)("img",{src:"dark"===n.theme?Je:Ke,className:"swap-ico swap-ico-active",onClick:()=>qe(),alt:"switch"})]}),je?Object(u.jsxs)("div",{className:"trade-router-loading",children:[d.a.get("swap.loading_router"),Object(u.jsx)("span",{className:"price-loading-img"})]}):Object(u.jsx)(u.Fragment,{children:a.swapTRXState?"":Object(u.jsx)(de.a,{swapPool:a.swapPool,swapTRXState:a.swapTRXState,onChangeRoutePath:fe,onChangeRouteIndex:Te,activePathIndex:a.activePathIndex,transRoutePath:a.transRoutePath,tradeRouterPathArr:a.tradeRouterPathArr,tradeRouterDataArr:a.tradeRouterDataArr},a.activePathIndex)})]}),Object(u.jsxs)("div",{className:"input-part",children:[Object(u.jsx)(Ue,{showModal:()=>{t.handleCurrentSelect("to"),G(ue.a.TokenSelectModalKey),rt(Ze.h.to_token)},token:t.swapToken.toToken,isFrom:!1,errorTip:l}),Object(u.jsxs)("div",{className:"swap-input-wrap",children:[Object(u.jsx)(oe.a,{arrow:!1,title:h,placement:"bottomLeft",align:{offset:B?[10,-5]:[16,-10]},getPopupContainer:e=>e.parentElement||document.body,overlayClassName:"swap-input-wrap-tooltip",children:Object(u.jsx)(ae.a,{placeholder:"0",style:{caretColor:"transparent"},className:"wallet to-input ".concat(m?"en":""),value:h})}),je?Object(u.jsxs)("div",{className:"bottom-price-loading",children:[d.a.get("swap.calc_usd_loading"),Object(u.jsx)("span",{className:"price-loading-img"})]}):""!==a.outUsd&&Object(u.jsx)(Le,{isFrom:!1})]})]})]})}),Object(u.jsxs)("div",{className:"box-footer",children:[Object(u.jsx)("div",{className:"footer-info-row",children:Object(u.jsx)(we,{priceInverseStr:k,priceStr:w})}),"0.5"===e.settingSlippage||a.swapTRXState?null:Object(u.jsx)("div",{className:"description-list",children:Object(u.jsxs)("div",{className:"description-list-item first",children:[Object(u.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_slippage"),"\uff1a"]}),Object(u.jsx)("span",{className:"text",children:(ie()(e.settingSlippage).lt(.01)?"<0.01":e.settingSlippage)+"%"})]})}),j&&h&&t.swapToken.fromToken.tokenAddress&&t.swapToken.toToken.tokenAddress&&!a.swapTRXState?Object(u.jsx)("div",{className:"box-description",children:Object(u.jsx)(pe,{fromValue:j})}):null,Object(u.jsx)(xe,{errorTip:l,priceImpactColor:y,showSwapModal:tt}),l===d.a.get("trade.tip_1")?Object(u.jsx)("div",{className:"error-text",children:d.a.get("trade.tip_2")}):""]})]}),Object(u.jsx)(_e,{visible:M,swapData:{fromValue:j,toValue:h,priceStr:w,priceInverseStr:k,priceImpactColor:y,miniPopVisible:!1},hideSwapModal:ot,onRetryAction:nt,beforeSwapToken:st,beforeHideSwapModal:at}),Object(u.jsx)(me.a,{visible:D,confirm:it,cancel:ct}),Object(u.jsx)(u.Fragment,{}),Object(u.jsx)(ue.c,{onSelect:He,ref:H,onCustomImported:dt,modalKey:ue.a.TokenSelectModalKey,theme:n.theme}),Object(u.jsx)(Ye.a,{visible:X,cb:t.handleDealWarningContinue,dealWarningSymbol:z[0]})]})})},et=a.p+"static/media/bg_tvl1.1e2187ca.svg",tt=a.p+"static/media/bg_tvl2.9cd58cac.svg",at=a.p+"static/media/bg_tvl3.685136ad.svg",ot=a.p+"static/media/bg_tvl4.77e0e7cd.svg",st=a.p+"static/media/banner_sun.2003f75b.png",nt=a.p+"static/media/banner_sun_light.5e2d031d.png",it=a.p+"static/media/ico_sun.588d297f.gif",ct=a.p+"static/media/ico_sun_light.9494beb1.gif",lt=a.p+"static/media/banner_pump_sun.4bf1de63.png",rt=a.p+"static/media/banner_pump_sun_light.0480a66b.png",dt=a.p+"static/media/bg_pump_sun.ba84ee1d.png",pt=a.p+"static/media/bg_pump_sun_light.33a8ddae.png";a(1712);var ut=e=>{const t=Object(o.d)((()=>c.default.themeStore)),a=()=>{window.open(i.default.pump.homeLink,"_blank")};return Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)("div",{className:"hero-intro-pump-card",children:[Object(u.jsx)("div",{className:"hero-intro-pump-card-banner",onClick:a,children:Object(u.jsx)("img",{src:"dark"===t.theme?lt:rt,alt:"pump"})}),Object(u.jsxs)("div",{className:"hero-intro-pump-card-sun-intro-card",children:[Object(u.jsx)("div",{className:"hero-intro-pump-card-title",children:d.a.get("home.section.sun_ecosystem")}),Object(u.jsxs)("div",{className:"hero-intro-pump-card-main",children:[Object(u.jsxs)("div",{className:"hero-intro-pump-card-main-l",children:[Object(u.jsx)("div",{className:"hero-intro-pump-card-content",children:d.a.get("banner.desc_home")}),Object(u.jsx)("div",{className:"hero-intro-pump-card-content",children:d.a.get("homeLegal.title")})]}),Object(u.jsx)("div",{className:"hero-intro-pump-card-main-r",children:Object(u.jsx)("img",{src:"dark"===t.theme?dt:pt,alt:"banner"})})]})]})]})})};const bt=e=>e&&Object(u.jsx)(te.a,{className:"tvl-count-up",end:Number(Object(V.jb)(e,0)),duration:1,prefix:"$",separator:","}),mt=e=>{const t=Object(o.d)((()=>c.default.themeStore));return Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"hero-intro-card",children:[Object(u.jsx)("div",{className:"title",children:d.a.get("home.section.sun_ecosystem")}),Object(u.jsx)("div",{className:"content",children:d.a.get("banner.desc_home")}),Object(u.jsx)("div",{className:"content",children:d.a.get("homeLegal.title")}),Object(u.jsxs)("div",{className:"banner-wrap",children:[Object(u.jsx)("img",{className:"banner-wrap-icon",src:"dark"===t.theme?it:ct,alt:"sun"}),Object(u.jsx)("img",{className:"banner-wrap-bg",src:"dark"===t.theme?st:nt,alt:"banner"})]})]}),Object(u.jsx)(ut,{})]})})},jt=()=>{const e=Object(o.d)((()=>c.default.pool)),t=Object(o.d)((()=>c.default.home)),[a,s]=n.a.useState({});return n.a.useEffect((()=>{(async()=>{await e.getHomePageBottomApy(),await e.getVolumeData();const{allSwaps:a,miningPools:o,stableCoins:s,totalTvl:n}=await t.getAllTvlData();return{allSwaps:a,miningPools:o,stableCoins:s,totalTvl:n}})().then(s)}),[]),n.a.useEffect((()=>{const e=["totalTvl","stableCoins","allSwaps","miningPools"],t=setInterval((()=>{var o;const s=document.querySelectorAll(".tvl-count-up");(null===(o=s[0])||void 0===o?void 0:o.innerHTML)==="$"+Object(V.c)(Object(V.jb)(a[e[0]],0))&&clearInterval(t),s.forEach(((t,o)=>{t.innerHTML="$"+Object(V.c)(Object(V.jb)(a[e[o]],0))}))}),1e3);return()=>{clearInterval(t)}}),[a]),Object(u.jsx)(o.a,{children:()=>Object(u.jsx)("div",{className:"tvl-card-wrap",children:[{title:d.a.get("banner.total_value"),content:bt(a.totalTvl),icon:et},{title:d.a.get("banner.total_value_stable"),content:bt(a.stableCoins),icon:tt},{title:d.a.get("banner.total_value_sunswap"),content:bt(a.allSwaps),icon:at},{title:d.a.get("banner.total_value_mining"),content:bt(a.miningPools),icon:ot}].map((e=>{let{title:t,content:a,icon:o}=e;return Object(u.jsxs)("div",{className:"tvl-card-item",children:[Object(u.jsx)("div",{className:"tvl-card-title",children:t}),Object(u.jsx)("div",{className:"tvl-card-text",children:a}),Object(u.jsx)("img",{className:"tvl-card-img",src:o,alt:"icon"})]})}))})})};var gt=e=>Object(u.jsx)(o.a,{children:()=>Object(u.jsxs)("div",{className:"hero-bg",children:[Object(u.jsxs)("div",{className:"hero",children:[Object(u.jsx)($e,{}),Object(u.jsx)(mt,{})]}),Object(u.jsx)(jt,{})]})});t.default=()=>{let e=null;const t=Object(o.d)((()=>c.default.pool)),a=(Object(o.d)((()=>c.default.usdcPool)),Object(o.d)((()=>c.default.usdc2Pool)),Object(o.d)((()=>c.default.tusdPool)),Object(o.d)((()=>c.default.usddPool)),Object(o.d)((()=>c.default.twoKeyPool)),Object(o.d)((()=>c.default.twoKeyNewPool)),Object(o.d)((()=>c.default.network))),s=async()=>{await Promise.all([t.getHomePageBottomApy(),t.getVolumeData()])};return n.a.useEffect((()=>(window.scrollTo(0,0),e||(e=setInterval((async()=>{await s()}),a.defaultIntervalSec)),()=>{clearInterval(e)})),[]),Object(u.jsxs)("div",{className:"home-page",children:[Object(u.jsx)(l.a,{routeName:"home",instantActions:s,mountedActions:async()=>{}}),Object(u.jsxs)("div",{className:"home-page-content",children:[Object(u.jsx)(gt,{}),Object(u.jsx)(q,{}),Object(u.jsx)(G,{}),Object(u.jsx)($,{})]})]})}}}]);