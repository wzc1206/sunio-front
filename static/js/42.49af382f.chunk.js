(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[42],{1002:function(e,t,a){"use strict";var n=a(0),o=a(1036),_=a(12),r=a.n(_),c=a(86),l=a(96),s=a(1045),i=a(1066),d=a(3);const m=e=>{const t=Object(c.d)((()=>l.default.network));return Object(d.jsx)(o.a,{img:s.a,emptyText:e&&e.emptyText?e.emptyText:r.a.get("buysell.error_msg_3"),btnText:r.a.get("header.connect_wallet"),onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),className:i.wallet_not_connect})};t.a=Object(n.memo)(m)},1033:function(e,t,a){"use strict";var n=a(0),o=a(45),_=a(375),r=a(10),c=a.n(r),l=a(1040),s=a.n(l),i=a(117),d=a(77),m=a(12),b=a.n(m),p=a(3);const j=e=>{const{showMax:t,onMaxClick:a,className:n,themes:r,...l}=e,m=Object(i.useCurrentThemeConfig)();return Object(p.jsx)(o.a,{theme:{token:{colorBgContainer:m["color-input-bg"],colorBorder:"transparent",colorPrimaryHover:m["color-a"],colorText:m["color-text-default"],controlOutline:"none",colorIcon:m["color-text-default"],colorFillAlter:m["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:m["color-text-default"],colorBgContainerDisabled:Object(d.a)(m["color-input-bg"],.5),colorTextDisabled:Object(d.a)(m["color-text-default"],.5),colorTextPlaceholder:m["color-text-default-3"],...r}},children:Object(p.jsx)(_.a,{className:c()("pure-comp",n),size:"large",suffix:t?Object(p.jsx)("span",{className:s.a.max_btn,onClick:()=>a&&a(),children:b.a.get("swap.input_from_max")}):null,...l})})};t.a=Object(n.memo)(j)},1040:function(e,t,a){e.exports={"page-head":"style_page-head__3Df8R",link:"style_link__13CUf","gradient-title":"style_gradient-title__2a8zy",animateTitle:"style_animateTitle__3AmLh","dim-content":"style_dim-content__33wh4",uppercase:"style_uppercase__3nmXo","window-for-tabs-pane":"style_window-for-tabs-pane__19SGv","dark-btn":"style_dark-btn__3l8ji","purple-btn":"style_purple-btn__37XNP","cur-input":"style_cur-input__3Kzlm","max-btn":"style_max-btn__WydB3",max_btn:"style_max_btn__29JsD"}},1045:function(e,t,a){"use strict";t.a=a.p+"static/media/big_connect_wallet.8e467f71.svg"},1060:function(e,t,a){"use strict";var n=a(0),o=a(10),_=a.n(o),r=a(1111),c=a.n(r),l=a(3);const s=e=>{const{items:t,bordered:a=!0,responsive:n,layout:o,responsiveLayout:s="v",className:i,style:d={}}=e;return Object(l.jsx)("div",{className:_()(r.info_box,{[r.info_box_no_border]:!a,[r.info_box_responsive]:n,[r.info_box_v]:"v"===o,[c.a.info_box_responsive_h]:"h"===s,[c.a.info_box_responsive_v]:"h"!==s},i),style:d,children:t.map(((e,t)=>Object(l.jsxs)("div",{className:r.info_box_item,children:[Object(l.jsx)("div",{className:r.info_box_label,children:e.label}),Object(l.jsx)("div",{className:r.info_box_value,children:e.value})]},t)))})};t.a=Object(n.memo)(s)},1066:function(e,t,a){e.exports={wallet_not_connect:"style_wallet_not_connect__2Qekr"}},1084:function(e,t,a){"use strict";var n=a(0),o=a(10),_=a.n(o),r=a(117),c=a(3);const l=e=>{let{color:t="#fff",size:a,className:n}=e;return Object(c.jsxs)("svg",{className:n,width:a,height:a,viewBox:"0 0 50 50",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("title",{children:"jiazai 2"}),Object(c.jsx)("g",{id:"\u9875\u9762-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",opacity:"0.5",children:Object(c.jsx)("g",{id:"\u94b1\u5305-\u4e0b\u62c9\u52a0\u8f7d",transform:"translate(-163.000000, -393.000000)",fill:t,"fill-rule":"nonzero",children:Object(c.jsxs)("g",{id:"jiazai",transform:"translate(163.000000, 393.000000)",children:[Object(c.jsx)("path",{d:"M38.0196954,11.2989938 C38.0196954,12.8291057 39.2595369,14.0695065 40.7889588,14.0695065 C42.3183807,14.0695065 43.5582222,12.8291057 43.5582222,11.2989938 C43.5582222,9.76888196 42.3183807,8.52848121 40.7889588,8.52848121 C39.2595369,8.52848121 38.0196954,9.76888196 38.0196954,11.2989938 L38.0196954,11.2989938 Z",id:"\u8def\u5f84",opacity:"0.200000003"}),Object(c.jsx)("path",{d:"M43.1636612,26.2713432 C43.1635122,27.4931878 43.8149789,28.6222826 44.8726255,29.233248 C45.930272,29.8442134 47.2333893,29.8442134 48.2910358,29.233248 C49.3486823,28.6222826 50.0001491,27.4931878 50,26.2713432 C50.0001491,25.0494985 49.3486823,23.9204037 48.2910358,23.3094383 C47.2333893,22.698473 45.930272,22.698473 44.8726255,23.3094383 C43.8149789,23.9204037 43.1635122,25.0494985 43.1636612,26.2713432 Z",id:"\u8def\u5f84",opacity:"0.300000012"}),Object(c.jsx)("path",{d:"M36.8947077,41.3187255 C36.8947077,43.5420496 38.6962553,45.34441 40.918577,45.34441 C43.1408986,45.34441 44.9424463,43.5420496 44.9424463,41.3187255 C44.9424463,39.8804869 44.1755012,38.5514996 42.9305117,37.8323803 C41.6855221,37.113261 40.1516318,37.113261 38.9066423,37.8323803 C37.6616527,38.5514996 36.8947077,39.8804869 36.8947077,41.3187255 L36.8947077,41.3187255 Z",id:"\u8def\u5f84",opacity:"0.400000006"}),Object(c.jsx)("path",{d:"M21.2304758,47.3360473 C21.2303016,49.002259 22.1187142,50.5419767 23.5610163,51.3751329 C25.0033183,52.208289 26.780358,52.208289 28.22266,51.3751329 C29.6649621,50.5419767 30.5533746,49.002259 30.5532005,47.3360473 C30.5533746,45.6698355 29.6649621,44.1301178 28.22266,43.2969616 C26.780358,42.4638055 25.0033183,42.4638055 23.5610163,43.2969616 C22.1187142,44.1301178 21.2303016,45.6698355 21.2304758,47.3360473 L21.2304758,47.3360473 Z",id:"\u8def\u5f84",opacity:"0.5"}),Object(c.jsx)("path",{d:"M5.87031663,41.0822084 C5.87031663,42.9379907 6.85991824,44.6528042 8.46634818,45.5806954 C10.0727781,46.5085866 12.0519814,46.5085866 13.6584114,45.5806954 C15.2648413,44.6528042 16.2544429,42.9379907 16.2544429,41.0822084 C16.2544429,38.2134175 13.9298771,35.887803 11.0623798,35.887803 C8.19488248,35.887803 5.87031663,38.2134175 5.87031663,41.0822084 Z",id:"\u8def\u5f84",opacity:"0.600000024"}),Object(c.jsx)("path",{d:"M20.4878208,5.49779981 C20.4878208,8.53415075 22.9481597,10.9955995 25.9831415,10.9955995 C29.0181233,10.9955995 31.4784622,8.53415075 31.4784622,5.49779981 C31.4784622,3.53362513 30.43106,1.71865287 28.7308019,0.736565514 C27.0305437,-0.245521838 24.9357392,-0.245521838 23.2354811,0.736565514 C21.5352229,1.71865287 20.4878208,3.53362513 20.4878208,5.49779981 Z",id:"\u8def\u5f84"}),Object(c.jsx)("path",{d:"M5.56705906,11.4286705 C5.56705906,13.3928452 6.61446124,15.2078174 8.31471939,16.1899048 C10.0149775,17.1719921 12.109782,17.1719921 13.8100401,16.1899048 C15.5102983,15.2078174 16.5577005,13.3928452 16.5577005,11.4286705 C16.5577005,8.39231957 14.0973616,5.93087081 11.0623798,5.93087081 C8.02739795,5.93087081 5.56705906,8.39231957 5.56705906,11.4286705 L5.56705906,11.4286705 Z",id:"\u8def\u5f84",opacity:"0.800000012"}),Object(c.jsx)("path",{d:"M0,26.098441 C0,27.9699577 0.997992014,29.6993104 2.61804218,30.6350688 C4.23809234,31.5708271 6.23407646,31.5708271 7.85412662,30.6350688 C9.47417678,29.6993104 10.4721688,27.9699577 10.4721688,26.098441 C10.4721688,23.2053269 8.12789396,20.8599946 5.2360844,20.8599946 C2.34427484,20.8599946 0,23.2053269 0,26.098441 L0,26.098441 Z",id:"\u8def\u5f84",opacity:"0.699999988"})]})})})]})},s=e=>{const{className:t,style:a,size:n=20,darkColor:o="#fff",lightColor:s="#000"}=e,i=Object(r.useCurrentTheme)();return Object(c.jsx)("div",{className:_()("infinite-loading",t),style:a,children:Object(c.jsx)(l,{size:n,className:"infinite-loading-circle",color:"dark"===i?o:s})})};t.a=Object(n.memo)(s)},1085:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),o=a(45),_=a(2229),r=a(10),c=a.n(r),l=a(117),s=a(1086),i=a.n(s),d=a(3);const m=e=>{const t=Object(l.useCurrentThemeConfig)(),{children:a,themes:n,...r}=e;return Object(d.jsx)(o.a,{theme:{token:{colorBgContainer:t["color-input-bg"],colorBorder:t["color-button-bordered"],colorPrimaryHover:t["color-button-bordered-text"],colorText:t["color-text-default"],controlOutline:"none",colorIcon:t["color-text-default"],colorFillAlter:t["color-input-bg"],colorErrorBorderHover:"none",colorErrorOutline:"none",colorTextBase:t["color-text-default"],colorBgElevated:t["color-input-bg"],controlItemBgActive:t["color-select-active"],controlItemBgHover:t["color-text-default-06"],colorTextQuaternary:t["color-text-default"],colorBgContainerDisabled:t["color-text-default-06"],colorTextDisabled:t["color-button-bordered-text"],colorTextPlaceholder:t["color-text-default-5"],...n}},children:Object(d.jsx)(_.a,{size:"large",className:c()("pure-comp",i.a.common_select),popupClassName:c()("pure-comp",i.a.common_select_pop),...r,children:a})})},b=_.a.Option;t.b=Object(n.memo)(m)},1086:function(e,t,a){e.exports={common_select_pop:"style_common_select_pop__1Gvf-",common_select:"style_common_select__16Itm"}},1111:function(e,t,a){e.exports={"page-head":"style_page-head__Q5_41",link:"style_link__gpGN-","gradient-title":"style_gradient-title__3TOPy",animateTitle:"style_animateTitle__JszRT","dim-content":"style_dim-content__3_Ul3",uppercase:"style_uppercase__PmEs8","window-for-tabs-pane":"style_window-for-tabs-pane__1V2Lv","dark-btn":"style_dark-btn__DQL_s","purple-btn":"style_purple-btn__2SawB","cur-input":"style_cur-input__37INw","max-btn":"style_max-btn__npQR2",info_box:"style_info_box__1963G",info_box_v:"style_info_box_v__1TfSS",info_box_no_border:"style_info_box_no_border__W8LQy",info_box_item:"style_info_box_item__3JfS2",info_box_label:"style_info_box_label__f3QFH",info_box_value:"style_info_box_value__1v2mN",info_box_responsive:"style_info_box_responsive__3jNYY",info_box_responsive_h:"style_info_box_responsive_h__3eg33"}},1133:function(e,t,a){e.exports={"page-head":"style_page-head__2vH5E",link:"style_link__20M1R","gradient-title":"style_gradient-title__-VNzq",animateTitle:"style_animateTitle__10Ffk","dim-content":"style_dim-content__1xdT1",uppercase:"style_uppercase__2Z3ic","window-for-tabs-pane":"style_window-for-tabs-pane__QORju","dark-btn":"style_dark-btn__1fHOx","purple-btn":"style_purple-btn__2zeWY","cur-input":"style_cur-input__3W7jT","max-btn":"style_max-btn__3AJ5N",tab_content_main:"style_tab_content_main__25Xux",light_with_border:"style_light_with_border__3M2ft",content_title:"style_content_title__3vl4A",content_title_left:"style_content_title_left__3bXRO",content_title_effect:"style_content_title_effect__1G5hJ",content_title_lock_link:"style_content_title_lock_link__3byX0",count_down:"style_count_down__N5XWv",count_down_label:"style_count_down_label__3TkdT",echarts_wrap:"style_echarts_wrap__2KYyH",governance_table:"style_governance_table__2PDzI",pool_logo:"style_pool_logo__3MBz8",vote_form:"style_vote_form__1dThp",vote_infoBox:"style_vote_infoBox__3Vew1",combine_icon:"style_combine_icon__MQmPw",my_vote_table:"style_my_vote_table__2sxW9",mobile_vote_info_box:"style_mobile_vote_info_box__3_OS0",echarts_legend_item:"style_echarts_legend_item__2sxJy",legend_icon:"style_legend_icon__3ufH0",legend_num:"style_legend_num__1BmWT",pool_title:"style_pool_title__2omMI",m_apy_card:"style_m_apy_card__Qg3DX",m_apy_card_time:"style_m_apy_card_time__2i5FQ",m_apy_card_title_border:"style_m_apy_card_title_border__29ZTm",m_apy_card_item:"style_m_apy_card_item__2JxIF",m_apy_card_item_my_vote:"style_m_apy_card_item_my_vote__1JHGQ",m_apy_card_label:"style_m_apy_card_label__2b0Ga",m_apy_card_value:"style_m_apy_card_value__1-Io6"}},1387:function(e,t,a){"use strict";a(0);var n=a(12),o=a.n(n),_=a(1133),r=a.n(_),c=a(3);const l=e=>e>0&&e<10?"0"+e:e;t.a=e=>{let t=e.data;if(-1===t)return Object(c.jsxs)("span",{className:r.a.count_down,children:[Object(c.jsxs)("span",{className:r.a.count_down_label,children:[o.a.get("governance.countdown"),":"]})," --".concat(o.a.get("governance.day")," --").concat(o.a.get("governance.hour")," --").concat(o.a.get("governance.minute")," --").concat(o.a.get("governance.second"))]});let a=Math.floor(t/864e5),n=t%864e5,_=Math.floor(n/36e5),s=n%36e5,i=Math.floor(s/6e4),d=s%6e4,m=Math.round(d/1e3);return Object(c.jsxs)("span",{className:r.a.count_down,children:[Object(c.jsxs)("span",{className:r.a.count_down_label,children:[o.a.get("governance.countdown"),":"]}),Object(c.jsx)("span",{children:" ".concat(a).concat(o.a.get("governance.day")," ").concat(l(_)).concat(o.a.get("governance.hour")).concat(l(i)).concat(o.a.get("governance.minute")).concat(l(m)).concat(o.a.get("governance.second"))})]})}},2205:function(e,t,a){e.exports={"page-head":"vote_page-head__2VVyn",link:"vote_link__3U0gP","gradient-title":"vote_gradient-title__1rgxy",animateTitle:"vote_animateTitle__3VM5z","dim-content":"vote_dim-content__3UVxL",uppercase:"vote_uppercase__1jvI1","window-for-tabs-pane":"vote_window-for-tabs-pane__s0oCr","dark-btn":"vote_dark-btn__2G08d","purple-btn":"vote_purple-btn__3jjQV","cur-input":"vote_cur-input__2oCj2","max-btn":"vote_max-btn__2x2tR",tab_content_main:"vote_tab_content_main__J3a2-",light_with_border:"vote_light_with_border__28_5M",content_title:"vote_content_title__XxGA0",content_title_left:"vote_content_title_left__2jt3i",content_title_left_img:"vote_content_title_left_img__1_lMV",content_title_left_text:"vote_content_title_left_text__1cW0z",content_title_right:"vote_content_title_right__QLs0s",content_title_effect:"vote_content_title_effect__2T5p7",content_title_effect2:"vote_content_title_effect2__3g66A",content_title_lock_link:"vote_content_title_lock_link__3O_zW",vote_form:"vote_vote_form__3U7Wm",vote_infoBox:"vote_vote_infoBox__j-Itn",combine_icon:"vote_combine_icon__2OF16",legend_wrap:"vote_legend_wrap__2QnK1",echarts_legend_item:"vote_echarts_legend_item__20GUK",title:"vote_title__2FGnc",title_t:"vote_title_t__3MhX1",title_b:"vote_title_b__1-B9a",banner:"vote_banner__31YNz",rank_title:"vote_rank_title__25KDH",rank_row:"vote_rank_row__1dqn2",rank_row_1:"vote_rank_row_1__Ndmz7",rank_row_2:"vote_rank_row_2__3Gx4C",rank_row_3:"vote_rank_row_3__2jqjI",rank_row_4:"vote_rank_row_4__1ub6f",rank_row_5:"vote_rank_row_5__OWLHU",rank_row_6:"vote_rank_row_6__mZtbH",rank_row_logo:"vote_rank_row_logo__3dorD",rank_flag:"vote_rank_flag__2Byhj",rank_max_row:"vote_rank_max_row__d5HCc",rank_header_row:"vote_rank_header_row__2M2PK",rank_list_main:"vote_rank_list_main__2HtZu",rank_list_main_inner:"vote_rank_list_main_inner__3WQcO",rank_main_row:"vote_rank_main_row___bfv0",rank_percent_top:"vote_rank_percent_top__8Xofj",rank_row_mobile:"vote_rank_row_mobile__2aWVT",rank_row_mobile_t:"vote_rank_row_mobile_t__3eQPg",rank_row_mobile_rank_num:"vote_rank_row_mobile_rank_num__8m6eQ",rank_row_mobile_r:"vote_rank_row_mobile_r__2mC5J",rank_row_mobile_r_tokenName:"vote_rank_row_mobile_r_tokenName__1CmB_",rank_row_mobile_r_tokenAddress:"vote_rank_row_mobile_r_tokenAddress__s2M__",rank_row_mobile_b:"vote_rank_row_mobile_b__rycsq",rank_percent:"vote_rank_percent__1XRAz",rank_percent_btm:"vote_rank_percent_btm__3uAqU",rank_percent_bar:"vote_rank_percent_bar__36m_h",rank_percent_bar_inner:"vote_rank_percent_bar_inner__205D-",rank_pagination:"vote_rank_pagination__2esuM",rank_list_empty:"vote_rank_list_empty__2B9fq",rank_list_empty_img:"vote_rank_list_empty_img__xD-IU",content_title_2:"vote_content_title_2__2J0C2",pool_title:"vote_pool_title__3smJw"}},2275:function(e,t,a){"use strict";a.r(t);var n=a(86),o=a(998),_=a(12),r=a.n(_),c=a(30),l=a(0),s=a(2205),i=a.n(s),d=a(2268),m=a(132),b=a(1474),p=a(1476),j=a(45),v=a(1584),u=a(165),g=a(2231),x=a(2228),h=a(1387),f=a(96),k=a(118),O=a(1),y=a(1060),w=a(213),N=a(1706),C=a(117),T=a(1085),S=a(1033),M=a.p+"static/media/banner_vote_zh.95b68f7a.png",P=a.p+"static/media/banner_vote_zh_light.f938c6a4.png",E=a.p+"static/media/banner_vote_en.e5d7263c.png",I=a.p+"static/media/banner_vote_en_light.56fed0a6.png",L=a.p+"static/media/banner_vote_tc.b01bfe55.png",A=a.p+"static/media/banner_vote_tc_light.c9f85918.png",z=a(6),F=a(5),B=a(10),V=a.n(B),H=a.p+"static/media/ico_rank1.2ae00253.svg",D=a.p+"static/media/ico_rank2.3ecfc0f1.svg",Q=a.p+"static/media/ico_rank3.f8dc477f.svg",U=a(1137),J=a(1138),R=a(1245),G=a(1246),W=a(174),Z=a(1084),q=a.p+"static/media/ico_empty.d0852581.png",X=a.p+"static/media/ico_question.39dc58be.svg",K=a.p+"static/media/ico_question_light.e8ab4926.svg",Y=a(1036),$=a(1002),ee=a(59),te=a.n(ee),ae=a(241),ne=a(3);t.default=()=>{const e=1e3,[t,a]=Object(l.useState)(0),_=Object(n.d)((()=>f.default.network)),B=Object(k.default)(k.isMobileOnlyMedia),[ee,oe]=Object(l.useState)([]),[_e,re]=Object(l.useState)(1),[ce,le]=Object(l.useState)(0),[se,ie]=Object(l.useState)(0),[de,me]=Object(l.useState)(!1);let be,[pe,je]=Object(l.useState)(-1);const ve=Object(C.useCurrentTheme)(),ue=Object(n.d)((()=>f.default.system)),ge=window.localStorage.getItem("lang"),[xe,he]=Object(l.useState)({}),fe=Object(C.useCurrentTheme)(),[ke]=d.a.useForm();let Oe="";const[ye,we]=Object(l.useState)(!0),[Ne,Ce]=Object(l.useState)([]),[Te,Se]=Object(l.useState)(""),[Me,Pe]=Object(l.useState)(!1),Ee=window.localStorage.getItem("lang")||r.a.options.currentLocale,Ie={"zh-CN":{dark:M,light:P},"zh-TC":{dark:L,light:A},"en-US":{dark:E,light:I}},Le=()=>{};Object(l.useEffect)((()=>{let e=setInterval((()=>{Ve(),_.isConnected&&Be()}),_.defaultIntervalSec);return()=>{clearInterval(e)}}),[]);const Ae=async()=>{Fe(),Ve()},ze=async()=>{Be()},Fe=async()=>{let e=await Object(c.B)();e.success?a(e.time):setTimeout((()=>{Fe()}),5e3)},Be=async()=>{try{let e=He(),t=De();await e,await t}catch(e){console.log(e)}},Ve=async()=>{},He=async()=>{let e=await Object(z.eb)("0x0000000000000000000000".concat(O.lb.address.toHex(_.defaultAccount)));he((t=>({...t,currentVote:e.value})))},De=async()=>{let e=await Object(z.db)(_.defaultAccount);he((t=>({...t,userUsedPower:e.value.div(100)})))},Qe=()=>{Fe(),Ve(),_.isConnected&&Be()};Object(l.useEffect)((()=>(Ue(),()=>{clearInterval(be)})),[t]);const Ue=async()=>{F.default.pump.voteStartTime>t?je(F.default.pump.voteStartTime-t):F.default.pump.voteEndTime<=t?je(-1):F.default.pump.voteEndTime-t>=0?je(F.default.pump.voteEndTime-t):Qe(),clearInterval(be),be=setInterval((()=>{je((t=>t-e>=0?t-e:(clearInterval(be),Qe(),0)))}),e)},Je=async e=>{let t=await Object(z.fb)(_.defaultAccount,e.poolType);console.log("pumpUserLastVote",t.value.toString());const a=t.value.eq(0)?e.votePercent:Object(O.a)(e.votePercent).plus(t.value.div(100)).toString(),n=Ne.filter((t=>t.tokenAddress===e.poolType))[0].tokenName;try{const t={title:"actions.vote_for_gauge_weights",obj:{percent:"".concat(Object(O.u)(e.votePercent),"%"),pool:n}};let o=Object(O.a)(a).times(100)._toIntegerDown()._toHex();await ue.votePumpToken(o,"0x0000000000000000000000".concat(O.lb.address.toHex(e.poolType)),t)&&setTimeout((()=>{Ve(),Be(),1===_e?Ke(_e):Ye(1),ke.resetFields()}),5e3)}catch(o){console.log(o)}},Re=e=>{we(!0)},Ge=()=>{ke.validateFields().then((e=>{we(!1)})).catch((e=>{we(!0)}))},We=e=>{if(e.target&&"percent"===e.target.name){if(""===e.target.value)return void ke.setFieldsValue({votePercent:""});let a=e.target.value;if(Object(O.a)(a).lte(100)){var t;let e=a.split(".");(null===(t=e[1])||void 0===t?void 0:t.length)>2&&(a="".concat(e[0]+"."+e[1].substr(0,2))),(e=>{if(e){const{valid:t,str:a}=Object(O.Z)(e,2);if(t)Oe=a,ke.setFieldsValue({votePercent:a});else{let e="";ke.getFieldsValue().votePercent.length>1&&(e=Oe),ke.setFieldsValue({votePercent:e})}}})(a)}else ke.setFieldsValue({votePercent:Oe})}Ge()},Ze=[H,D,Q],qe=e=>{const t=e+1;return t>3?Object(ne.jsx)("span",{children:t}):Object(ne.jsx)("img",{src:Ze[e],alt:"rank"})},Xe=e=>{let t="0";if(0!==se)return t=e.votes>se?"100%":Object(O.a)(e.votes).div(se).times(100).isLessThan(new O.a("0.25"))?"0.25%":Object(O.a)(e.votes).div(se).times(100).toString()+"%",Object(ne.jsxs)("div",{className:i.a.rank_percent,children:[Object(ne.jsx)("div",{className:i.a.rank_percent_top,children:Object(O.c)(e.votes)}),Object(ne.jsx)("div",{className:i.a.rank_percent_btm,children:Object(ne.jsx)("div",{className:i.a.rank_percent_bar,children:Object(ne.jsx)("div",{className:i.a.rank_percent_bar_inner,style:{width:t}})})})]})},Ke=async e=>{me(!0);const t=await Object(c.P)({voteAddress:F.default.pump.pumpVoteContract,pageNo:e,pageSize:20,hasVotes:!0});if(t&&t.data&&t.data.voteList.list.length>0){const e=t.data.voteList.list.map(((e,a)=>({...e,index:20*(t.data.currentPage-1)+a})));oe(e),le(t.data.total),re(t.data.currentPage)}t&&t.data&&t.data.voteList.votesTarget&&ie(t.data.voteList.votesTarget),me(!1)};Object(l.useEffect)((()=>{Ke(_e)}),[_e]);const Ye=e=>{re(e)},$e=()=>{Te||tt("")},et=te.a.debounce((e=>{tt(e)}),500),tt=async e=>{Pe(!0);const t=await Object(c.P)({voteAddress:F.default.pump.pumpVoteContract,pageNo:1,pageSize:20,keyword:e,hasVotes:!1});t&&t.data&&t.data.voteList.list.length>0?Ce(t.data.voteList.list):Ce([]),Pe(!1)},at=e=>{Se(e),Ge()},nt=e=>{window.open("".concat(F.default.pump.homeLink,"token/").concat(e),"_blank")};return Object(ne.jsx)(n.a,{children:()=>Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(o.a,{routeName:"pumpVote",instantActions:Ae,mountedActions:ze}),Object(ne.jsxs)("div",{className:"main-page-content",children:[pe>0&&Object(ne.jsxs)("div",{className:i.a.title,children:[Object(ne.jsx)("div",{className:i.a.title_t,children:r.a.get("pump.vote.title")}),Object(ne.jsx)("div",{className:i.a.title_b,children:r.a.getHTML("pump.vote.sub_desc",{value:Object(O.c)(se),announcement:"en-US"===Ee?F.default.pump.announcementLink_en:F.default.pump.announcementLink})})]}),pe<=0&&Object(ne.jsx)("div",{className:i.a.banner,children:Object(ne.jsx)("img",{onClick:Le,src:Ie[Ee][fe],alt:"sunpump"})}),pe>0&&Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsx)("div",{className:s.tab_content_main,children:_.isConnected?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("div",{className:i.a.content_title,style:{marginTop:0},children:[Object(ne.jsx)("span",{className:i.a.content_title_left,children:r.a.get("governance.my_vote")}),Object(ne.jsxs)("div",{className:i.a.content_title_right,children:[Object(ne.jsx)(m.a,{title:r.a.getHTML("pump.vote.stake_tips"),trigger:["hover","click"],children:Object(ne.jsx)(ae.a,{fullFilled:!0,style:{marginRight:6}})}),Object(ne.jsxs)(w.a,{href:"/?lang=".concat(ge,"#/stake?modalShow=LockModal"),className:i.a.content_title_lock_link,children:[r.a.get("governance.to_lock_sun"),Object(ne.jsx)(N.a,{style:{fontSize:10,marginLeft:5}})]})]})]}),Object(ne.jsxs)(b.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(ne.jsx)(p.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},children:Object(ne.jsx)(y.a,{className:i.a.vote_infoBox,items:[{label:r.a.get("governance.current_votes"),value:Object(O.u)(xe.currentVote)},{label:r.a.get("governance.votes_used"),value:Object(O.u)(xe.userUsedPower,{miniText:.01})+"%"}],responsive:!0,responsiveLayout:"h",style:{height:"132px",padding:B?"10px 10px 12px":"24px"}})}),Object(ne.jsx)(p.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},children:Object(ne.jsx)(j.a,{theme:{components:{Form:{colorError:fe["color-warning"]},Select:{colorError:fe["color-a"],colorErrorHover:fe["color-a"],colorErrorBorder:fe["color-a"]},Input:{borderRadius:"5px",colorError:fe["color-a"],colorErrorHover:fe["color-a"],colorErrorBorder:fe["color-a"]}}},children:Object(ne.jsxs)(d.a,{form:ke,layout:"vertical",name:"control-hooks",onFinish:Je,onFinishFailed:Re,requiredMark:!1,children:[Object(ne.jsxs)("div",{className:i.a.vote_form,children:[Object(ne.jsx)(d.a.Item,{name:"poolType",label:r.a.get("pump.vote.choose_token"),colon:!1,rules:[{required:!0,message:r.a.get("pump.vote.choose_token_placeholder")}],children:Object(ne.jsx)(T.b,{placeholder:r.a.get("pump.vote.choose_token_placeholder"),placement:"bottomRight",dropdownAlign:{overflow:{adjustY:0}},showSearch:!0,value:Te,defaultActiveFirstOption:!1,suffixIcon:null,filterOption:!1,onSearch:et,onFocus:$e,onChange:at,loading:Me,notFoundContent:Object(ne.jsx)(v.a,{description:r.a.get("governance.empty_text"),image:v.a.PRESENTED_IMAGE_SIMPLE}),children:[...Ne.length>0?Ne.map(((e,t)=>Object(ne.jsxs)(T.a,{value:e.tokenAddress,className:i.a.combine_icon,children:[Object(ne.jsx)("img",{src:e.tokenLogo,onError:e=>{e.target.onerror=null,e.target.src=W.a},alt:"logo"}),Object(ne.jsx)("span",{children:e.tokenName}),Object(ne.jsxs)("span",{children:["\uff08",Object(O.r)(e.tokenAddress,8,4),"\uff09"]})]},e.tokenAddress))):[]]})}),Object(ne.jsx)(d.a.Item,{name:"votePercent",label:r.a.get("governance.input_percent"),colon:!1,rules:[{validator:(e,t)=>(async e=>{if(ke.getFieldValue("poolType"),xe.currentVote.isEqualTo(0))return Promise.reject(new Error(r.a.get("governance.my_vote_tips4")));let t=+Object(O.a)(100).minus(xe.userUsedPower).toString();return e&&e>t?Promise.reject(new Error(r.a.get("governance.input_error_msg",{value:t}))):e?Promise.resolve():Promise.reject(new Error(r.a.get("governance.my_vote_tips5")))})(t)}],style:{width:B?"100%":160,flexShrink:0},children:Object(ne.jsx)(S.a,{placeholder:r.a.get("governance.input_number"),name:"percent",autoComplete:"off",suffix:"%",onChange:We})})]}),Object(ne.jsx)(d.a.Item,{style:{marginBottom:0},children:Object(ne.jsx)(u.a,{size:"large",block:!0,className:"vote-btn",type:"primary",htmlType:"submit",disabled:ye||t<F.default.pump.voteStartTime,children:t<F.default.pump.voteStartTime?r.a.get("pump.vote.unStart"):r.a.get("governance.vote")})})]})})})]})]}):Object(ne.jsx)($.a,{})})}),Object(ne.jsx)("div",{className:i.a.rank_title,children:r.a.get("pump.vote.rank_title")}),Object(ne.jsxs)("div",{className:V()(i.a.content_title,i.a.content_title_2),children:[Object(ne.jsxs)("span",{className:i.a.content_title_left,children:[Object(ne.jsx)("img",{className:i.a.content_title_left_img,src:"dark"===fe?X:K,alt:"tip"}),Object(ne.jsx)("div",{className:i.a.content_title_left_text,children:r.a.get("pump.vote.rank_tip")})]}),t?Object(ne.jsx)(ne.Fragment,{children:pe>0?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("span",{className:i.a.content_title_effect,children:t<F.default.pump.voteStartTime?r.a.get("pump.vote.start_time",{value:new Date(parseInt(F.default.pump.voteStartTime)).format("yyyy-MM-dd h:m:s")}):r.a.get("pump.vote.effect_time",{value:new Date(parseInt(F.default.pump.voteEndTime)).format("yyyy-MM-dd h:m:s")})}),Object(ne.jsx)(h.a,{style:{marginRight:0},data:pe})]}):Object(ne.jsx)("span",{className:V()(i.a.content_title_effect,i.a.content_title_effect2),children:r.a.get("pump.vote.vote_end",{value:new Date(parseInt(F.default.pump.voteEndTime)).format("yyyy-MM-dd h:m:s")})})}):Object(ne.jsx)(ne.Fragment,{})]}),Object(ne.jsxs)("div",{className:i.a.rank_list_wrap,children:[Object(ne.jsxs)("div",{className:V()(i.a.rank_row,i.a.rank_header_row),children:[Object(ne.jsx)("div",{className:i.a.rank_row_1}),Object(ne.jsx)("div",{className:i.a.rank_row_2}),Object(ne.jsx)("div",{className:i.a.rank_row_3,children:Object(ne.jsx)("span",{children:r.a.get("pump.vote.list_title3")})}),Object(ne.jsx)("div",{className:i.a.rank_row_4,children:Object(ne.jsx)("span",{children:r.a.get("pump.vote.list_title4")})}),Object(ne.jsx)("div",{className:i.a.rank_row_5,children:Object(ne.jsx)("span",{children:r.a.get("pump.vote.list_title5")})}),Object(ne.jsx)("div",{className:i.a.rank_row_6})]}),Object(ne.jsx)("div",{className:i.a.rank_list_main,children:Object(ne.jsx)(g.a,{spinning:de,indicator:Object(ne.jsx)(Z.a,{size:30,className:"dark-table-loading"}),children:Object(ne.jsx)("div",{className:i.a.rank_list_main_inner,children:ee.length>0?ee.map(((e,t)=>Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("div",{className:V()(i.a.rank_row,i.a.rank_main_row),onClick:()=>nt(e.tokenAddress),children:[Object(ne.jsx)("div",{className:i.a.rank_row_1,children:qe(e.index)}),Object(ne.jsx)("div",{className:i.a.rank_row_2,children:Object(ne.jsx)("div",{className:i.a.rank_row_logo,children:Object(ne.jsx)("img",{src:e.tokenLogo,onError:e=>{e.target.onerror=null,e.target.src=W.a},alt:"logo"})})}),Object(ne.jsx)("div",{className:i.a.rank_row_3,children:Object(ne.jsx)("span",{children:e.tokenName})}),Object(ne.jsx)("div",{className:i.a.rank_row_4,children:Object(ne.jsx)("span",{children:Object(O.r)(e.tokenAddress,6,4)})}),Object(ne.jsx)("div",{className:i.a.rank_row_5,children:Xe(e)}),Object(ne.jsx)("div",{className:i.a.rank_row_6,children:Object(ne.jsx)(m.a,{placement:"bottom",title:r.a.get("pump.vote.falg_tip",{value:Object(O.c)(se)}),children:Object(ne.jsx)("div",{className:V()(i.a.rank_flag,{[i.a.rank_max_row]:e.votes>=se})})})})]},"".concat(t,"_").concat(e.tokenAddress)),Object(ne.jsxs)("div",{className:i.a.rank_row_mobile,onClick:()=>nt(e.tokenAddress),children:[Object(ne.jsxs)("div",{className:i.a.rank_row_mobile_t,children:[Object(ne.jsx)("div",{className:i.a.rank_row_mobile_rank_num,children:qe(e.index)}),Object(ne.jsx)("div",{className:i.a.rank_row_mobile_l,children:Object(ne.jsx)("div",{className:i.a.rank_row_logo,children:Object(ne.jsx)("img",{src:e.tokenLogo,onError:e=>{e.target.onerror=null,e.target.src=W.a},alt:"logo"})})}),Object(ne.jsxs)("div",{className:i.a.rank_row_mobile_r,children:[Object(ne.jsx)("div",{className:i.a.rank_row_mobile_r_tokenName,children:e.tokenName}),Object(ne.jsx)("div",{className:i.a.rank_row_mobile_r_tokenAddress,children:Object(O.r)(e.tokenAddress,6,4)})]})]}),Object(ne.jsxs)("div",{className:i.a.rank_row_mobile_b,children:[Xe(e),Object(ne.jsx)("div",{onClick:e=>{e.stopPropagation()},children:Object(ne.jsx)(m.a,{trigger:"click",placement:"bottom",title:r.a.get("pump.vote.falg_tip",{value:Object(O.c)(se)}),children:Object(ne.jsx)("div",{className:V()(i.a.rank_flag,{[i.a.rank_max_row]:e.votes>=se})})})})]})]},e.tokenAddress)]}))):!de&&Object(ne.jsx)("div",{className:i.a.rank_list_empty,children:Object(ne.jsx)(Y.a,{img:q,emptyText:r.a.get("governance.empty_text")})})})})}),Object(ne.jsx)("div",{className:i.a.rank_pagination,children:Object(ne.jsx)(x.a,{itemRender:(e,t,a)=>"prev"===t?Object(ne.jsx)("img",{alt:"pre",src:"dark"===ve?U.a:R.a}):"next"===t?Object(ne.jsx)("img",{alt:"next",src:"dark"===ve?J.a:G.a}):a,current:_e,size:"small",onChange:Ye,pageSize:20,total:ce})})]})]})]})})}}}]);